<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>shell</title>
<link href='/css/base.dark.css' rel='stylesheet' type='text/css' />
<link href='/css/github.dark.css' rel='stylesheet' type='text/css' />
<script src="/js/change_zhuti.js"></script>
<script src="/js/click_start.js"></script>
</head>
<body class='typora-export os-windows' >
<div  id='write'  class = 'is-node'><h2><a name='header-n0' class='md-header-anchor '></a><a href='http://www.runoob.com/linux/linux-shell.html'>shell教程</a></h2><div class='md-toc' mdtype='toc'><p class="md-toc-content"><span class="md-toc-item md-toc-h2" data-ref="n0"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n0">shell教程</a></span><span class="md-toc-item md-toc-h2" data-ref="n1214"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1214">Shell Script</a></span><span class="md-toc-item md-toc-h2" data-ref="n13"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n13">shell脚本结构</a></span><span class="md-toc-item md-toc-h2" data-ref="n18"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n18">运行 Shell 脚本有两种方法：</a></span><span class="md-toc-item md-toc-h2" data-ref="n28"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n28">Shell 注释</a></span><span class="md-toc-item md-toc-h3" data-ref="n34"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n34">多行注释</a></span><span class="md-toc-item md-toc-h2" data-ref="n39"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n39">Shell 变量</a></span><span class="md-toc-item md-toc-h4" data-ref="n51"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n51">除了显式地直接赋值，还可以用语句给变量赋值，如：</a></span><span class="md-toc-item md-toc-h3" data-ref="n54"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n54"><strong>使用变量</strong></a></span><span class="md-toc-item md-toc-h3" data-ref="n64"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n64">只读变量</a></span><span class="md-toc-item md-toc-h3" data-ref="n70"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n70">删除变量</a></span><span class="md-toc-item md-toc-h3" data-ref="n77"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n77">变量类型</a></span><span class="md-toc-item md-toc-h2" data-ref="n87"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n87">Shell 字符串</a></span><span class="md-toc-item md-toc-h3" data-ref="n89"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n89">单引号</a></span><span class="md-toc-item md-toc-h3" data-ref="n97"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n97">双引号</a></span><span class="md-toc-item md-toc-h3" data-ref="n107"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n107">拼接字符串</a></span><span class="md-toc-item md-toc-h3" data-ref="n111"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n111">获取字符串长度</a></span><span class="md-toc-item md-toc-h3" data-ref="n117"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n117">提取子字符串</a></span><span class="md-toc-item md-toc-h3" data-ref="n161"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n161">查找子字符串</a></span><span class="md-toc-item md-toc-h2" data-ref="n166"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n166"><strong>read 命令用于获取键盘输入信息</strong></a></span><span class="md-toc-item md-toc-h2" data-ref="n174"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n174">Shell 数组</a></span><span class="md-toc-item md-toc-h3" data-ref="n177"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n177">定义数组</a></span><span class="md-toc-item md-toc-h3" data-ref="n192"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n192">读取数组</a></span><span class="md-toc-item md-toc-h3" data-ref="n204"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n204">获取数组的长度</a></span><span class="md-toc-item md-toc-h2" data-ref="n208"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n208">遍历数组</a></span><span class="md-toc-item md-toc-h3" data-ref="n211"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n211">Bourne shell（原生kernel下）下不支持数组，只能通过模拟来实现类似数组功能。</a></span><span class="md-toc-item md-toc-h5" data-ref="n212"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n212">实例 1</a></span><span class="md-toc-item md-toc-h5" data-ref="n216"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n216">实例 2</a></span><span class="md-toc-item md-toc-h2" data-ref="n221"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n221">Shell 传递参数</a></span><span class="md-toc-item md-toc-h4" data-ref="n223"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n223">实例</a></span><span class="md-toc-item md-toc-h4" data-ref="n228"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n228">特殊字符用来处理参数：</a></span><span class="md-toc-item md-toc-h4" data-ref="n257"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n257">$* 与 $@ 区别：</a></span><span class="md-toc-item md-toc-h2" data-ref="n284"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n284">Shell 基本运算符</a></span><span class="md-toc-item md-toc-h3" data-ref="n297"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n297">算术运算符</a></span><span class="md-toc-item md-toc-h3" data-ref="n337"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n337">实例</a></span><span class="md-toc-item md-toc-h3" data-ref="n351"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n351">关系运算符</a></span><span class="md-toc-item md-toc-h3" data-ref="n383"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n383">实例</a></span><span class="md-toc-item md-toc-h3" data-ref="n388"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n388">布尔运算符</a></span><span class="md-toc-item md-toc-h3" data-ref="n407"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n407">实例</a></span><span class="md-toc-item md-toc-h3" data-ref="n412"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n412">逻辑运算符</a></span><span class="md-toc-item md-toc-h3" data-ref="n427"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n427">实例</a></span><span class="md-toc-item md-toc-h3" data-ref="n432"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n432">字符串运算符</a></span><span class="md-toc-item md-toc-h3" data-ref="n459"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n459">实例</a></span><span class="md-toc-item md-toc-h3" data-ref="n464"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n464">文件测试运算符</a></span><span class="md-toc-item md-toc-h3" data-ref="n524"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n524">实例</a></span><span class="md-toc-item md-toc-h2" data-ref="n605"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n605">中括号（包括单中括号与双中括号）</a></span><span class="md-toc-item md-toc-h2" data-ref="n638"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n638">命令：let</a></span><span class="md-toc-item md-toc-h3" data-ref="n640"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n640">语法格式</a></span><span class="md-toc-item md-toc-h3" data-ref="n642"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n642">参数说明：</a></span><span class="md-toc-item md-toc-h3" data-ref="n644"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n644">实例：</a></span><span class="md-toc-item md-toc-h2" data-ref="n653"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n653">eval命令</a></span><span class="md-toc-item md-toc-h2" data-ref="n683"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n683">Shell echo命令</a></span><span class="md-toc-item md-toc-h3" data-ref="n687"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n687">1.显示普通字符串:</a></span><span class="md-toc-item md-toc-h3" data-ref="n691"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n691">2.显示转义字符</a></span><span class="md-toc-item md-toc-h3" data-ref="n696"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n696">3.显示变量</a></span><span class="md-toc-item md-toc-h3" data-ref="n701"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n701">4.显示换行</a></span><span class="md-toc-item md-toc-h3" data-ref="n705"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n705">5.显示不换行</a></span><span class="md-toc-item md-toc-h3" data-ref="n709"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n709">6.显示结果定向至文件</a></span><span class="md-toc-item md-toc-h3" data-ref="n711"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n711">7.原样输出字符串，不进行转义或取变量(用单引号)</a></span><span class="md-toc-item md-toc-h3" data-ref="n715"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n715">8.显示命令执行结果</a></span><span class="md-toc-item md-toc-h2" data-ref="n750"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n750">Shell printf 命令</a></span><span class="md-toc-item md-toc-h3" data-ref="n764"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n764">%s  %c  %d   %f   都是格式替代符</a></span><span class="md-toc-item md-toc-h2" data-ref="n779"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n779">printf的转义序列</a></span><span class="md-toc-item md-toc-h3" data-ref="n817"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n817">实例</a></span><span class="md-toc-item md-toc-h2" data-ref="n820"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n820">Shell test 命令</a></span><span class="md-toc-item md-toc-h3" data-ref="n823"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n823">数值测试</a></span><span class="md-toc-item md-toc-h2" data-ref="n855"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n855">字符串测试</a></span><span class="md-toc-item md-toc-h2" data-ref="n877"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n877">文件测试</a></span><span class="md-toc-item md-toc-h2" data-ref="n918"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n918">选择语句</a></span><span class="md-toc-item md-toc-h4" data-ref="n919"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n919">if 、elif  后面要跟 then,结束要以 fi 结束，如果else分支没有语句执行，就不要写这个else。 </a></span><span class="md-toc-item md-toc-h3" data-ref="n920"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n920">if 语句语法格式：</a></span><span class="md-toc-item md-toc-h3" data-ref="n925"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n925">if else 语法格式：</a></span><span class="md-toc-item md-toc-h3" data-ref="n927"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n927">if else-if else 语法格式：</a></span><span class="md-toc-item md-toc-h4" data-ref="n933"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n933">if else语句经常与test命令结合使用，如下所示：</a></span><span class="md-toc-item md-toc-h2" data-ref="n937"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n937">case语句</a></span><span class="md-toc-item md-toc-h2" data-ref="n946"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n946">esac</a></span><span class="md-toc-item md-toc-h2" data-ref="n949"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n949">循环语句</a></span><span class="md-toc-item md-toc-h3" data-ref="n950"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n950">for 循环</a></span><span class="md-toc-item md-toc-h3" data-ref="n976"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n976">while 语句</a></span><span class="md-toc-item md-toc-h3" data-ref="n989"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n989">无限循环</a></span><span class="md-toc-item md-toc-h3" data-ref="n997"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n997">until 循环</a></span><span class="md-toc-item md-toc-h2" data-ref="n1009"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1009">跳出循环</a></span><span class="md-toc-item md-toc-h3" data-ref="n1011"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1011">break命令</a></span><span class="md-toc-item md-toc-h3" data-ref="n1017"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1017">continue</a></span><span class="md-toc-item md-toc-h2" data-ref="n1023"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1023">Shell 函数</a></span><span class="md-toc-item md-toc-h3" data-ref="n1044"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1044">函数参数</a></span><span class="md-toc-item md-toc-h2" data-ref="n1078"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1078">Shell 输入/输出重定向</a></span><span class="md-toc-item md-toc-h3" data-ref="n1112"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1112">输出重定向</a></span><span class="md-toc-item md-toc-h3" data-ref="n1117"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1117">实例</a></span><span class="md-toc-item md-toc-h3" data-ref="n1128"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1128">输入重定向</a></span><span class="md-toc-item md-toc-h3" data-ref="n1133"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1133">实例</a></span><span class="md-toc-item md-toc-h3" data-ref="n1141"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1141">重定向深入讲解</a></span><span class="md-toc-item md-toc-h2" data-ref="n1162"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1162">Here Document</a></span><span class="md-toc-item md-toc-h3" data-ref="n1174"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1174">实例</a></span><span class="md-toc-item md-toc-h2" data-ref="n1182"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1182">/dev/null 文件</a></span><span class="md-toc-item md-toc-h2" data-ref="n1200"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1200">Shell 脚本导入</a></span><span class="md-toc-item md-toc-h3" data-ref="n1204"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1204">实例</a></span></p></div><p>&nbsp;</p><h2><a name='header-n1214' class='md-header-anchor '></a>Shell Script</h2><p>常用解释器 ： </p><ol start='' ><li>Bourne Shell<span>	</span>( /usr/bin/sh 或 /bin/sh )</li><li>Bourne Again Shell<span>	</span>( /bin/bash )</li></ol><p>  <span>		</span>Bash 也是大多数Linux 系统默认的 Shell。
  <span>	</span>
  <span>		</span>在一般情况下，人们并不区分 Bourne Shell 和 Bourne Again Shell，所以，像 <strong>#!/bin/sh</strong>，
  <span>	</span>
  <span>		</span>它同样也可以改为 <strong>#!/bin/bash</strong>。</p><p><strong>#!</strong> 告诉系统其后路径所指定的程序即是解释此脚本文件的 Shell 程序</p><p><strong>#!</strong> 是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行，即使用哪一种 Shell。</p><p>&nbsp;</p><h2><a name='header-n13' class='md-header-anchor '></a>shell脚本结构</h2><p><span>	</span>打开文本编辑器(可以使用 vi/vim 命令来创建文件)，新建一个文件 test.sh，扩展名为 sh（sh代表shell），扩展名并不影响脚本执行，见名知意就好，如果你用 php 写 shell 脚本，扩展名就用 php 好了。</p><p>输入一些代码，第一行一般是这样：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="sh"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="sh"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">#!/bin/bash</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">echo</span> <span class="cm-string">"Hello World !"</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 50px;"></div><div class="CodeMirror-gutters" style="display: none; height: 50px;"></div></div></div></pre><p>&nbsp;</p><h2><a name='header-n18' class='md-header-anchor '></a>运行 Shell 脚本有两种方法：</h2><p><strong>1、作为可执行程序</strong></p><p>将上面的代码保存为 test.sh，并 cd 到相应目录：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">chmod</span> <span class="cm-operator">+</span>x ./test.sh &nbsp;<span class="cm-comment">#使脚本具有执行权限</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">./test.sh &nbsp;<span class="cm-comment">#执行脚本</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 50px;"></div><div class="CodeMirror-gutters" style="display: none; height: 50px;"></div></div></div></pre><p>注意，一定要写成 <strong>./test.sh</strong>，而不是 <strong>test.sh</strong>，运行其它二进制的程序也一样，直接写 test.sh，linux 系统会去 PATH 里寻找有没有叫 test.sh 的，而只有 /bin, /sbin, /usr/bin，/usr/sbin 等在 PATH 里，你的当前目录通常不在 PATH 里，所以写成 test.sh 是会找不到命令的，要用 ./test.sh 告诉系统说，就在当前目录找。</p><p><strong>2、作为解释器参数</strong></p><p>这种运行方式是，直接运行解释器，其参数就是 shell 脚本的文件名，如：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/bin/sh test.sh</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/bin/php test.php</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 50px;"></div><div class="CodeMirror-gutters" style="display: none; height: 50px;"></div></div></div></pre><p>这种方式运行的脚本，不需要在第一行指定解释器信息，写了也没用。</p><p>&nbsp;</p><h2><a name='header-n28' class='md-header-anchor '></a>Shell 注释</h2><p>以 <strong>#</strong> 开头的行就是注释，会被解释器忽略。</p><p>通过每一行加一个 <strong>#</strong> 号设置多行注释，像这样：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#--------------------------------------------</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 这是一个注释</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># author：菜鸟教程</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># site：www.runoob.com</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># slogan：学的不仅是技术，更是梦想！</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#--------------------------------------------</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">##### 用户配置区 开始 #####</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 这里可以添加脚本描述信息</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">##### 用户配置区 结束  #####</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 328px;"></div><div class="CodeMirror-gutters" style="display: none; height: 328px;"></div></div></div></pre><p>如果在开发过程中，遇到大段的代码需要临时注释起来，过一会儿又取消注释，怎么办呢？</p><p>每一行加个#符号太费力了，可以把这一段要注释的代码用一对花括号括起来，定义成一个函数，没有地方调用这个函数，这块代码就不会执行，达到了和注释一样的效果。</p><h3><a name='header-n34' class='md-header-anchor '></a>多行注释</h3><p>多行注释还可以使用以下格式：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">:&lt;&lt;EOF</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">注释内容...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">注释内容...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">注释内容...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">EOF</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 126px;"></div><div class="CodeMirror-gutters" style="display: none; height: 126px;"></div></div></div></pre><p>EOF 也可以使用其他符号:</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">:&lt;&lt;<span class="cm-string">'</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">注释内容...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">注释内容...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">注释内容...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-string">'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">:&lt;&lt;!</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">注释内容...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">注释内容...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">注释内容...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">!</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 277px;"></div><div class="CodeMirror-gutters" style="display: none; height: 277px;"></div></div></div></pre><h2><a name='header-n39' class='md-header-anchor '></a>Shell 变量</h2><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">your_name</span><span class="cm-operator">=</span><span class="cm-string">"runoob.com"</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 25px;"></div><div class="CodeMirror-gutters" style="display: none; height: 25px;"></div></div></div></pre><p>注意，变量名和等号之间不能有空格，这可能和你熟悉的所有编程语言都不一样。同时，变量名的命名须遵循如下规则：</p><ul><li>命名只能使用英文字母，数字和下划线，首个字符不能以数字开头。</li><li>中间不能有空格，可以使用下划线（_）。</li><li>不能使用标点符号。</li><li>不能使用bash里的关键字（可用help命令查看保留关键字）。</li></ul><h4><a name='header-n51' class='md-header-anchor '></a>除了显式地直接赋值，还可以用语句给变量赋值，如：</h4><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> file <span class="cm-keyword">in</span> <span class="cm-quote">`ls /etc`</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">或</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> file <span class="cm-keyword">in</span> <span class="cm-quote">$(ls /etc)</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 76px;"></div><div class="CodeMirror-gutters" style="display: none; height: 76px;"></div></div></div></pre><p><span>	</span>以上语句将 /etc 下目录的文件名循环出来。</p><h3><a name='header-n54' class='md-header-anchor '></a><strong>使用变量</strong></h3><p>使用一个定义过的变量，只要在变量名前面加美元符号即可，如：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">your_name</span><span class="cm-operator">=</span><span class="cm-string">"qinjx"</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">echo</span> <span class="cm-def">$your_name</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">echo</span> <span class="cm-def">${your_name}</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 76px;"></div><div class="CodeMirror-gutters" style="display: none; height: 76px;"></div></div></div></pre><p>变量名外面的花括号是可选的，加不加都行，加花括号是为了帮助解释器识别变量的边界，比如下面这种情况：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> skill <span class="cm-keyword">in</span> Ada Coffe Action Java; <span class="cm-keyword">do</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-builtin">echo</span> <span class="cm-string">"I am good at </span><span class="cm-def">${skill}</span><span class="cm-string">Script"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">done</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 76px;"></div><div class="CodeMirror-gutters" style="display: none; height: 76px;"></div></div></div></pre><p>如果不给skill变量加花括号，写成echo &quot;I am good at $skillScript&quot;，解释器就会把​$skillScript当成一个变量（其值为空），代码执行结果就不是我们期望的样子了。</p><p>推荐给所有变量加上花括号，这是个好的编程习惯。</p><p>已定义的变量，可以被重新定义，如：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">your_name</span><span class="cm-operator">=</span><span class="cm-string">"tom"</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">echo</span> <span class="cm-def">$your_name</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">your_name</span><span class="cm-operator">=</span><span class="cm-string">"alibaba"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">echo</span> <span class="cm-def">$your_name</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 101px;"></div><div class="CodeMirror-gutters" style="display: none; height: 101px;"></div></div></div></pre><p>这样写是合法的，但注意，第二次赋值的时候不能写$your_name=&quot;alibaba&quot;，使用变量的时候才加美元符 ( $ ) 。</p><h3><a name='header-n64' class='md-header-anchor '></a>只读变量</h3><p>使用 readonly 命令可以将变量定义为只读变量，只读变量的值不能被改变。</p><p>下面的例子尝试更改只读变量，结果报错：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">#!/bin/bash</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">myUrl</span><span class="cm-operator">=</span><span class="cm-string">"http://www.google.com"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">readonly myUrl</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">myUrl</span><span class="cm-operator">=</span><span class="cm-string">"http://www.runoob.com"</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 101px;"></div><div class="CodeMirror-gutters" style="display: none; height: 101px;"></div></div></div></pre><p>运行脚本，结果如下：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/bin/sh: NAME: This variable is read only.</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 25px;"></div><div class="CodeMirror-gutters" style="display: none; height: 25px;"></div></div></div></pre><h3><a name='header-n70' class='md-header-anchor '></a>删除变量</h3><p>使用 unset 命令可以删除变量。语法：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">unset</span> variable_name</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 25px;"></div><div class="CodeMirror-gutters" style="display: none; height: 25px;"></div></div></div></pre><p>变量被删除后不能再次使用。unset 命令不能删除只读变量。</p><p><strong>实例</strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">#!/bin/sh</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">myUrl</span><span class="cm-operator">=</span><span class="cm-string">"http://www.runoob.com"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">unset</span> myUrl</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">echo</span> <span class="cm-def">$myUrl</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 101px;"></div><div class="CodeMirror-gutters" style="display: none; height: 101px;"></div></div></div></pre><p>以上实例执行将没有任何输出。</p><h3><a name='header-n77' class='md-header-anchor '></a>变量类型</h3><p>运行shell时，会同时存在三种变量：</p><ul><li><strong>1) 局部变量</strong> 局部变量在脚本或命令中定义，仅在当前shell实例中有效，其他shell启动的程序不能访问局部变量。</li><li><strong>2) 环境变量</strong> 所有的程序，包括shell启动的程序，都能访问环境变量，有些程序需要环境变量来保证其正常运行。必要的时候shell脚本也可以定义环境变量。</li><li><strong>3) shell变量</strong> shell变量是由shell程序设置的特殊变量。shell变量中有一部分是环境变量，有一部分是局部变量，这些变量保证了shell的正常运行</li></ul><p>&nbsp;</p><h2><a name='header-n87' class='md-header-anchor '></a>Shell 字符串</h2><p>字符串是shell编程中最常用最有用的数据类型（除了数字和字符串，也没啥其它类型好用了），字符串可以用单引号，也可以用双引号，也可以不用引号。单双引号的区别跟PHP类似。</p><h3><a name='header-n89' class='md-header-anchor '></a>单引号</h3><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">str</span><span class="cm-operator">=</span><span class="cm-string">'this is a string'</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">str1</span><span class="cm-operator">=</span>aa\'aaa</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">str2</span><span class="cm-operator">=</span><span class="cm-string">"aa'aaa"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">echo</span> <span class="cm-def">$str</span> <span class="cm-def">$str1</span> <span class="cm-def">$str2</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 101px;"></div><div class="CodeMirror-gutters" style="display: none; height: 101px;"></div></div></div></pre><p>单引号字符串的限制：</p><ul><li>单引号里的任何字符都会原样输出，单引号字符串中的变量是无效的；</li><li>单引号字串中不能出现单独一个的单引号（对单引号使用转义符后也不行），但可成对出现，作为字符串拼接使用。</li></ul><h3><a name='header-n97' class='md-header-anchor '></a>双引号</h3><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">your_name</span><span class="cm-operator">=</span><span class="cm-string">'runoob'</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">str</span><span class="cm-operator">=</span><span class="cm-string">"Hello, I know you are \"</span><span class="cm-def">$your_name</span><span class="cm-string">\"! \n"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">echo</span> <span class="cm-attribute">-e</span> <span class="cm-def">$str</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 76px;"></div><div class="CodeMirror-gutters" style="display: none; height: 76px;"></div></div></div></pre><p>输出结果为：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Hello, I know you are <span class="cm-string">"runoob"</span>! </span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 25px;"></div><div class="CodeMirror-gutters" style="display: none; height: 25px;"></div></div></div></pre><p>双引号的优点：</p><ul><li>双引号里可以有变量</li><li>双引号里可以出现转义字符</li></ul><h3><a name='header-n107' class='md-header-anchor '></a>拼接字符串</h3><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">your_name</span><span class="cm-operator">=</span><span class="cm-string">"runoob"</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 使用双引号拼接</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">greeting</span><span class="cm-operator">=</span><span class="cm-string">"hello, "</span><span class="cm-def">$your_name</span><span class="cm-string">" !"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">greeting_1</span><span class="cm-operator">=</span><span class="cm-string">"hello, </span><span class="cm-def">${your_name}</span><span class="cm-string"> !"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">echo</span> <span class="cm-def">$greeting</span> &nbsp;<span class="cm-def">$greeting_1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 使用单引号拼接</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">greeting_2</span><span class="cm-operator">=</span><span class="cm-string">'hello, '</span><span class="cm-def">$your_name</span><span class="cm-string">' !'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">greeting_3</span><span class="cm-operator">=</span><span class="cm-string">'hello, ${your_name} !'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">echo</span> <span class="cm-def">$greeting_2</span> &nbsp;<span class="cm-def">$greeting_3</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 227px;"></div><div class="CodeMirror-gutters" style="display: none; height: 227px;"></div></div></div></pre><p>输出结果为：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">hello, runoob ! hello, runoob !</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">hello, runoob ! hello, <span class="cm-def">${your_name}</span> !</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 50px;"></div><div class="CodeMirror-gutters" style="display: none; height: 50px;"></div></div></div></pre><h3><a name='header-n111' class='md-header-anchor '></a>获取字符串长度</h3><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">string</span><span class="cm-operator">=</span><span class="cm-string">"abcd"</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">echo</span> <span class="cm-def">${#string}</span> <span class="cm-comment">#输出 4</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 50px;"></div><div class="CodeMirror-gutters" style="display: none; height: 50px;"></div></div></div></pre><p>计算字符长度也可是使用 <strong>length</strong>:</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">string</span><span class="cm-operator">=</span><span class="cm-string">"hello,everyone my name is xiaoming"</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">expr length <span class="cm-string">"</span><span class="cm-def">$string</span><span class="cm-string">"</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 50px;"></div><div class="CodeMirror-gutters" style="display: none; height: 50px;"></div></div></div></pre><p><span>	</span>输出:34</p><p><span>	</span><strong>注意</strong>：string字符串里边有空格,所以需要添加双引号</p><h3><a name='header-n117' class='md-header-anchor '></a>提取子字符串</h3><p>Linux 的字符串截取很有用。有八种方法。</p><p>假设有变量 var=<a href='http://www.aaa.com/123.htm' target='_blank' class='url'>http://www.aaa.com/123.htm</a></p><p><strong>1. # 号截取，删除左边字符，保留右边字符。</strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">echo</span> <span class="cm-def">${var#*//}</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 25px;"></div><div class="CodeMirror-gutters" style="display: none; height: 25px;"></div></div></div></pre><p>其中 var 是变量名，# 号是运算符，*// 表示从左边开始删除第一个 // 号及左边的所有字符</p><p>即删除 http://</p><p>结果是 ：<a href='http://www.aaa.com/123.htm' target='_blank' class='url'>www.aaa.com/123.htm</a></p><p><strong>2. ## 号截取，删除左边字符，保留右边字符。</strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="shell"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="shell"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 3.60004px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">echo</span> <span class="cm-def">${var##*/}</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 25px;"></div><div class="CodeMirror-gutters" style="display: none; height: 25px;"></div></div></div></pre><p>##*/ 表示从左边开始删除最后（最右边）一个 / 号及左边的所有字符</p><p>即删除 <a href='http://www.aaa.com/' target='_blank' class='url'>http://www.aaa.com/</a></p><p>结果是 123.htm</p><p><strong>3. %号截取，删除右边字符，保留左边字符</strong></p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n131" mdtype="fences">echo ${var%/*}
</pre><p>%/* 表示从右边开始，删除第一个 / 号及右边的字符</p><p>结果是：<a href='http://www.aaa.com' target='_blank' class='url'>http://www.aaa.com</a></p><p><strong>4. %% 号截取，删除右边字符，保留左边字符</strong></p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n135" mdtype="fences">echo ${var%%/*}
</pre><p>%%/* 表示从右边开始，删除最后（最左边）一个 / 号及右边的字符</p><p>结果是：http:</p><p>#、## 表示从左边开始删除。一个 # 表示从左边删除到第一个指定的字符；两个 # 表示从左边删除到最后一个指定的字符。</p><p>%、%% 表示从右边开始删除。一个 % 表示从右边删除到第一个指定的字符；两个 % 表示从左边删除到最后一个指定的字符。</p><p><span>	</span>删除包括了指定的字符本身</p><p><strong>5. 从左边第几个字符开始，及字符的个数</strong></p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n142" mdtype="fences">echo ${var:0:5}

</pre><p>其中的 0 表示左边第一个字符开始，5 表示字符的总个数。</p><p>结果是：http:</p><p>以下实例从字符串第 <strong>2</strong> 个字符开始截取 <strong>4</strong> 个字符：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n146" mdtype="fences">string="runoob is a great site"
echo ${string:1:4} # 输出 unoo
</pre><p><strong>6. 从左边第几个字符开始，一直到结束。</strong></p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n148" mdtype="fences">echo ${var:7}
</pre><p>其中的 7 表示左边第8个字符开始，一直到结束。</p><p>结果是 ：<a href='http://www.aaa.com/123.htm' target='_blank' class='url'>www.aaa.com/123.htm</a></p><p><strong>7. 从右边第几个字符开始，及字符的个数</strong></p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n152" mdtype="fences">echo ${var:0-7:3}
</pre><p>其中的 0-7 表示右边算起第七个字符开始，3 表示字符的个数。</p><p>结果是：123</p><p><strong>8. 从右边第几个字符开始，一直到结束。</strong></p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n156" mdtype="fences">echo ${var:0-7}
</pre><p>表示从右边第七个字符开始，一直到结束。</p><p>结果是：123.htm</p><p><strong>注：</strong>（左边的第一个字符是用 0 表示，右边的第一个字符用 0-1 表示）</p><p>&nbsp;</p><h3><a name='header-n161' class='md-header-anchor '></a>查找子字符串</h3><p>查找字符 <strong>i</strong> 或 <strong>o</strong> 的位置(哪个字母先出现就计算哪个)：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n163" mdtype="fences">string="runoob is a great site"
echo `expr index "$string" io`  # 输出 4
</pre><p><strong>注意：</strong> 以上脚本中 <strong>`</strong> 是反引号，而不是单引号 <strong>&#39;</strong>，不要看错了哦。</p><p>&nbsp;</p><h2><a name='header-n166' class='md-header-anchor '></a><strong>read 命令用于获取键盘输入信息</strong></h2><p>它的语法形式一般是：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n168" mdtype="fences">read [-options] [variable...]
</pre><p>以下实例读取键盘输入的内容并将其赋值给shell变量，为：-p 参数由于设置提示信息：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n170" mdtype="fences">read -p "input a val:" a    #获取键盘输入的 a 变量数字
read -p "input b val:" b    #获取键盘输入的 b 变量数字
r=$[a+b]                    #计算a+b的结果 赋值给r  不能有空格
echo "result = ${r}"        #输出显示结果 r
</pre><p>测试结果：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n172" mdtype="fences">input a val:1
input b val:2
result = 3
</pre><p>&nbsp;</p><h2><a name='header-n174' class='md-header-anchor '></a>Shell 数组</h2><p>bash支持一维数组（不支持多维数组），并且没有限定数组的大小。</p><p>类似于 C 语言，数组元素的下标由 0 开始编号。获取数组中的元素要利用下标，下标可以是整数或算术表达式，其值应大于或等于 0。</p><h3><a name='header-n177' class='md-header-anchor '></a>定义数组</h3><p>在 Shell 中，用括号来表示数组，数组元素用&quot;空格&quot;符号分割开。定义数组的一般形式为：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n179" mdtype="fences">数组名=(值1 值2 ... 值n)
</pre><p>例如：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n181" mdtype="fences">array_name=(value0 value1 value2 value3)
my_array=(A B "C" D)
</pre><p>或者</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n183" mdtype="fences">array_name=(
value0
value1
value2
value3
)
</pre><p>还可以单独定义数组的各个分量：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n185" mdtype="fences">array_name[0]=value0
array_name[1]=value1
array_name[n]=valuen
</pre><p>可以不使用连续的下标，而且下标的范围没有限制。</p><p>数组的值也可以写入变量。</p><p>例如：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n189" mdtype="fences">A=1
my_array=($A B C D)
echo "第一个元素为: ${my_array[0]}"
echo "第二个元素为: ${my_array[1]}"
echo "第三个元素为: ${my_array[2]}"
echo "第四个元素为: ${my_array[3]}"
</pre><p>输出为：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n191" mdtype="fences">第一个元素为: 1第二个元素为: B第三个元素为: c第四个元素为: D
</pre><h3><a name='header-n192' class='md-header-anchor '></a>读取数组</h3><p>读取数组元素值的一般格式是：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n194" mdtype="fences">${数组名[下标]}
</pre><p>例如：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n196" mdtype="fences">valuen=${array_name[n]}
</pre><p>根据数组元素索引获取该数组元素值时，数组下标可为变量。</p><p>例如：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n199" mdtype="fences">arr=(a b c d)
i=2
echo ${arr[i]}
echo ${arr[ $i ]}
</pre><p>输出为：</p><p><span>	</span>c</p><p>使用 <strong>@</strong> 符号可以获取数组中的所有元素，例如：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n203" mdtype="fences">echo ${array_name[@]}
#打印 value0 value1 value2 value3
</pre><h3><a name='header-n204' class='md-header-anchor '></a>获取数组的长度</h3><p>获取数组长度的方法与获取字符串长度的方法相同，例如：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n206" mdtype="fences"># 取得数组元素的个数
length=${#array_name[@]}
# 或者
length=${#array_name[*]}
# 取得数组单个元素的长度
lengthn=${#array_name[n]}
</pre><p>&nbsp;</p><h2><a name='header-n208' class='md-header-anchor '></a>遍历数组</h2><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n209" mdtype="fences" style="break-inside: unset;">my_arry=(a b "c","d" abc)
echo "-------FOR循环遍历输出数组--------"
for i in ${my_arry[@]};
do
  echo $i
done

echo "-------::::WHILE循环输出 使用 let i++ 自增:::::---------"
j=0
while [ $j -lt ${#my_arry[@]} ]
do
  echo ${my_arry[$j]}
  let j++
done

echo "--------:::WHILE循环输出 使用 let  "n++ "自增: 多了双引号，其实不用也可以:::---------"
n=0
while [ $n -lt ${#my_arry[@]} ]
do
  echo ${my_arry[$n]}
  let "n++"
done

echo "---------::::WHILE循环输出 使用 let m+=1 自增,这种写法其他编程中也常用::::----------"
m=0
while [ $m -lt ${#my_arry[@]} ]
do
  echo ${my_arry[$m]}
  let m+=1
done

echo "-------::WHILE循环输出 使用 a=$[$a+1] 自增,个人觉得这种写法比较麻烦::::----------"
a=0
while [ $a -lt ${#my_arry[@]} ]
do
 echo ${my_arry[$a]}
 a=$[$a+1]
done
</pre><p>&nbsp;</p><h3><a name='header-n211' class='md-header-anchor '></a>Bourne shell（原生kernel下）下不支持数组，只能通过模拟来实现类似数组功能。</h3><h5><a name='header-n212' class='md-header-anchor '></a>实例 1</h5><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n213" mdtype="fences">#!/bin/sh
#注意不是/bin/bash
echo "##############使用eval函数###############"
echo "使用参考:"
echo "http://www.runoob.com/linux/linux-comm-eval.html"
eval a1=bili
eval a2=nico
eval a3=yama

for i in 1 2 3 ; do
  eval echo "\$a$i"
done
</pre><p>输出结果：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n215" mdtype="fences">##############使用eval函数###############
使用参考:
http://www.runoob.com/linux/linux-comm-eval.html
bili
nico
yama
</pre><h5><a name='header-n216' class='md-header-anchor '></a>实例 2</h5><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n217" mdtype="fences" style="break-inside: unset;">#!/bin/sh
#注意不是/bin/bash
echo "##########################################"
echo "指令参考:"
echo "http://www.runoob.com/linux/linux-comm-expr.html"
:&lt;&lt;!
根据用户输入的一句话来定义数组
并遍历数组元素
!
printf "输入字符串（以空格分开）:"
read str
i=0
for word in $str; do
    i=`expr $i + 1`
    eval a$i="$word"
    eval echo "数组的第 $i 个元素为: \$a$i"
done
</pre><p>输出结果：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n219" mdtype="fences">##########################################
指令参考:
http://www.runoob.com/linux/linux-comm-expr.html
输入字符串（以空格分开）:
runoob google taobao
数组的第 1 个元素为: runoob
数组的第 2 个元素为: google
数组的第 3 个元素为: taobao
</pre><p>&nbsp;</p><h2><a name='header-n221' class='md-header-anchor '></a>Shell 传递参数</h2><p>我们可以在执行 Shell 脚本时，向脚本传递参数，脚本内获取参数的格式为：<strong>$n</strong>。<strong>n</strong> 代表一个数字，1 为执行脚本的第一个参数，2 为执行脚本的第二个参数，以此类推……</p><h4><a name='header-n223' class='md-header-anchor '></a>实例</h4><p>以下实例我们向脚本传递三个参数，并分别输出，其中 <strong>$0</strong> 为执行的文件名：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n225" mdtype="fences">#!/bin/bash
# author:菜鸟教程
# url:www.runoob.com

echo "Shell 传递参数实例！";
echo "执行的文件名：$0";
echo "第一个参数为：$1";
echo "第二个参数为：$2";
echo "第三个参数为：$3";
</pre><p>为脚本设置可执行权限，并执行脚本，输出结果如下所示：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n227" mdtype="fences">$ chmod +x test.sh 
$ ./test.sh 1 2 3
Shell 传递参数实例！
执行的文件名：./test.sh
第一个参数为：1
第二个参数为：2
第三个参数为：3
</pre><h4><a name='header-n228' class='md-header-anchor '></a>特殊字符用来处理参数：</h4><figure><table><thead><tr><th style='text-align:left;' >参数处理</th><th>说明</th></tr></thead><tbody><tr><td style='text-align:left;' >$#</td><td>传递到脚本的参数个数</td></tr><tr><td style='text-align:left;' >$*</td><td>以一个单字符串显示所有向脚本传递的参数。 如&quot;<span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="28.958ex" height="2.273ex" viewBox="0 -755.3 12467.8 978.8" role="img" focusable="false" style="vertical-align: -0.519ex;"><defs><path stroke-width="0" id="E1-MJMAIN-2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path><path stroke-width="0" id="E1-MJMAIN-22" d="M34 634Q34 659 50 676T93 694Q121 694 144 668T168 579Q168 525 146 476T101 403T73 379Q69 379 60 388T50 401Q50 404 62 417T88 448T116 500T131 572Q131 584 130 584T125 581T112 576T94 573Q69 573 52 590T34 634ZM238 634Q238 659 254 676T297 694Q325 694 348 668T372 579Q372 525 350 476T305 403T277 379Q273 379 264 388T254 401Q254 404 266 417T292 448T320 500T335 572Q335 584 334 584T329 581T316 576T298 573Q273 573 256 590T238 634Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E1-MJMAIN-2217" x="0" y="0"></use><use xlink:href="#E1-MJMAIN-22" x="777" y="0"></use><g transform="translate(1555,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">用</text></g><g transform="translate(2330,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">「</text></g><use xlink:href="#E1-MJMAIN-22" x="3382" y="0"></use><g transform="translate(4160,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">」</text></g><g transform="translate(4935,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">括</text></g><g transform="translate(5821,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">起</text></g><g transform="translate(6707,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">来</text></g><g transform="translate(7594,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">的</text></g><g transform="translate(8368,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">情</text></g><g transform="translate(9254,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">况</text></g><g transform="translate(10088,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">、</text></g><g transform="translate(10863,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">以</text></g><use xlink:href="#E1-MJMAIN-22" x="11967" y="0"></use></g></svg></span><script type="math/tex">*"用「"」括起来的情况、以"</script>1 <span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.27ex" height="1.862ex" viewBox="0 -755.3 1838.7 801.6" role="img" focusable="false" style="vertical-align: -0.108ex;"><defs><path stroke-width="0" id="E2-MJMAIN-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path stroke-width="0" id="E2-MJMAIN-2026" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60ZM525 60Q525 84 542 102T585 120Q609 120 627 104T646 61Q646 36 629 18T586 0T543 17T525 60ZM972 60Q972 84 989 102T1032 120Q1056 120 1074 104T1093 61Q1093 36 1076 18T1033 0T990 17T972 60Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E2-MJMAIN-32" x="0" y="0"></use><use xlink:href="#E2-MJMAIN-2026" x="666" y="0"></use></g></svg></span><script type="math/tex">2 … </script>n&quot;的形式输出所有参数。</td></tr><tr><td style='text-align:left;' >$$</td><td>脚本运行的当前进程ID号</td></tr><tr><td style='text-align:left;' >$!</td><td>后台运行的最后一个进程的ID号</td></tr><tr><td style='text-align:left;' >$@</td><td>与<span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="51.452ex" height="2.273ex" viewBox="0 -755.3 22153 978.8" role="img" focusable="false" style="vertical-align: -0.519ex;"><defs><path stroke-width="0" id="E3-MJMAIN-2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path><path stroke-width="0" id="E3-MJMAIN-22" d="M34 634Q34 659 50 676T93 694Q121 694 144 668T168 579Q168 525 146 476T101 403T73 379Q69 379 60 388T50 401Q50 404 62 417T88 448T116 500T131 572Q131 584 130 584T125 581T112 576T94 573Q69 573 52 590T34 634ZM238 634Q238 659 254 676T297 694Q325 694 348 668T372 579Q372 525 350 476T305 403T277 379Q273 379 264 388T254 401Q254 404 266 417T292 448T320 500T335 572Q335 584 334 584T329 581T316 576T298 573Q273 573 256 590T238 634Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E3-MJMAIN-2217" x="0" y="0"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">相</text></g><g transform="translate(1333,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">同</text></g><g transform="translate(2108,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">，</text></g><g transform="translate(2883,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">但</text></g><g transform="translate(3769,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">是</text></g><g transform="translate(4655,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">使</text></g><g transform="translate(5541,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">用</text></g><g transform="translate(6316,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">时</text></g><g transform="translate(7143,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">加</text></g><g transform="translate(7976,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">引</text></g><g transform="translate(8751,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">号</text></g><g transform="translate(9637,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">，</text></g><g transform="translate(10412,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">并</text></g><g transform="translate(11298,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">在</text></g><g transform="translate(12184,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">引</text></g><g transform="translate(12959,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">号</text></g><g transform="translate(13845,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">中</text></g><g transform="translate(14620,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">返</text></g><g transform="translate(15506,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">回</text></g><g transform="translate(16281,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">每</text></g><g transform="translate(17167,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">个</text></g><g transform="translate(18054,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">参</text></g><g transform="translate(18880,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">数</text></g><g transform="translate(19766,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">。</text></g><g transform="translate(20541,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">如</text></g><use xlink:href="#E3-MJMAIN-22" x="21653" y="0"></use></g></svg></span><script type="math/tex">*相同，但是使用时加引号，并在引号中返回每个参数。 如"</script>@&quot;用「&quot;」括起来的情况、以&quot;<span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.129ex" height="1.862ex" viewBox="0 -755.3 1777.8 801.6" role="img" focusable="false" style="vertical-align: -0.108ex;"><defs><path stroke-width="0" id="E4-MJMAIN-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path stroke-width="0" id="E4-MJMAIN-22" d="M34 634Q34 659 50 676T93 694Q121 694 144 668T168 579Q168 525 146 476T101 403T73 379Q69 379 60 388T50 401Q50 404 62 417T88 448T116 500T131 572Q131 584 130 584T125 581T112 576T94 573Q69 573 52 590T34 634ZM238 634Q238 659 254 676T297 694Q325 694 348 668T372 579Q372 525 350 476T305 403T277 379Q273 379 264 388T254 401Q254 404 266 417T292 448T320 500T335 572Q335 584 334 584T329 581T316 576T298 573Q273 573 256 590T238 634Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E4-MJMAIN-31" x="0" y="0"></use><g transform="translate(777,0)"><use xlink:href="#E4-MJMAIN-22"></use><use xlink:href="#E4-MJMAIN-22" x="500" y="0"></use></g></g></svg></span><script type="math/tex">1" "</script>2&quot; … &quot;$n&quot; 的形式输出所有参数。</td></tr><tr><td style='text-align:left;' >$-</td><td>显示Shell使用的当前选项，与<a href='http://www.runoob.com/linux/linux-comm-set.html'>set命令</a>功能相同。</td></tr><tr><td style='text-align:left;' >$?</td><td>显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。</td></tr></tbody></table></figure><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n254" mdtype="fences">#!/bin/bash
# author:菜鸟教程
# url:www.runoob.com

echo "Shell 传递参数实例！";
echo "第一个参数为：$1";

echo "参数个数为：$#";
echo "传递的参数作为一个字符串显示：$*";
</pre><p>执行脚本，输出结果如下所示：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n256" mdtype="fences">$ chmod +x test.sh 
$ ./test.sh 1 2 3
Shell 传递参数实例！
第一个参数为：1
参数个数为：3
传递的参数作为一个字符串显示：1 2 3
</pre><h4><a name='header-n257' class='md-header-anchor '></a>$* 与 $@ 区别：</h4><ul><li>相同点：都是引用所有参数。</li><li>不同点：只有在双引号中体现出来。假设在脚本运行时写了三个参数 1、2、3，，则 &quot; * &quot; 等价于 &quot;1 2 3&quot;（传递了一个参数），而 &quot;@&quot; 等价于 &quot;1&quot; &quot;2&quot; &quot;3&quot;（传递了三个参数）。</li></ul><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n263" mdtype="fences">#!/bin/bash
# author:菜鸟教程
# url:www.runoob.com

echo "-- \$* 演示 ---"
for i in "$*"; do
    echo $i
done

echo "-- \$@ 演示 ---"
for i in "$@"; do
    echo $i
done
</pre><p>执行脚本，输出结果如下所示：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n265" mdtype="fences">$ chmod +x test.sh 
$ ./test.sh 1 2 3
-- $* 演示 ---
1 2 3
-- $@ 演示 ---
1
2
3
</pre><ol start='' ><li><p>在为shell脚本传递的参数中<strong>如果包含空格，应该使用单引号或者双引号将该参数括起来，以便于脚本将这个参数作为整体来接收</strong>。</p><p>在有参数时，可以使用对参数进行校验的方式处理以减少错误发生：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n270" mdtype="fences">if [ -n "$1" ]; then
    echo "包含第一个参数"
else
    echo "没有包含第一参数"
fi
</pre><p><strong>注意</strong>：中括号 <strong>[]</strong> 与其中间的代码应该有空格隔开</p><p>&nbsp;</p></li><li><p>Shell 里面的中括号（包括单中括号与双中括号）可用于一些条件的测试：</p><ul><li>算术比较, 比如一个变量是否为0, <code>[ $var -eq 0 ]</code>。</li><li>文件属性测试，比如一个文件是否存在，<code>[ -e $var ]</code>, 是否是目录，<code>[ -d $var ]</code>。</li><li>字符串比较, 比如两个字符串是否相同， <code>[[ $var1 = $var2 ]]</code>。</li></ul><p><strong>[ 和 $ 之间要有空格，没有空格运行会报错</strong></p></li></ol><p>&nbsp;</p><h2><a name='header-n284' class='md-header-anchor '></a>Shell 基本运算符</h2><p>原生bash不支持简单的数学运算，但是可以通过其他命令来实现，例如 awk 和 expr，expr 最常用。</p><p>expr 是一款表达式计算工具，使用它能完成表达式的求值操作。</p><p>例如，两个数相加(<strong>注意使用的是反引号 ` 而不是单引号 &#39;</strong>)：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n288" mdtype="fences">#!/bin/bash
val=`expr 2 + 2`
echo "两数之和为 : $val"
</pre><p>执行脚本，输出结果如下所示：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n290" mdtype="fences">两数之和为 : 4
</pre><p>两点注意：</p><ul><li>表达式和运算符之间要有空格，例如 2+2 是不对的，必须写成 2 + 2，这与我们熟悉的大多数编程语言不一样。</li><li>完整的表达式要被 ` 包含，注意这个字符不是常用的单引号，在 Esc 键下边。</li></ul><h3><a name='header-n297' class='md-header-anchor '></a>算术运算符</h3><p>下表列出了常用的算术运算符，假定变量 a 为 10，变量 b 为 20：</p><figure><table><thead><tr><th style='text-align:center;' >运算符</th><th style='text-align:center;' >说明</th><th style='text-align:center;' >举例</th></tr></thead><tbody><tr><td style='text-align:center;' >+</td><td style='text-align:center;' >加法</td><td style='text-align:center;' ><code>expr $a + $b</code> 结果为 30。</td></tr><tr><td style='text-align:center;' >-</td><td style='text-align:center;' >减法</td><td style='text-align:center;' ><code>expr $a - $b</code> 结果为 -10。</td></tr><tr><td style='text-align:center;' >*</td><td style='text-align:center;' >乘法</td><td style='text-align:center;' ><code>expr $a \* $b</code> 结果为  200。</td></tr><tr><td style='text-align:center;' >/</td><td style='text-align:center;' >除法</td><td style='text-align:center;' ><code>expr $b / $a</code> 结果为 2。</td></tr><tr><td style='text-align:center;' >%</td><td style='text-align:center;' >取余</td><td style='text-align:center;' ><code>expr $b % $a</code> 结果为 0。</td></tr><tr><td style='text-align:center;' >=</td><td style='text-align:center;' >赋值</td><td style='text-align:center;' >a=$b 将把变量 b 的值赋给 a。</td></tr><tr><td style='text-align:center;' >==</td><td style='text-align:center;' >相等。用于比较两个数字，相同则返回 true。</td><td style='text-align:center;' >[ <span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.488ex" height="1.347ex" viewBox="0 -489.4 2362.8 580" role="img" focusable="false" style="vertical-align: -0.21ex;"><defs><path stroke-width="0" id="E8-MJMATHI-61" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path><path stroke-width="0" id="E8-MJMAIN-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E8-MJMATHI-61" x="0" y="0"></use><g transform="translate(806,0)"><use xlink:href="#E8-MJMAIN-3D"></use><use xlink:href="#E8-MJMAIN-3D" x="778" y="0"></use></g></g></svg></span><script type="math/tex">a == </script>b ] 返回 false。</td></tr><tr><td style='text-align:center;' >!=</td><td style='text-align:center;' >不相等。用于比较两个数字，不相同则返回 true。</td><td style='text-align:center;' >[ <span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.326ex" height="2.068ex" viewBox="0 -799.6 1862.8 890.2" role="img" focusable="false" style="vertical-align: -0.21ex;"><defs><path stroke-width="0" id="E6-MJMATHI-61" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path><path stroke-width="0" id="E6-MJMAIN-21" d="M78 661Q78 682 96 699T138 716T180 700T199 661Q199 654 179 432T158 206Q156 198 139 198Q121 198 119 206Q118 209 98 431T78 661ZM79 61Q79 89 97 105T141 121Q164 119 181 104T198 61Q198 31 181 16T139 1Q114 1 97 16T79 61Z"></path><path stroke-width="0" id="E6-MJMAIN-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E6-MJMATHI-61" x="0" y="0"></use><use xlink:href="#E6-MJMAIN-21" x="529" y="0"></use><use xlink:href="#E6-MJMAIN-3D" x="1084" y="0"></use></g></svg></span><script type="math/tex">a != </script>b ] 返回 true。</td></tr></tbody></table></figure><p><strong>注意：</strong>条件表达式要放在方括号之间，并且要有空格，例如: <strong>[<span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.488ex" height="1.347ex" viewBox="0 -489.4 2362.8 580" role="img" focusable="false" style="vertical-align: -0.21ex;"><defs><path stroke-width="0" id="E7-MJMATHI-61" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path><path stroke-width="0" id="E7-MJMAIN-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E7-MJMATHI-61" x="0" y="0"></use><g transform="translate(806,0)"><use xlink:href="#E7-MJMAIN-3D"></use><use xlink:href="#E7-MJMAIN-3D" x="778" y="0"></use></g></g></svg></span><script type="math/tex">a==</script>b]</strong> 是错误的，必须写成 <strong>[  <span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.488ex" height="1.347ex" viewBox="0 -489.4 2362.8 580" role="img" focusable="false" style="vertical-align: -0.21ex;"><defs><path stroke-width="0" id="E8-MJMATHI-61" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path><path stroke-width="0" id="E8-MJMAIN-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E8-MJMATHI-61" x="0" y="0"></use><g transform="translate(806,0)"><use xlink:href="#E8-MJMAIN-3D"></use><use xlink:href="#E8-MJMAIN-3D" x="778" y="0"></use></g></g></svg></span><script type="math/tex">a == </script>b  ]</strong>。</p><h3><a name='header-n337' class='md-header-anchor '></a>实例</h3><p>算术运算符实例如下：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n339" mdtype="fences" style="break-inside: unset;">#!/bin/bash
# author:菜鸟教程
# url:www.runoob.com

a=10
b=20

val=`expr $a + $b`
echo "a + b : $val"

val=`expr $a - $b`
echo "a - b : $val"

val=`expr $a \* $b`
echo "a * b : $val"

val=`expr $b / $a`
echo "b / a : $val"

val=`expr $b % $a`
echo "b % a : $val"

if [ $a == $b ]
then
   echo "a 等于 b"
fi
if [ $a != $b ]
then
   echo "a 不等于 b"
fi
</pre><p>执行脚本，输出结果如下所示：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n341" mdtype="fences">a + b : 30
a - b : -10
a * b : 200
b / a : 2
b % a : 0
a 不等于 b
</pre><blockquote><p><strong>注意：</strong></p><ul><li>乘号(*)前边必须加反斜杠()才能实现乘法运算；</li><li>if...then...fi 是条件语句，后续将会讲解。</li><li>在 MAC 中 shell 的 expr 语法是：<strong>$((表达式))</strong>，此处表达式中的 &quot;*&quot; 不需要转义符号 &quot;\&quot; 。</li></ul></blockquote><h3><a name='header-n351' class='md-header-anchor '></a>关系运算符</h3><p>关系运算符只支持数字，不支持字符串，除非字符串的值是数字。</p><p>下表列出了常用的关系运算符，假定变量 a 为 10，变量 b 为 20：</p><figure><table><thead><tr><th>运算符</th><th>说明</th><th>举例</th></tr></thead><tbody><tr><td>-eq</td><td>== 检测两个数是否相等，相等返回 true。</td><td><code>[ $a -eq $b ]</code>返回 false。</td></tr><tr><td>-ne</td><td>!= 检测两个数是否不相等，不相等返回 true。</td><td><code>[ $a -ne $b ]</code>返回 true。</td></tr><tr><td>-gt</td><td>&gt; 检测左边的数是否大于右边的，如果是，则返回 true。</td><td><code>[ $a -gt $b ]</code> 返回 false。</td></tr><tr><td>-lt</td><td>&lt; 检测左边的数是否小于右边的，如果是，则返回 true。</td><td><code>[ $a -lt $b ]</code>返回 true。</td></tr><tr><td>-ge</td><td>&gt;= 检测左边的数是否大于等于右边的，如果是，则返回 true。</td><td><code>[ $a -ge $b ]</code>返回 false。</td></tr><tr><td>-le</td><td>&lt;= 检测左边的数是否小于等于右边的，如果是，则返回 true。</td><td><code>[ $a -le $b ]</code> 返回 true。</td></tr></tbody></table></figure><h3><a name='header-n383' class='md-header-anchor '></a>实例</h3><p>关系运算符实例如下：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n385" mdtype="fences" style="break-inside: unset;">#!/bin/bash
# author:菜鸟教程
# url:www.runoob.com

a=10
b=20

if [ $a -eq $b ]
then
   echo "$a -eq $b : a 等于 b"
else
   echo "$a -eq $b: a 不等于 b"
fi
if [ $a -ne $b ]
then
   echo "$a -ne $b: a 不等于 b"
else
   echo "$a -ne $b : a 等于 b"
fi
if [ $a -gt $b ]
then
   echo "$a -gt $b: a 大于 b"
else
   echo "$a -gt $b: a 不大于 b"
fi
if [ $a -lt $b ]
then
   echo "$a -lt $b: a 小于 b"
else
   echo "$a -lt $b: a 不小于 b"
fi
if [ $a -ge $b ]
then
   echo "$a -ge $b: a 大于或等于 b"
else
   echo "$a -ge $b: a 小于 b"
fi
if [ $a -le $b ]
then
   echo "$a -le $b: a 小于或等于 b"
else
   echo "$a -le $b: a 大于 b"
fi
</pre><p>执行脚本，输出结果如下所示：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n387" mdtype="fences">10 -eq 20: a 不等于 b
10 -ne 20: a 不等于 b
10 -gt 20: a 不大于 b
10 -lt 20: a 小于 b
10 -ge 20: a 小于 b
10 -le 20: a 小于或等于 b
</pre><h3><a name='header-n388' class='md-header-anchor '></a>布尔运算符</h3><p>下表列出了常用的布尔运算符，假定变量 a 为 10，变量 b 为 20：</p><figure><table><thead><tr><th>运算符</th><th>说明</th><th>举例</th></tr></thead><tbody><tr><td>!</td><td>非运算，表达式为 true 则返回 false，否则返回 true。</td><td><code>[ ! false ]</code>返回 true。</td></tr><tr><td>-o</td><td>或运算，有一个表达式为 true 则返回 true。</td><td><code>[ $a -lt 20 -o $b -gt 100 ]</code> 返回 true。</td></tr><tr><td>-a</td><td>与运算，两个表达式都为 true 才返回 true。</td><td><code>[ $a -lt 20 -a $b -gt 100 ]</code> 返回 false。</td></tr></tbody></table></figure><h3><a name='header-n407' class='md-header-anchor '></a>实例</h3><p>布尔运算符实例如下：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n409" mdtype="fences" style="break-inside: unset;">#!/bin/bash
# author:菜鸟教程
# url:www.runoob.com

a=10
b=20

if [ $a != $b ]
then
   echo "$a != $b : a 不等于 b"
else
   echo "$a != $b: a 等于 b"
fi
if [ $a -lt 100 -a $b -gt 15 ]
then
   echo "$a 小于 100 且 $b 大于 15 : 返回 true"
else
   echo "$a 小于 100 且 $b 大于 15 : 返回 false"
fi
if [ $a -lt 100 -o $b -gt 100 ]
then
   echo "$a 小于 100 或 $b 大于 100 : 返回 true"
else
   echo "$a 小于 100 或 $b 大于 100 : 返回 false"
fi
if [ $a -lt 5 -o $b -gt 100 ]
then
   echo "$a 小于 5 或 $b 大于 100 : 返回 true"
else
   echo "$a 小于 5 或 $b 大于 100 : 返回 false"
fi
</pre><p>执行脚本，输出结果如下所示：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n411" mdtype="fences">10 != 20 : a 不等于 b
10 小于 100 且 20 大于 15 : 返回 true
10 小于 100 或 20 大于 100 : 返回 true
10 小于 5 或 20 大于 100 : 返回 false
</pre><h3><a name='header-n412' class='md-header-anchor '></a>逻辑运算符</h3><p>以下介绍 Shell 的逻辑运算符，假定变量 a 为 10，变量 b 为 20:</p><figure><table><thead><tr><th>运算符</th><th>说明</th><th>举例</th></tr></thead><tbody><tr><td>&amp;&amp;</td><td>逻辑的 AND</td><td>[[  $a -lt 100 &amp;&amp; $b -gt 100 ]] 返回 false</td></tr><tr><td>||</td><td>逻辑的 OR</td><td>[[  $a -lt 100 || $b -gt 100 ]] 返回 true</td></tr></tbody></table></figure><h3><a name='header-n427' class='md-header-anchor '></a>实例</h3><p>逻辑运算符实例如下：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n429" mdtype="fences" style="break-inside: unset;">#!/bin/bash
# author:菜鸟教程
# url:www.runoob.com

a=10
b=20

if [[ $a -lt 100 &amp;&amp; $b -gt 100 ]]
then
   echo "返回 true"
else
   echo "返回 false"
fi

if [[ $a -lt 100 || $b -gt 100 ]]
then
   echo "返回 true"
else
   echo "返回 false"
fi
</pre><p>执行脚本，输出结果如下所示：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n431" mdtype="fences">返回 false
返回 true
</pre><h3><a name='header-n432' class='md-header-anchor '></a>字符串运算符</h3><p>下表列出了常用的字符串运算符，假定变量 a 为 &quot;abc&quot;，变量 b 为 &quot;efg&quot;：</p><figure><table><thead><tr><th>运算符</th><th>说明</th><th>举例</th></tr></thead><tbody><tr><td>=</td><td>检测两个字符串是否相等，相等返回 true。</td><td>[ $a = $b ] 返回 false。</td></tr><tr><td>!=</td><td>检测两个字符串是否相等，不相等返回 true。</td><td>[ $a != $b ] 返回 true。</td></tr><tr><td>-z</td><td>检测字符串长度是否为0，为0返回 true。</td><td>[ -z $a ] 返回 false。</td></tr><tr><td>-n</td><td>检测字符串长度是否为0，不为0返回 true。</td><td>[ -n &quot;$a&quot; ] 返回 true。</td></tr><tr><td>$</td><td>检测字符串是否为空，不为空返回 true。</td><td>[ $a ] 返回 true。</td></tr></tbody></table></figure><h3><a name='header-n459' class='md-header-anchor '></a>实例</h3><p>字符串运算符实例如下：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n461" mdtype="fences" style="break-inside: unset;">#!/bin/bash
# author:菜鸟教程
# url:www.runoob.com

a="abc"
b="efg"

if [ $a = $b ]
then
   echo "$a = $b : a 等于 b"
else
   echo "$a = $b: a 不等于 b"
fi
if [ $a != $b ]
then
   echo "$a != $b : a 不等于 b"
else
   echo "$a != $b: a 等于 b"
fi
if [ -z $a ]
then
   echo "-z $a : 字符串长度为 0"
else
   echo "-z $a : 字符串长度不为 0"
fi
if [ -n "$a" ]
then
   echo "-n $a : 字符串长度不为 0"
else
   echo "-n $a : 字符串长度为 0"
fi
if [ $a ]
then
   echo "$a : 字符串不为空"
else
   echo "$a : 字符串为空"
fi
</pre><p>执行脚本，输出结果如下所示：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n463" mdtype="fences">abc = efg: a 不等于 b
abc != efg : a 不等于 b
-z abc : 字符串长度不为 0
-n abc : 字符串长度不为 0
abc : 字符串不为空
</pre><h3><a name='header-n464' class='md-header-anchor '></a>文件测试运算符</h3><p>文件测试运算符用于检测 Unix 文件的各种属性。</p><p>属性检测描述如下：</p><figure><table><thead><tr><th>操作符</th><th>说明</th><th>举例</th></tr></thead><tbody><tr><td>-b file</td><td>检测文件是否是块设备文件，如果是，则返回 true。</td><td>[ -b $file ] 返回 false。</td></tr><tr><td>-c file</td><td>检测文件是否是字符设备文件，如果是，则返回 true。</td><td>[ -c $file ] 返回 false。</td></tr><tr><td>-d file</td><td>检测文件是否是目录，如果是，则返回 true。</td><td>[ -d $file ] 返回 false。</td></tr><tr><td>-f file</td><td>检测文件是否是普通文件（既不是目录，也不是设备文件），如果是，则返回 true。</td><td>[ -f $file ] 返回 true。</td></tr><tr><td>-g file</td><td>检测文件是否设置了 SGID 位，如果是，则返回 true。</td><td>[ -g $file ] 返回 false。</td></tr><tr><td>-k file</td><td>检测文件是否设置了粘着位(Sticky Bit)，如果是，则返回 true。</td><td>[ -k $file ] 返回 false。</td></tr><tr><td>-p file</td><td>检测文件是否是有名管道，如果是，则返回 true。</td><td>[ -p $file ] 返回 false。</td></tr><tr><td>-u file</td><td>检测文件是否设置了 SUID 位，如果是，则返回 true。</td><td>[ -u $file ] 返回 false。</td></tr><tr><td>-r file</td><td>检测文件是否可读，如果是，则返回 true。</td><td>[ -r $file ] 返回 true。</td></tr><tr><td>-w file</td><td>检测文件是否可写，如果是，则返回 true。</td><td>[ -w $file ] 返回 true。</td></tr><tr><td>-x file</td><td>检测文件是否可执行，如果是，则返回 true。</td><td>[ -x $file ] 返回 true。</td></tr><tr><td>-s file</td><td>检测文件是否为空（文件大小是否大于0），不为空返回 true。</td><td>[ -s $file ] 返回 true。</td></tr><tr><td>-e file</td><td>检测文件（包括目录）是否存在，如果是，则返回 true。</td><td>[ -e $file ] 返回 true。</td></tr></tbody></table></figure><h3><a name='header-n524' class='md-header-anchor '></a>实例</h3><p>变量 file 表示文件&quot;/var/www/runoob/test.sh&quot;，它的大小为100字节，具有 rwx 权限。下面的代码，将检测该文件的各种属性：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n526" mdtype="fences" style="break-inside: unset;">#!/bin/bash
# author:菜鸟教程
# url:www.runoob.com

file="/var/www/runoob/test.sh"
if [ -r $file ]
then
   echo "文件可读"
else
   echo "文件不可读"
fi
if [ -w $file ]
then
   echo "文件可写"
else
   echo "文件不可写"
fi
if [ -x $file ]
then
   echo "文件可执行"
else
   echo "文件不可执行"
fi
if [ -f $file ]
then
   echo "文件为普通文件"
else
   echo "文件为特殊文件"
fi
if [ -d $file ]
then
   echo "文件是个目录"
else
   echo "文件不是个目录"
fi
if [ -s $file ]
then
   echo "文件不为空"
else
   echo "文件为空"
fi
if [ -e $file ]
then
   echo "文件存在"
else
   echo "文件不存在"
fi
</pre><p>执行脚本，输出结果如下所示：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n528" mdtype="fences">文件可读
文件可写
文件可执行
文件为普通文件
文件不是个目录
文件不为空
文件存在
</pre><ol start='' ><li><p>使用</p><p> </p><p>[[ ... ]]</p><p> </p><p>条件判断结构，而不是</p><p> </p><p>[ ... ]</p><p>，能够防止脚本中的许多逻辑错误。比如，</p><p>&amp;&amp;</p><p>、</p><p>||</p><p>、</p><p>&lt;</p><p> </p><p>和</p><p> </p><p>&gt;</p><p> </p><p>操作符能够正常存在于</p><p> </p><p>[[ ]]</p><p> </p><p>条件判断结构中，但是如果出现在</p><p> </p><p>[ ]</p><p> </p><p>结构中的话，会报错。</p><p>&nbsp;</p></li><li><p>1、进行数值比较时，可以使用 <strong>[ expression1 OPexpression2 ]</strong>，<strong>OP</strong> 可以为 <strong>-gt、-lt、-ge、-le、-eq、-ne</strong> 也可以使用 <strong>((expression1 OP expression2))</strong>，<strong>OP</strong> 可以为 <strong>&gt;、&lt;、&gt;=、&lt;=、==、!=</strong>。这几个关系运算符都是测试整数表达式 expression1 和 expression2 之间的大小关系。</p><p>2、 <strong>&gt;、&lt;、==、!=</strong> 也可以进行字符串比较。</p><p>3、进行字符串比较时，== 可以使用 = 替代。</p><p>4、 == 和 !=进行字符串比较时，可以使用 [ string1 OP string2 ] 或者 [[ string1 OP string2 ]] 的形式。</p><p>5、 &gt; 和 &lt; 进行字符串比较时，需要使用[[ string1 OP string2 ]] 或者 [ string1 \OP string2 ]。也就是使用 [] 时，&gt; 和 &lt; 需要使用反斜线转义。</p></li><li><p>字符串比较是否为 <strong>null</strong> 这里:</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n567" mdtype="fences">#!/bin/bash

a=""
if [ -n $a ]
then
   echo "-n $a : 字符串长度不为 0"
else
   echo "-n $a : 字符串长度为 0"
fi
</pre><p>输出结果为：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n569" mdtype="fences">-n  : 字符串长度不为 0
</pre><p>从结果上看 <strong>-n $a</strong> 返回 true，这并正确，正确的做法是 <strong>$a</strong> 这里应该加上双引号，否则 <strong>-n $a</strong> 的结果永远是 true：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n571" mdtype="fences">#!/bin/bash

a=""
if [ -n "$a" ]
then
   echo "-n $a : 字符串长度不为 0"
else
   echo "-n $a : 字符串长度为 0"
fi
</pre><p>输出结果为：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n573" mdtype="fences">-n  : 字符串长度为 0
</pre></li><li><p>Shell 相加目前发现有 3 种写法：</p><p><strong>1.</strong></p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n577" mdtype="fences">a=10
b=20
c=`expr ${a} + ${b}`
echo "$c"
</pre><p><strong>2.</strong></p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n579" mdtype="fences">c=$[ `expr 10 + 20` ]
echo "$c"
</pre><p><strong>3.</strong></p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n581" mdtype="fences">c=$[ 10 + 20 ]
echo "$c"
</pre><p>初学者推荐第一种写法，虽然看着复杂，但逻辑清晰，不易混淆。</p></li><li><p>推荐用 <strong>$()</strong> 代替 <strong>``</strong>:</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n585" mdtype="fences">val=`expr 10 + 20`

val=$(expr 10 + 20)
</pre></li><li><p>相加补充一种方式：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n588" mdtype="fences">a=10
b=20
c=$(($a+$b))
</pre><p>&nbsp;</p><h3><a name='header-n590' class='md-header-anchor '></a>Shell 里面的中括号（包括单中括号与双中括号）可用于一些条件的测试：</h3><ul><li><p>算术比较, 比如一个变量是否为0, <code>[ $var -eq 0 ]</code>。</p></li><li><p>文件属性测试，比如一个文件是否存在，<code>[ -e $var ]</code>, 是否是目录，<code>[ -d $var ]</code>。</p></li><li><p>字符串比较, 比如两个字符串是否相同， <code>[[ $var1 = $var2 ]]</code>。</p><p>[] 常常可以使用 test 命令来代替，后面有介绍。</p></li></ul><p><strong>[] 表达式</strong></p><p>注意</p><p>：在 [] 表达式中，常见的 &gt;, &lt; 需要加转义字符，表示字符串大小比较，以 acill 码位置作为比较。不直接支持 &gt;, &lt; 运算符，还有逻辑运算符 || 、&amp;&amp; ，它需要用 -a[and] –o[or] 表示。</p><p><strong>[[ ]] 表达式</strong></p><p><strong>注意</strong>：[[]] 运算符只是 [] 运算符的扩充。能够支持 &gt;, &lt; 符号运算不需要转义符，它还是以字符串比较大小。里面支持逻辑运算符：<strong>|| &amp;&amp;</strong> ，不再使用 <strong>-a -o</strong>；[[]]支持正则,[]不支持</p></li></ol><p>&nbsp;</p><h2><a name='header-n605' class='md-header-anchor '></a>中括号（包括单中括号与双中括号）</h2><ul><li><p>算术比较, 比如一个变量是否为0, <code>[ $var -eq 0 ]</code>。</p></li><li><p>文件属性测试，比如一个文件是否存在，<code>[ -e $var ]</code>, 是否是目录，<code>[ -d $var ]</code>。</p></li><li><p>字符串比较, 比如两个字符串是否相同， <code>[[ $var1 = $var2 ]]</code>。</p><p>[] 常常可以使用 test 命令来代替，后面有介绍。</p></li></ul><p><strong>[] 表达式</strong></p><p>注意</p><p>：在 [] 表达式中，常见的 &gt;, &lt; 需要加转义字符，表示字符串大小比较，以 acill 码位置作为比较。不直接支持 &gt;, &lt; 运算符，还有逻辑运算符 || 、&amp;&amp; ，它需要用 -a[and] –o[or] 表示。</p><p><strong>[[ ]] 表达式</strong></p><p><strong>注意</strong>：[[]] 运算符只是 [] 运算符的扩充。能够支持 &gt;, &lt; 符号运算不需要转义符，它还是以字符串比较大小。里面支持逻辑运算符：<strong>|| &amp;&amp;</strong> ，不再使用 <strong>-a -o</strong>；[[]]支持正则,[]不支持</p><p><strong>6.1 test 命令</strong></p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n620" mdtype="fences" style="break-inside: unset;">\# test 1 = 1 &amp;&amp; echo 'ok'

ok

\# test -d /etc/ &amp;&amp; echo 'ok'

ok

\# test 1 -eq 1 &amp;&amp; echo 'ok'

ok

\# if test 1 = 1 ; then echo 'ok'; fi

ok
</pre><p><strong>注意：所有字符 与逻辑运算符直接用“空格”分开，不能连到一起。test 1=1就是错误的！</strong></p><p><strong>6.2 [] 表达式</strong></p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n623" mdtype="fences" style="break-inside: unset;"># [ 1 -eq 1 ] &amp;&amp; echo 'ok'

ok

\# [ 2 &lt; 1 ] &amp;&amp; echo 'ok'

-bash: 2: No such file or directory

\# [ 2 \&lt; 1 ] &amp;&amp; echo 'ok'

\# [ 2 -gt 1 -a 3 -lt 4 ] &amp;&amp; echo 'ok'

ok

\# [ 2 -gt 1 &amp;&amp; 3 -lt 4 ] &amp;&amp; echo 'ok'

-bash: [: missing `]'
</pre><p><strong>注意：在[] 表达式中，常见的&gt;, &lt;需要加转义字符，表示字符串大小比较，以acill码 位置作为比较。</strong></p><p><strong>不直接支持&lt;, &gt;运算符，还有逻辑运算符|| , &amp;&amp; 它需要用-a[and] –o[or]表示</strong></p><p><strong>6.3 [[]] 表达式</strong></p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n627" mdtype="fences" style="break-inside: unset;">\# [ 1 -eq 1 ] &amp;&amp; echo 'ok'

ok

\# [[ 2 &lt; 3 ]] &amp;&amp; echo 'ok'

ok

\#[[ 2 &lt; 3 &amp;&amp; 4 &gt; 5 ]] &amp;&amp; echo 'ok'

ok

 [[ 2 &lt; 3 -a 3 &gt; 4 ]] &amp;&amp; echo "ok"

-bash: syntax error in conditional expression

-bash: syntax error near `-a'
</pre><p><strong>注意：[[]] 运算符只是[]运算符的扩充。能够支持&lt;,&gt;符号运算不需要转义符，它还是以字符串比较大小。里面支持逻辑运算符：|| &amp;&amp; ，不再使用-a -o</strong></p><p><strong>一，[[用&quot;&amp;&amp;&quot;而不是&quot;-a&quot;表示逻辑&quot;与&quot;，用&quot;||&quot;而不是&quot;-o&quot;表示逻辑&quot;或&quot;:</strong></p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n630" mdtype="fences" style="break-inside: unset;">\# [[ 1 &lt; 2 &amp;&amp; b &gt; a ]] &amp;&amp; echo true || echo false

true

\# [[ 1 &lt; 2 -a b &gt; a ]] &amp;&amp; echo true || echo false

bash: syntax error in conditional expression

bash: syntax error near `-a’

\# [ 1 &lt; 2 -a b &gt; a ] &amp;&amp; echo true || echo false

true

\# [ 1 &lt; 2 &amp;&amp; b &gt; a  ]&amp;&amp; echo true || echo false #wrong syntax

bash: [: missing `]‘

false
</pre><p><strong>二，[ ... ]为shell命令，所以在其中的表达式应是它的命令行参数，所以串比较操作符”&gt;” 与”&lt;”必须转义，否则就变成IO改向操作符了。[[中&quot;&lt;&quot;与&quot;&gt;&quot;不需转义：</strong></p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n632" mdtype="fences">\#  [ 2 \&lt; 10 ] &amp;&amp; echo true || echo false  #you should use “\&lt;”

false

\#[ 2 -lt 10 ] &amp;&amp; echo true || echo false

true

\#  [[ 2 &lt; 10 ]] &amp;&amp; echo true || echo false

false
</pre><p><strong>三，<code></code>.<code>.</code>.<code></code>进行算术扩展，而[ ... ]不做。</strong></p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n634" mdtype="fences">\#  [[ 99+1 -eq 100 ]] &amp;&amp; echo true || echo false

true

\#  [ 99+1 -eq 100 ] &amp;&amp; echo true || echo false

bash: [: 99+1: integer expression expected

false

\#  [ $((99+1)) -eq 100 ] &amp;&amp; echo true || echo false

true
</pre><p><strong>四，[[]]能用正则，而[]不行</strong></p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n636" mdtype="fences" style="break-inside: unset;">\# [ "test.php" == *.php ] &amp;&amp; echo true || echo false

false

\# [[ "test.php" == *.php ]] &amp;&amp; echo true || echo false

true

\# [[ "t.php" == [a-z].php ]] &amp;&amp; echo true || echo false

true

\# [ "test.php" == "*.php" ] &amp;&amp; echo true || echo false

false

\# [[ "test.php" == "*.php" ]] &amp;&amp; echo true || echo false

false

注意：双引号（"")的作用
</pre><p>&nbsp;</p><h2><a name='header-n638' class='md-header-anchor '></a>命令：let</h2><p>let 命令是 BASH 中用于计算的工具，用于执行一个或多个表达式，变量计算中不需要加上 $ 来表示变量。如果表达式中包含了空格或其他特殊字符，则必须引起来。</p><h3><a name='header-n640' class='md-header-anchor '></a>语法格式</h3><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n641" mdtype="fences">let arg [arg ...]
</pre><h3><a name='header-n642' class='md-header-anchor '></a>参数说明：</h3><p>arg：要执行的表达式</p><h3><a name='header-n644' class='md-header-anchor '></a>实例：</h3><p>自加操作：<strong>let no++</strong></p><p>自减操作：<strong>let no--</strong></p><p>简写形式 <strong>let no+=10，let no-=20</strong>，分别等同于 <strong>let no=no+10，let no=no-20</strong>。</p><p>以下实例计算 a 和 b 两个表达式，并输出结果：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n649" mdtype="fences">#!/bin/bash

let a=5+4
let b=9-3 
echo $a $b
</pre><p>以上实例执行结果为：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n651" mdtype="fences">9 6
</pre><p>&nbsp;</p><h2><a name='header-n653' class='md-header-anchor '></a>eval命令</h2><p><code>反引号和$()都是用来做命令替换的，命令替换就是用来重组命令行，先完成引号里面的命令，然后将其结果替换出来，再重组成新的命令行。也就是在执行一条命令时，会现将其中的</code> `，或者是$()中的语句当做命令执行一遍，再将结果加入到原命令中重新执行，例如： &#39;</p><p><img src='https://s2.51cto.com/wyfs02/M00/82/A5/wKioL1deHv6xpo9OAAAlhY606G4859.png' alt='alt=&#39;&#39;' referrerPolicy='no-referrer' /></p><p>&nbsp;</p><p>     从上面我们可以看到，当我们echo反引号里面的ls命令时，和我们直接执行ls命令是一样的，也就正应里我们前面说的，也就是在执行一条命令时，会现将其中的<code></code>，或者是$()中的语句当做命令执行一遍，再将结果加入到原命令中重新执行。</p><p>       虽然在操作上，这两种都能达到同样的效果，但是在平时的使用中，我们尽量使用$(),因为：</p><p>              首先，反引号<code></code>与单引号‘ ’在使用上很可能混淆，给我们带来不必要的麻烦</p><p>              其次，在多层次的复合替换中，反引号<code></code>需要有额外的跳脱处理（反斜杠），而$()比较直观；</p><p>              但是$()的弊端就是并不是所有的unix系统都支持这种方式，但反引号是肯定支持的。</p><p>eval命令用法：</p><p>        当我们在命令行前加上eval时，shell就会在执行命令之前扫描它两次.eval命令将首先会先扫描命令行进行所有的置换，然后再执行该命令。该命令适用于那些一次扫描无法实现其功能的变量。该命令对变量进行两次扫描。</p><ol start='' ><li>eval可以用来回显简单的变量：</li></ol><p>    <a href='https://s5.51cto.com/wyfs02/M01/82/A5/wKioL1deJS6wUaiJAAAaYdaKV5I781.png'><img src='https://s5.51cto.com/wyfs02/M01/82/A5/wKioL1deJS6wUaiJAAAaYdaKV5I781.png' alt='wKioL1deJS6wUaiJAAAaYdaKV5I781.png' referrerPolicy='no-referrer' /></a></p><p>    这样和普通的没有加eval关键字的命令的作用一样</p><p>2.eval也能用来执行含有字符串的命令：</p><p>         首先我们先来创建一个file文件，在这个文件中输入一些我们想要输出的文本，然后我们将cat file赋给变量myfile，整个过程如下：</p><p><a href='https://s3.51cto.com/wyfs02/M01/82/A5/wKioL1deJuig33V2AAA5CRWaAcI566.png'><img src='https://s3.51cto.com/wyfs02/M01/82/A5/wKioL1deJuig33V2AAA5CRWaAcI566.png' alt='wKioL1deJuig33V2AAA5CRWaAcI566.png' referrerPolicy='no-referrer' /></a></p><p>       从上面我们可以看到，当我们把cat file直接赋予myfile变量后，我们直接echo myfile的内容将不会输出我们在file文件里面的文本。然后当我们用eval命令后，就会输出我们想要的内容。这时因为eval命令不但可以置换该变量，还能执行相应的命令。在第一次扫描中进行了变量置换，第二次扫描就执行了该变量所包含的字符串里面的cat file 命令，所以就输出了我们想要的内容。</p><p>3.eval命令还可以显示我们传递给脚本的最后一个参数：</p><p>         我们现在有如下一个脚本：</p><p>            <a href='https://s2.51cto.com/wyfs02/M00/82/A8/wKiom1deKEeiz7v6AAAPkVAlSY4951.png'><img src='https://s2.51cto.com/wyfs02/M00/82/A8/wKiom1deKEeiz7v6AAAPkVAlSY4951.png' alt='wKiom1deKEeiz7v6AAAPkVAlSY4951.png' referrerPolicy='no-referrer' /></a></p><p>我们有如下的执行过程：</p><p><a href='https://s5.51cto.com/wyfs02/M00/82/A8/wKiom1deKL_jf0q0AAAW7TqaYvk986.png'><img src='https://s5.51cto.com/wyfs02/M00/82/A8/wKiom1deKL_jf0q0AAAW7TqaYvk986.png' alt='wKiom1deKL_jf0q0AAAW7TqaYvk986.png' referrerPolicy='no-referrer' /></a></p><p>       从上面的执行结果们可以看到，当我们执行该脚本时，结果总是我们输入的最后一个参数，这时怎么回事呢？这正是eval的这种用法，在上面的脚本中，eval命令首先把$$#解析为当前shell的参数个数（我们这里为4），然后再第二次扫描时才得出最后一个参数。</p><p>4.eval命令也可以创建指向变量的指针：</p><p><a href='https://s5.51cto.com/wyfs02/M01/82/A6/wKioL1deLEigxithAAAggTVMg00244.png'><img src='https://s5.51cto.com/wyfs02/M01/82/A6/wKioL1deLEigxithAAAggTVMg00244.png' alt='wKioL1deLEigxithAAAggTVMg00244.png' referrerPolicy='no-referrer' /></a></p><p>      在上面的命令中，我们先定义了一个变量val=100；然后又定义了个ptr并把val赋予之。然后我们用eval命令来解析ptr的值，我们可以看到是100.然后我们通过ptr修改了val的值，此时再看val的值，就变成了50了。</p><p>&nbsp;</p><h2><a name='header-n683' class='md-header-anchor '></a>Shell echo命令</h2><p>Shell 的 echo 指令与 PHP 的 echo 指令类似，都是用于字符串的输出。命令格式：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n685" mdtype="fences">echo string
</pre><p>您可以使用echo实现更复杂的输出格式控制。</p><h3><a name='header-n687' class='md-header-anchor '></a>1.显示普通字符串:</h3><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n688" mdtype="fences">echo "It is a test"
</pre><p>这里的双引号完全可以省略，以下命令与上面实例效果一致：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n690" mdtype="fences">echo It is a test
</pre><h3><a name='header-n691' class='md-header-anchor '></a>2.显示转义字符</h3><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n692" mdtype="fences">echo "\"It is a test\""
</pre><p>结果将是:</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n694" mdtype="fences">"It is a test"
</pre><p>同样，双引号也可以省略</p><h3><a name='header-n696' class='md-header-anchor '></a>3.显示变量</h3><p>read 命令从标准输入中读取一行,并把输入行的每个字段的值指定给 shell 变量</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n698" mdtype="fences">#!/bin/sh
read name 
echo "$name It is a test"
</pre><p>以上代码保存为 test.sh，name 接收标准输入的变量，结果将是:</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n700" mdtype="fences">[root@www ~]# sh test.sh
OK                     #标准输入
OK It is a test        #输出
</pre><h3><a name='header-n701' class='md-header-anchor '></a>4.显示换行</h3><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n702" mdtype="fences">echo -e "OK! \n" # -e 开启转义
echo "It is a test"
</pre><p>输出结果：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n704" mdtype="fences">OK!

It is a test
</pre><h3><a name='header-n705' class='md-header-anchor '></a>5.显示不换行</h3><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n706" mdtype="fences">#!/bin/sh
echo -e "OK! \c" # -e 开启转义 \c 不换行
echo "It is a test"
</pre><p>输出结果：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n708" mdtype="fences">OK! It is a test
</pre><h3><a name='header-n709' class='md-header-anchor '></a>6.显示结果定向至文件</h3><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n710" mdtype="fences">echo "It is a test" &gt; myfile
</pre><h3><a name='header-n711' class='md-header-anchor '></a>7.原样输出字符串，不进行转义或取变量(用单引号)</h3><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n712" mdtype="fences">echo '$name\"'
</pre><p>输出结果：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n714" mdtype="fences">$name\"
</pre><h3><a name='header-n715' class='md-header-anchor '></a>8.显示命令执行结果</h3><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n716" mdtype="fences">echo `date`
</pre><p><strong>注意：</strong> 这里使用的是反引号 <strong>`</strong>, 而不是单引号 <strong>&#39;</strong>。</p><p>结果将显示当前日期</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n719" mdtype="fences">Thu Jul 24 10:08:46 CST 2014
</pre><hr /><p>&nbsp;</p><ol start='' ><li><p>echo输出的字符串总结</p><p>       <span>		</span>能否引用变量  |  能否引用转移符  |  能否引用文本格式符(如：换行符、制表符)</p><p>单引号  |           否           |             否             |                             否</p><p>双引号  |           能           |             能             |                             能</p><p>无引号  |           能           |             能             |                             否                          </p><p>&nbsp;</p></li><li><p>read 命令一个一个词组地接收输入的参数，每个词组需要使用空格进行分隔；如果输入的词组个数大于需要的参数个数，则多出的词组将被作为整体为最后一个参数接收。</p><p>测试文件 test.sh 代码如下：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n733" mdtype="fences">read firstStr secondStr
echo "第一个参数:$firstStr; 第二个参数:$secondStr"
</pre><p>执行测试：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n735" mdtype="fences">$ sh test.sh 
一 二 三 四
第一个参数:一; 第二个参数:二 三 四
</pre><p>实例, 文件 test.sh:</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n737" mdtype="fences">read -p "请输入一段文字:" -n 6 -t 5 -s password
echo -e "\npassword is $password"
</pre><p>参数说明：</p><ul><li><strong>-p</strong> 输入提示文字</li><li><strong>-n</strong> 输入字符长度限制(达到6位，自动结束)</li><li><strong>-t</strong> 输入限时</li><li><strong>-s</strong> 隐藏输入内容</li></ul><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n748" mdtype="fences">$ sh test.sh 
请输入一段文字:
password is asdfgh
</pre></li></ol><p>&nbsp;</p><h2><a name='header-n750' class='md-header-anchor '></a>Shell printf 命令</h2><p>printf 命令模仿 C 程序库（library）里的 printf() 程序。</p><p>printf 由 POSIX 标准所定义，因此使用 printf 的脚本比使用 echo 移植性好。</p><p>printf 使用引用文本或空格分隔的参数，外面可以在 printf 中使用格式化字符串，还可以制定字符串的宽度、左右对齐方式等。默认 printf 不会像 echo 自动添加换行符，我们可以手动添加 \n。</p><p>printf 命令的语法：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n755" mdtype="fences">printf  format-string  [arguments...]
</pre><p><strong>参数说明：</strong></p><ul><li><strong>format-string:</strong> 为格式控制字符串</li><li><strong>arguments:</strong> 为参数列表。</li></ul><p>实例如下：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n763" mdtype="fences">$ echo "Hello, Shell"
Hello, Shell
$ printf "Hello, Shell\n"
Hello, Shell
$
</pre><h3><a name='header-n764' class='md-header-anchor '></a>%s  %c  %d   %f   都是格式替代符</h3><p><strong>d: Decimal 十进制整数</strong> -- 对应位置参数必须是十进制整数，否则报错！</p><p><strong>s: String 字符串</strong> -- 对应位置参数必须是字符串或者字符型，否则报错！</p><p><strong>c: Char 字符</strong> -- 对应位置参数必须是字符串或者字符型，否则报错！</p><p><strong>f: Float 浮点</strong> -- 对应位置参数必须是数字型，否则报错！</p><p>如：其中最后一个参数是 &quot;def&quot;，%c 自动截取字符串的第一个字符作为结果输出。</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n770" mdtype="fences">$  printf "%d %s %c\n" 1 "abc" "def"
1 abc d
</pre><p>%-10s 指一个宽度为10个字符（-表示左对齐，没有则表示右对齐），任何字符都会被显示在10个字符宽的字符内，如果不足则自动以空格填充，超过也会将内容全部显示出来。</p><p>%-4.2f 指格式化为小数，其中.2指保留2位小数。</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n773" mdtype="fences">#!/bin/bash
printf "%-10s %-8s %-4s\n" 姓名 性别 体重kg  
printf "%-10s %-8s %-4.2f\n" 郭靖 男 66.1234 
printf "%-10s %-8s %-4.2f\n" 杨过 男 48.6543 
printf "%-10s %-8s %-4.2f\n" 郭芙 女 47.9876 
</pre><p>执行脚本，输出结果如下所示：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n775" mdtype="fences">姓名     性别   体重kg
郭靖     男      66.12
杨过     男      48.65
郭芙     女      47.99
</pre><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n776" mdtype="fences" style="break-inside: unset;">#!/bin/bash
# author:菜鸟教程
# url:www.runoob.com
 
# format-string为双引号
printf "%d %s\n" 1 "abc"

# 单引号与双引号效果一样 
printf '%d %s\n' 1 "abc" 

# 没有引号也可以输出
printf %s abcdef

# 格式只指定了一个参数，但多出的参数仍然会按照该格式输出，format-string 被重用
printf %s abc def

printf "%s\n" abc def

printf "%s %s %s\n" a b c d e f g h i j

# 如果没有 arguments，那么 %s 用NULL代替，%d 用 0 代替
printf "%s and %d \n" 
</pre><p>执行脚本，输出结果如下所示：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n778" mdtype="fences">1 abc
1 abc
abcdefabcdefabc
def
a b c
d e f
g h i
j  
 and 0
</pre><h2><a name='header-n779' class='md-header-anchor '></a>printf的转义序列</h2><figure><table><thead><tr><th>序列</th><th>说明</th></tr></thead><tbody><tr><td>\a</td><td>警告字符，通常为ASCII的BEL字符</td></tr><tr><td>\b</td><td>后退</td></tr><tr><td>\c</td><td>抑制（不显示）输出结果中任何结尾的换行字符（只在%b格式指示符控制下的参数字符串中有效），而且，任何留在参数里的字符、任何接下来的参数以及任何留在格式字符串中的字符，都被忽略</td></tr><tr><td>\f</td><td>换页（formfeed）</td></tr><tr><td>\n</td><td>换行</td></tr><tr><td>\r</td><td>回车（Carriage return）</td></tr><tr><td>\t</td><td>水平制表符</td></tr><tr><td>\v</td><td>垂直制表符</td></tr><tr><td>\</td><td>一个字面上的反斜杠字符</td></tr><tr><td>\ddd</td><td>表示1到3位数八进制值的字符。仅在格式字符串中有效</td></tr><tr><td>\0ddd</td><td>表示1到3位的八进制值字符</td></tr></tbody></table></figure><h3><a name='header-n817' class='md-header-anchor '></a>实例</h3><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n818" mdtype="fences">$ printf "a string, no processing:&lt;%s&gt;\n" "A\nB"
a string, no processing:&lt;A\nB&gt;

$ printf "a string, no processing:&lt;%b&gt;\n" "A\nB"
a string, no processing:&lt;A
B&gt;

$ printf "www.runoob.com \a"
www.runoob.com $                  #不换行
</pre><h2><a name='header-n820' class='md-header-anchor '></a>Shell test 命令</h2><p>Shell中的 test 命令用于检查某个条件是否成立，它可以进行数值、字符和文件三个方面的测试。</p><hr /><h3><a name='header-n823' class='md-header-anchor '></a>数值测试</h3><figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>-eq</td><td>等于则为真</td></tr><tr><td>-ne</td><td>不等于则为真</td></tr><tr><td>-gt</td><td>大于则为真</td></tr><tr><td>-ge</td><td>大于等于则为真</td></tr><tr><td>-lt</td><td>小于则为真</td></tr><tr><td>-le</td><td>小于等于则为真</td></tr></tbody></table></figure><p>实例演示：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n847" mdtype="fences">num1=100
num2=100
if test $[num1] -eq $[num2]
then
    echo '两个数相等！'
else
    echo '两个数不相等！'
fi
</pre><p>输出结果：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n849" mdtype="fences">两个数相等！
</pre><p>代码中的 [] 执行基本的算数运算，如：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n851" mdtype="fences">#!/bin/bash

a=5
b=6

result=$[a+b] # 注意等号两边不能有空格
echo "result 为： $result"
</pre><p>结果为:</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n853" mdtype="fences">result 为： 11
</pre><hr /><h2><a name='header-n855' class='md-header-anchor '></a>字符串测试</h2><figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>=</td><td>等于则为真</td></tr><tr><td>!=</td><td>不相等则为真</td></tr><tr><td>-z 字符串</td><td>字符串的长度为零则为真</td></tr><tr><td>-n 字符串</td><td>字符串的长度不为零则为真</td></tr></tbody></table></figure><p>实例演示：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n873" mdtype="fences">num1="ru1noob"
num2="runoob"
if test $num1 = $num2
then
    echo '两个字符串相等!'
else
    echo '两个字符串不相等!'
fi
</pre><p>输出结果：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n875" mdtype="fences">两个字符串不相等!
</pre><hr /><h2><a name='header-n877' class='md-header-anchor '></a>文件测试</h2><figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>-e 文件名</td><td>如果文件存在则为真</td></tr><tr><td>-r 文件名</td><td>如果文件存在且可读则为真</td></tr><tr><td>-w 文件名</td><td>如果文件存在且可写则为真</td></tr><tr><td>-x 文件名</td><td>如果文件存在且可执行则为真</td></tr><tr><td>-s 文件名</td><td>如果文件存在且至少有一个字符则为真</td></tr><tr><td>-d 文件名</td><td>如果文件存在且为目录则为真</td></tr><tr><td>-f 文件名</td><td>如果文件存在且为普通文件则为真</td></tr><tr><td>-c 文件名</td><td>如果文件存在且为字符型特殊文件则为真</td></tr><tr><td>-b 文件名</td><td>如果文件存在且为块特殊文件则为真</td></tr></tbody></table></figure><p>实例演示：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n910" mdtype="fences">cd /bin
if test -e ./bash
then
    echo '文件已存在!'
else
    echo '文件不存在!'
fi
</pre><p>输出结果：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n912" mdtype="fences">文件已存在!
</pre><p>另外，Shell还提供了与( -a )、或( -o )、非( ! )三个逻辑操作符用于将测试条件连接起来，其优先级为：&quot;!&quot;最高，&quot;-a&quot;次之，&quot;-o&quot;最低。例如：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n914" mdtype="fences">cd /bin
if test -e ./notFile -o -e ./bash
then
    echo '至少有一个文件存在!'
else
    echo '两个文件都不存在'
fi
</pre><p>输出结果：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n916" mdtype="fences">至少有一个文件存在!
</pre><p>&nbsp;</p><h2><a name='header-n918' class='md-header-anchor '></a>选择语句</h2><h4><a name='header-n919' class='md-header-anchor '></a>if 、elif  后面要跟 then,结束要以 fi 结束，如果else分支没有语句执行，就不要写这个else。 </h4><h3><a name='header-n920' class='md-header-anchor '></a>if 语句语法格式：</h3><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n921" mdtype="fences">if condition
then
    command1 
    command2
    ...
    commandN 
fi
</pre><p>写成一行（适用于终端命令提示符）：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n923" mdtype="fences">if [ $(ps -ef | grep -c "ssh") -gt 1 ]; then echo "true"; fi
</pre><p>末尾的fi就是if倒过来拼写，后面还会遇到类似的。</p><h3><a name='header-n925' class='md-header-anchor '></a>if else 语法格式：</h3><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n926" mdtype="fences">if condition
then
    command1 
    command2
    ...
    commandN
else
    command
fi
</pre><h3><a name='header-n927' class='md-header-anchor '></a>if else-if else 语法格式：</h3><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n928" mdtype="fences">if condition1
then
    command1
elif condition2 
then 
    command2
else
    commandN
fi
</pre><p>以下实例判断两个变量是否相等：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n930" mdtype="fences" style="break-inside: unset;">a=10
b=20
if [ $a == $b ]
then
   echo "a 等于 b"
elif [ $a -gt $b ]
then
   echo "a 大于 b"
elif [ $a -lt $b ]
then
   echo "a 小于 b"
else
   echo "没有符合的条件"
fi
</pre><p>输出结果：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n932" mdtype="fences">a 小于 b
</pre><h4><a name='header-n933' class='md-header-anchor '></a>if else语句经常与test命令结合使用，如下所示：</h4><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n934" mdtype="fences">num1=$[2*3]
num2=$[1+5]
if test $[num1] -eq $[num2]
then
    echo '两个数字相等!'
else
    echo '两个数字不相等!'
fi
</pre><p>输出结果：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n936" mdtype="fences">两个数字相等!
</pre><h2><a name='header-n937' class='md-header-anchor '></a>case语句</h2><p>Shell case语句为多选择语句。可以用case语句匹配一个值与一个模式，如果匹配成功，执行相匹配的命令。case语句格式如下：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n939" mdtype="fences" style="break-inside: unset;">case 值 in
模式1)
    command1
    command2
    ...
    commandN
    ;;
模式2）
    command1
    command2
    ...
    commandN
    ;;
esac
</pre><p>case工作方式如上所示。取值后面必须为单词in，每一模式必须以右括号结束。取值可以为变量或常数。匹配发现取值符合某一模式后，其间所有命令开始执行直至 ;;。</p><p>取值将检测匹配的每一个模式。一旦模式匹配，则执行完匹配模式相应命令后不再继续其他模式。如果无一匹配模式，使用星号 * 捕获该值，再执行后面的命令。</p><p>下面的脚本提示输入1到4，与每一种模式进行匹配：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n943" mdtype="fences" style="break-inside: unset;">echo '输入 1 到 4 之间的数字:'
echo '你输入的数字为:'
read aNum
case $aNum in
    1)  echo '你选择了 1'
    ;;
    2)  echo '你选择了 2'
    ;;
    3)  echo '你选择了 3'
    ;;
    4)  echo '你选择了 4'
    ;;
    *)  echo '你没有输入 1 到 4 之间的数字'
    ;;
esac
</pre><p>输入不同的内容，会有不同的结果，例如：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n945" mdtype="fences">输入 1 到 4 之间的数字:
你输入的数字为:
3
你选择了 3
</pre><h2><a name='header-n946' class='md-header-anchor '></a>esac</h2><p>case的语法和C family语言差别很大，它需要一个esac（就是case反过来）作为结束标记，每个case分支用右圆括号，用两个分号表示break</p><p>&nbsp;</p><h2><a name='header-n949' class='md-header-anchor '></a>循环语句</h2><h3><a name='header-n950' class='md-header-anchor '></a>for 循环</h3><p>与其他编程语言类似，Shell支持for循环。</p><p>for循环一般格式为：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n953" mdtype="fences">for var in item1 item2 ... itemN
do
    command1
    command2
    ...
    commandN
done
</pre><p>写成一行：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n955" mdtype="fences">for var in item1 item2 ... itemN; do command1; command2… done;
</pre><p>当变量值在列表里，for循环即执行一次所有命令，使用变量名获取列表中的当前取值。命令可为任何有效的shell命令和语句。in列表可以包含替换、字符串和文件名。</p><p>in列表是可选的，如果不用它，for循环使用命令行的位置参数。</p><p>例如，顺序输出当前列表中的数字：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n959" mdtype="fences">for loop in 1 2 3 4 5
do
    echo "The value is: $loop"
done
</pre><p>输出结果：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n961" mdtype="fences">The value is: 1
The value is: 2
The value is: 3
The value is: 4
The value is: 5
</pre><p>顺序输出字符串中的字符：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n963" mdtype="fences">for str in 'This is a string'
do
    echo $str
done
</pre><p>输出结果：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n965" mdtype="fences">This is a string
</pre><hr /><p>shell 中的 for 循环不仅可以用文章所述的方法。</p><p>对于习惯其他语言 for 循环的朋友来说可能有点别扭。</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n969" mdtype="fences">for((assignment;condition:next));do
    command_1;
    command_2;
    commond_..;
done;
</pre><p>如上所示，这里的 for 循环与 C 中的相似，但并不完全相同。</p><p>通常情况下 shell 变量调用需要加 $,但是 for 的 (()) 中不需要,下面来看一个例子：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n972" mdtype="fences">#!/bin/bash
for((i=1;i&lt;=5;i++));do
    echo "这是第 $i 次调用";
done;
</pre><p>执行结果：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n974" mdtype="fences">这是第1次调用
这是第2次调用
这是第3次调用
这是第4次调用
这是第5次调用
</pre><p>与 C 中相似，赋值和下一步执行可以放到代码之前循环语句之中执行，这里要注意一点：如果要在循环体中进行 for 中的 next 操作，记得变量要加 $，不然程序会变成死循环。</p><h3><a name='header-n976' class='md-header-anchor '></a>while 语句</h3><p>while循环用于不断执行一系列命令，也用于从输入文件中读取数据；命令通常为测试条件。其格式为：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n978" mdtype="fences">while condition
do
    command
done
</pre><p>以下是一个基本的while循环，测试条件是：如果int小于等于5，那么条件返回真。int从0开始，每次循环处理时，int加1。运行上述脚本，返回数字1到5，然后终止。</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n980" mdtype="fences">#!/bin/bash
int=1
while(( $int&lt;=5 ))
do
    echo $int
    let "int++"
done
</pre><p>运行脚本，输出：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n982" mdtype="fences">1
2
3
4
5
</pre><p>使用中使用了 Bash let 命令，它用于执行一个或多个表达式，变量计算中不需要加上 $ 来表示变量，具体可查阅：<a href='http://www.runoob.com/linux/linux-comm-let.html'>Bash let 命令</a></p><p>。</p><p>while循环可用于读取键盘信息。下面的例子中，输入信息被设置为变量FILM，按<Ctrl-D>结束循环。</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n986" mdtype="fences">echo '按下 &lt;CTRL-D&gt; 退出'
echo -n '输入你最喜欢的网站名: '
while read FILM
do
    echo "是的！$FILM 是一个好网站"
done
</pre><p>运行脚本，输出类似下面：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n988" mdtype="fences">按下 &lt;CTRL-D&gt; 退出
输入你最喜欢的网站名:菜鸟教程
是的！菜鸟教程 是一个好网站
</pre><h3><a name='header-n989' class='md-header-anchor '></a>无限循环</h3><p>无限循环语法格式：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n991" mdtype="fences">while :
do
    command
done
</pre><p>或者</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n993" mdtype="fences">while true
do
    command
done
</pre><p>或者</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n995" mdtype="fences">for (( ; ; ))
</pre><hr /><h3><a name='header-n997' class='md-header-anchor '></a>until 循环</h3><p>until 循环执行一系列命令直至条件为 true 时停止。</p><p>until 循环与 while 循环在处理方式上刚好相反。</p><p>一般 while 循环优于 until 循环，但在某些时候—也只是极少数情况下，until 循环更加有用。</p><p>until 语法格式:</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n1002" mdtype="fences">until condition
do
    command
done
</pre><p>condition 一般为条件表达式，如果返回值为 false，则继续执行循环体内的语句，否则跳出循环。</p><p>以下实例我们使用 until 命令来输出 0 ~ 9 的数字：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n1005" mdtype="fences">#!/bin/bash

a=0

until [ ! $a -lt 10 ]
do
   echo $a
   a=`expr $a + 1`
done
</pre><p>运行结果：</p><p>输出结果为：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n1008" mdtype="fences">0
1
2
3
4
5
6
7
8
9
</pre><h2><a name='header-n1009' class='md-header-anchor '></a>跳出循环</h2><p>在循环过程中，有时候需要在未达到循环结束条件时强制跳出循环，Shell使用两个命令来实现该功能：break和continue。</p><h3><a name='header-n1011' class='md-header-anchor '></a>break命令</h3><p>break命令允许跳出所有循环（终止执行后面的所有循环）。</p><p>下面的例子中，脚本进入死循环直至用户输入数字大于5。要跳出这个循环，返回到shell提示符下，需要使用break命令。</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n1014" mdtype="fences">#!/bin/bash
while :
do
    echo -n "输入 1 到 5 之间的数字:"
    read aNum
    case $aNum in
        1|2|3|4|5) echo "你输入的数字为 $aNum!"
        ;;
        *) echo "你输入的数字不是 1 到 5 之间的! 游戏结束"
            break
        ;;
    esac
done
</pre><p>执行以上代码，输出结果为：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n1016" mdtype="fences">输入 1 到 5 之间的数字:3
你输入的数字为 3!
输入 1 到 5 之间的数字:7
你输入的数字不是 1 到 5 之间的! 游戏结束
</pre><h3><a name='header-n1017' class='md-header-anchor '></a>continue</h3><p>continue命令与break命令类似，只有一点差别，它不会跳出所有循环，仅仅跳出当前循环。</p><p>对上面的例子进行修改：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n1020" mdtype="fences" style="break-inside: unset;">#!/bin/bash
while :
do
    echo -n "输入 1 到 5 之间的数字: "
    read aNum
    case $aNum in
        1|2|3|4|5) echo "你输入的数字为 $aNum!"
        ;;
        *) echo "你输入的数字不是 1 到 5 之间的!"
            continue
            echo "游戏结束"
        ;;
    esac
done
</pre><p>运行代码发现，当输入大于5的数字时，该例中的循环不会结束，语句 <strong>echo &quot;游戏结束&quot;</strong> 永远不会被执行。</p><p>&nbsp;</p><h2><a name='header-n1023' class='md-header-anchor '></a>Shell 函数</h2><p>linux shell 可以用户定义函数，然后在shell脚本中可以随便调用。</p><p>shell中函数的定义格式如下：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n1026" mdtype="fences">[ function ] funname [()]

{

    action;

    [return int;]

}
</pre><p>说明：</p><ul><li>1、可以带function fun() 定义，也可以直接fun() 定义,不带任何参数。</li><li>2、参数返回，可以显示加：return 返回，如果不加，将以最后一条命令运行结果，作为返回值。 return后跟数值n(0-255</li></ul><p>下面的例子定义了一个函数并进行调用：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n1034" mdtype="fences">#!/bin/bash
# author:菜鸟教程
# url:www.runoob.com

demoFun(){
    echo "这是我的第一个 shell 函数!"
}
echo "-----函数开始执行-----"
demoFun
echo "-----函数执行完毕-----"
</pre><p>输出结果：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n1036" mdtype="fences">-----函数开始执行-----
这是我的第一个 shell 函数!
-----函数执行完毕-----
</pre><p>下面定义一个带有return语句的函数：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n1038" mdtype="fences" style="break-inside: unset;">#!/bin/bash
# author:菜鸟教程
# url:www.runoob.com

funWithReturn(){
    echo "这个函数会对输入的两个数字进行相加运算..."
    echo "输入第一个数字: "
    read aNum
    echo "输入第二个数字: "
    read anotherNum
    echo "两个数字分别为 $aNum 和 $anotherNum !"
    return $(($aNum+$anotherNum))
}
funWithReturn
echo "输入的两个数字之和为 $? !"
</pre><p>输出类似下面：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n1040" mdtype="fences">这个函数会对输入的两个数字进行相加运算...
输入第一个数字: 
1
输入第二个数字: 
2
两个数字分别为 1 和 2 !
输入的两个数字之和为 3 !
</pre><p>函数返回值在调用该函数后通过 $? 来获得。</p><p>注意：所有函数在使用前必须定义。这意味着必须将函数放在脚本开始部分，直至shell解释器首次发现它时，才可以使用。调用函数仅使用其函数名即可。</p><hr /><h3><a name='header-n1044' class='md-header-anchor '></a>函数参数</h3><p>在Shell中，调用函数时可以向其传递参数。在函数体内部，通过 <span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="28.792ex" height="2.273ex" viewBox="0 -755.3 12396.4 978.8" role="img" focusable="false" style="vertical-align: -0.519ex;"><defs><path stroke-width="0" id="E9-MJMATHI-6E" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E9-MJMATHI-6E" x="0" y="0"></use><g transform="translate(600,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">的</text></g><g transform="translate(1374,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">形</text></g><g transform="translate(2260,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">式</text></g><g transform="translate(3147,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">来</text></g><g transform="translate(4033,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">获</text></g><g transform="translate(4919,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">取</text></g><g transform="translate(5805,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">参</text></g><g transform="translate(6632,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">数</text></g><g transform="translate(7518,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">的</text></g><g transform="translate(8293,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">值</text></g><g transform="translate(9179,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">，</text></g><g transform="translate(9954,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">例</text></g><g transform="translate(10788,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">如</text></g><g transform="translate(11621,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">，</text></g></g></svg></span><script type="math/tex">n 的形式来获取参数的值，例如，</script>1表示第一个参数，$2表示第二个参数...</p><p>带参数的函数示例：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="shell" contenteditable="false" cid="n1047" mdtype="fences" style="break-inside: unset;">#!/bin/bash
# author:菜鸟教程
# url:www.runoob.com

funWithParam(){
    echo "第一个参数为 $1 !"
    echo "第二个参数为 $2 !"
    echo "第十个参数为 $10 !"
    echo "第十个参数为 ${10} !"
    echo "第十一个参数为 ${11} !"
    echo "参数总数有 $# 个!"
    echo "作为一个字符串输出所有参数 $* !"
}
funWithParam 1 2 3 4 5 6 7 8 9 34 73
</pre><p>输出结果：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="powershell" contenteditable="false" cid="n1049" mdtype="fences">第一个参数为 1 !
第二个参数为 2 !
第十个参数为 10 !
第十个参数为 34 !
第十一个参数为 73 !
参数总数有 11 个!
作为一个字符串输出所有参数 1 2 3 4 5 6 7 8 9 34 73 !
</pre><p>注意，<span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="40.011ex" height="2.273ex" viewBox="0 -755.3 17226.8 978.8" role="img" focusable="false" style="vertical-align: -0.519ex;"><defs><path stroke-width="0" id="E10-MJMAIN-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path stroke-width="0" id="E10-MJMAIN-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E10-MJMAIN-31"></use><use xlink:href="#E10-MJMAIN-30" x="500" y="0"></use><g transform="translate(1000,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">不</text></g><g transform="translate(1886,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">能</text></g><g transform="translate(2719,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">获</text></g><g transform="translate(3606,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">取</text></g><g transform="translate(4492,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">第</text></g><g transform="translate(5325,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">十</text></g><g transform="translate(6100,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">个</text></g><g transform="translate(6986,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">参</text></g><g transform="translate(7813,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">数</text></g><g transform="translate(8699,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">，</text></g><g transform="translate(9474,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">获</text></g><g transform="translate(10360,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">取</text></g><g transform="translate(11246,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">第</text></g><g transform="translate(12080,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">十</text></g><g transform="translate(12855,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">个</text></g><g transform="translate(13741,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">参</text></g><g transform="translate(14568,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">数</text></g><g transform="translate(15454,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">需</text></g><g transform="translate(16340,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(44.311) matrix(1 0 0 -1 0 0)">要</text></g></g></svg></span><script type="math/tex">10 不能获取第十个参数，获取第十个参数需要</script>{10}。当n&gt;=10时，需要使用${n}来获取参数。</p><p>另外，还有几个特殊字符用来处理参数：</p><figure><table><thead><tr><th>参数处理</th><th>说明</th></tr></thead><tbody><tr><td>$#</td><td>传递到脚本的参数个数</td></tr><tr><td>$*</td><td>以一个单字符串显示所有向脚本传递的参数</td></tr><tr><td>$$</td><td>脚本运行的当前进程ID号</td></tr><tr><td>$!</td><td>后台运行的最后一个进程的ID号</td></tr><tr><td>$@</td><td>与$*相同，但是使用时加引号，并在引号中返回每个参数。</td></tr><tr><td>$-</td><td>显示Shell使用的当前选项，与set命令功能相同。</td></tr><tr><td>$?</td><td>显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。</td></tr></tbody></table></figure><p>&nbsp;</p><h2><a name='header-n1078' class='md-header-anchor '></a>Shell 输入/输出重定向</h2><p>大多数 UNIX 系统命令从你的终端接受输入并将所产生的输出发送回到您的终端。一个命令通常从一个叫标准输入的地方读取输入，默认情况下，这恰好是你的终端。同样，一个命令通常将其输出写入到标准输出，默认情况下，这也是你的终端。</p><p>重定向命令列表如下：</p><figure><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>command &gt; file</td><td>将输出重定向到 file。</td></tr><tr><td>command &lt; file</td><td>将输入重定向到 file。</td></tr><tr><td>command &gt;&gt; file</td><td>将输出以追加的方式重定向到 file。</td></tr><tr><td>n &gt; file</td><td>将文件描述符为 n 的文件重定向到 file。</td></tr><tr><td>n &gt;&gt; file</td><td>将文件描述符为 n 的文件以追加的方式重定向到 file。</td></tr><tr><td>n &gt;&amp; m</td><td>将输出文件 m 和 n 合并。</td></tr><tr><td>n &lt;&amp; m</td><td>将输入文件 m 和 n 合并。</td></tr><tr><td>&lt;&lt; tag</td><td>将开始标记 tag 和结束标记 tag 之间的内容作为输入。</td></tr></tbody></table></figure><blockquote><p>需要注意的是文件描述符 0 通常是标准输入（STDIN），1 是标准输出（STDOUT），2 是标准错误输出（STDERR）。</p></blockquote><hr /><h3><a name='header-n1112' class='md-header-anchor '></a>输出重定向</h3><p>重定向一般通过在命令间插入特定的符号来实现。特别的，这些符号的语法如下所示:</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1114" mdtype="fences">command1 &gt; file1
</pre><p>上面这个命令执行command1然后将输出的内容存入file1。</p><p>注意任何file1内的已经存在的内容将被新内容替代。如果要将新内容添加在文件末尾，请使用&gt;&gt;操作符。</p><h3><a name='header-n1117' class='md-header-anchor '></a>实例</h3><p>执行下面的 who 命令，它将命令的完整的输出重定向在用户文件中(users):</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1119" mdtype="fences">$ who &gt; users
</pre><p>执行后，并没有在终端输出信息，这是因为输出已被从默认的标准输出设备（终端）重定向到指定的文件。</p><p>你可以使用 cat 命令查看文件内容：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1122" mdtype="fences">$ cat users
_mbsetupuser console  Oct 31 17:35 
tianqixin    console  Oct 31 17:35 
tianqixin    ttys000  Dec  1 11:33 
</pre><p>输出重定向会覆盖文件内容，请看下面的例子：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1124" mdtype="fences">$ echo "菜鸟教程：www.runoob.com" &gt; users
$ cat users
菜鸟教程：www.runoob.com
$
</pre><p>如果不希望文件内容被覆盖，可以使用 &gt;&gt; 追加到文件末尾，例如：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1126" mdtype="fences">$ echo "菜鸟教程：www.runoob.com" &gt;&gt; users
$ cat users
菜鸟教程：www.runoob.com
菜鸟教程：www.runoob.com
$
</pre><hr /><h3><a name='header-n1128' class='md-header-anchor '></a>输入重定向</h3><p>和输出重定向一样，Unix 命令也可以从文件获取输入，语法为：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1130" mdtype="fences">command1 &lt; file1
</pre><p>这样，本来需要从键盘获取输入的命令会转移到文件读取内容。</p><p>注意：输出重定向是大于号(&gt;)，输入重定向是小于号(&lt;)。</p><h3><a name='header-n1133' class='md-header-anchor '></a>实例</h3><p>接着以上实例，我们需要统计 users 文件的行数,执行以下命令：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1135" mdtype="fences">$ wc -l users
       2 users
</pre><p>也可以将输入重定向到 users 文件：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1137" mdtype="fences">$  wc -l &lt; users
       2 
</pre><p>注意：上面两个例子的结果不同：第一个例子，会输出文件名；第二个不会，因为它仅仅知道从标准输入读取内容。</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1139" mdtype="fences">command1 &lt; infile &gt; outfile
</pre><p>同时替换输入和输出，执行command1，从文件infile读取内容，然后将输出写入到outfile中。</p><h3><a name='header-n1141' class='md-header-anchor '></a>重定向深入讲解</h3><p>一般情况下，每个 Unix/Linux 命令运行时都会打开三个文件：</p><ul><li>标准输入文件(stdin)：stdin的文件描述符为0，Unix程序默认从stdin读取数据。</li><li>标准输出文件(stdout)：stdout 的文件描述符为1，Unix程序默认向stdout输出数据。</li><li>标准错误文件(stderr)：stderr的文件描述符为2，Unix程序会向stderr流中写入错误信息。</li></ul><p>默认情况下，command &gt; file 将 stdout 重定向到 file，command &lt; file 将stdin 重定向到 file。</p><p>如果希望 stderr 重定向到 file，可以这样写：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1152" mdtype="fences">$ command 2 &gt; file
</pre><p>如果希望 stderr 追加到 file 文件末尾，可以这样写：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1154" mdtype="fences">$ command 2 &gt;&gt; file
</pre><p><strong>2</strong> 表示标准错误文件(stderr)。</p><p>如果希望将 stdout 和 stderr 合并后重定向到 file，可以这样写：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1157" mdtype="fences">$ command &gt; file 2&gt;&amp;1

或者

$ command &gt;&gt; file 2&gt;&amp;1
</pre><p>如果希望对 stdin 和 stdout 都重定向，可以这样写：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1159" mdtype="fences">$ command &lt; file1 &gt;file2
</pre><p>command 命令将 stdin 重定向到 file1，将 stdout 重定向到 file2。</p><hr /><h2><a name='header-n1162' class='md-header-anchor '></a>Here Document</h2><p>Here Document 是 Shell 中的一种特殊的重定向方式，用来将输入重定向到一个交互式 Shell 脚本或程序。</p><p>它的基本的形式如下：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1165" mdtype="fences">command &lt;&lt; delimiter
    document
delimiter
</pre><p>它的作用是将两个 delimiter 之间的内容(document) 作为输入传递给 command。</p><blockquote><p>注意：</p><ul><li>结尾的delimiter 一定要顶格写，前面不能有任何字符，后面也不能有任何字符，包括空格和 tab 缩进。</li><li>开始的delimiter前后的空格会被忽略掉。</li></ul></blockquote><h3><a name='header-n1174' class='md-header-anchor '></a>实例</h3><p>在命令行中通过 wc -l 命令计算 Here Document 的行数：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1176" mdtype="fences">$ wc -l &lt;&lt; EOF
    欢迎来到
    菜鸟教程
    www.runoob.com
EOF
3          # 输出结果为 3 行
$
</pre><p>我们也可以将 Here Document 用在脚本中，例如：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1178" mdtype="fences">#!/bin/bash
# author:菜鸟教程
# url:www.runoob.com

cat &lt;&lt; EOF
欢迎来到
菜鸟教程
www.runoob.com
EOF
</pre><p>执行以上脚本，输出结果：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1180" mdtype="fences">欢迎来到
菜鸟教程
www.runoob.com
</pre><hr /><h2><a name='header-n1182' class='md-header-anchor '></a>/dev/null 文件</h2><p>如果希望执行某个命令，但又不希望在屏幕上显示输出结果，那么可以将输出重定向到 /dev/null：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1184" mdtype="fences">$ command &gt; /dev/null
</pre><p>/dev/null 是一个特殊的文件，写入到它的内容都会被丢弃；如果尝试从该文件读取内容，那么什么也读不到。但是 /dev/null 文件非常有用，将命令的输出重定向到它，会起到&quot;禁止输出&quot;的效果。</p><p>如果希望屏蔽 stdout 和 stderr，可以这样写：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1187" mdtype="fences">$ command &gt; /dev/null 2&gt;&amp;1
</pre><blockquote><p><strong>注意：</strong>0 是标准输入（STDIN），1 是标准输出（STDOUT），2 是标准错误输出（STDERR）。</p></blockquote><p><strong>顺序问题：</strong></p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1191" mdtype="fences">find /etc -name .bashrc &gt; list 2&gt;&amp;1
# 我想问为什么不能调下顺序,比如这样
find /etc -name .bashrc 2&gt;&amp;1 &gt; list
</pre><p>这个是从左到右有顺序的</p><p>第一种</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1194" mdtype="fences">xxx &gt; list 2&gt;&amp;1
</pre><p>先将要输出到<strong>stdout</strong>的内容重定向到文件，此时文件<strong>list</strong>就是这个程序的<strong>stdout</strong>，再将<strong>stderr</strong>重定向到<strong>stdout</strong>，也就是文件<strong>list</strong></p><p>第二种</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1197" mdtype="fences">xxx 2&gt;&amp;1 &gt; list
</pre><p>先将要输出到<strong>stderr</strong>的内容重定向到<strong>stdout</strong>，此时会产生一个<strong>stdout的拷贝</strong>，作为程序的<strong>stderr</strong>，而程序原本要输出到<strong>stdout</strong>的内容，依然是对接在<strong>stdout原身</strong>上的，因此第二步重定向<strong>stdout</strong>，对<strong>stdout的拷贝</strong>不产生任何影响</p><p>&nbsp;</p><h2><a name='header-n1200' class='md-header-anchor '></a>Shell 脚本导入</h2><p>和其他语言一样，Shell 也可以包含外部脚本。这样可以很方便的封装一些公用的代码作为一个独立的文件。</p><p>Shell 文件包含的语法格式如下：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1203" mdtype="fences">. filename   # 注意点号(.)和文件名中间有一空格

或

source filename
</pre><h3><a name='header-n1204' class='md-header-anchor '></a>实例</h3><p>创建两个 shell 脚本文件。</p><p>test1.sh 代码如下：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1207" mdtype="fences">#!/bin/bash
# author:菜鸟教程
# url:www.runoob.com

url="http://www.runoob.com"
</pre><p>test2.sh 代码如下：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1209" mdtype="fences">#!/bin/bash
# author:菜鸟教程
# url:www.runoob.com

#使用 . 号来引用test1.sh 文件
. ./test1.sh

# 或者使用以下包含文件代码
# source ./test1.sh

echo "菜鸟教程官网地址：$url"
</pre><p>接下来，我们为 test2.sh 添加可执行权限并执行：</p><pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n1211" mdtype="fences">$ chmod +x test2.sh 
$ ./test2.sh 
菜鸟教程官网地址：http://www.runoob.com
</pre><blockquote><p><strong>注：</strong>被包含的文件 test1.sh 不需要可执行权限。</p></blockquote></div>
</body>
</html>