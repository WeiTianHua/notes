[TOC]



## 查看网络



### 查看ip

```powershell
ipconfig
```

### 查看路由表

```powershell
route print
```

### 查看路由路径

```powershell
tracert ip
```





## windows 远程桌面

	## windows 10

​	**在目标主机**

  1. 右键我的电脑，选择【属性】 

     ![](https://imgsa.baidu.com/exp/w=500/sign=fb8e4e060146f21fc9345e53c6256b31/0dd7912397dda14481706c4fb9b7d0a20df486d5.jpg )

 2. 点击【远程设置】 

    ![](https://imgsa.baidu.com/exp/w=500/sign=4a94105a52ee3d6d22c687cb73176d41/37d3d539b6003af3212edf9d3e2ac65c1138b6b2.jpg )

3.在远程桌面处，勾选 允许远程连接到此计算机。 

![](https://imgsa.baidu.com/exp/w=500/sign=d878036555df8db1bc2e7c643922dddb/d000baa1cd11728bc3088edfc3fcc3cec3fd2c21.jpg )

4.点击远程用户，可以添加允许远程连接的用户。 

![](https://imgsa.baidu.com/exp/w=500/sign=483db0ccaa8b87d65042ab1f37092860/21a4462309f79052630345c307f3d7ca7bcbd52b.jpg )



确定，完成设置，查看这台机器ip地址。

alt+r输入cmd

然后输入ipconfig

![](https://imgsa.baidu.com/exp/w=500/sign=c718ead605f41bd5da53e8f461db81a0/0b55b319ebc4b745f9afbaebc4fc1e178a821517.jpg )

---

如果ip地址为子网，两台主机在同一子网内，可以直接访问子网ip，如果两台主机不在一个子网，需要把目标主机的ip地址

和端口映射到公网的端口,然后在操作主机访问公网ip才可以

### Win10 如何修改远程桌面默认端口号

​	**Windows10系统默认远程桌面端口为3389** 

1. win+r

   输入命令regedit，点击确定按钮。 

2. 在打开的注册表编辑器窗口中，定位到HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp注册表项。 

3. 在右侧打开的注册表键值中找到“PortNumber”一项 

4. 右键点击PortNumber注册表键值，然后在弹出的菜单中选择“修改”菜单项。 

5. 这时会打开该键值的编辑窗口，点击基数一项中的“十进制”设置项。 

6. 然后在数值数据文本框中输入修改后的端口号，最后点击确定按钮就可以了。 



**在操作主机**

​		1.在Win10系统下使用“WIN+R”组合快捷键打开运行对话框，然后输入“mstsc",点击确定，如下图所示。 

![](https://imgsa.baidu.com/exp/w=500/sign=ef2d79c8a51ea8d38a227404a70b30cf/dcc451da81cb39db6a2aa925d3160924aa1830df.jpg )



​	2.点击确定后，可以快速的找到Win10的远程桌面并打开，在远程桌面输入ip地址，点击连接就可以连接远程主机了，如下图所示。 

![](https://imgsa.baidu.com/exp/w=500/sign=378049b840166d223877159476220945/3b87e950352ac65c7243a800f8f2b21193138a7b.jpg )

3. 输入容许连接登录的用户名和密码，一定要是目标主机开机能登录的用户



### win10如何关闭防火墙，win10防火墙关闭

 	1. 首先，桌面上面找到此电脑，双击此电脑进去电脑界面，单击左下角网络
 	2. 在界面上面左侧能够看到属性，双击属性，之后出现弹窗
 	3. 在左下角你能够找到网络防火墙，点击网络防火墙进入防火墙界面![捕获](/images/ufw.PNG)
	4. 通过在右侧的  启用或关闭 Windows 防火墙  直接关闭或开启防火墙。(粗暴)
	5. 也可以通过右侧的  高级设置  来添加设置防火墙规则(专业)





## 路由器端口映射(子网主机端口接入公网端口)

​	**端口映射**就是将外网主机的IP地址的一个端口映射到内网中一台机器，提供相应的服务。当用户访问该IP的这个端口时，服务器自动将请求映射到对应局域网内部的机器上。端口映射有动态和静态之分.

通俗来讲，端口映射是将一台主机的内网(LAN)IP地址映射成一个公网(WAN)IP地址，当用户访问提供映射端口主机的某个端口时，服务器将请求转移到本地局域网内部提供这种特定服务的主机；利用端口映射功能还可以将一台外网IP地址机器的多个端口映射到内网不同机器上的不同端口。 端口映射功能还可以完成一些特定代理功能，比如代理POP，SMTP，TELNET等协议。理论上可以提供65535(总端口数)-1024(保留端口数)=64511个端口的映射

### 操作流程（在第三步开始，不同的路由器界面会不一样，但流程是一样的）

1. 在浏览器地址栏输入网关ip

   通过 cmd    ipconfig 查看

   一般为 子网的第一位  192.168.0.1   |  176.23.0.1 |

2. 接网关页面(也就是路由器管理页面)

   输入用户名和密码	初始一般为 admin   admin

   或用牙签顶一下路由器上的 RST 孔，初始化用户密码

3. 在高级设置里面找到 NAT/路由  点击进入，点击端口转发

![路由](/images/luyou.PNG)

4. 根据访问类型填写 规则类型，自定义规则名称
5. 局域网ip填写你要映射的主机ip,必须是此路由器的子网主机ip
6. 根据被访问的应用的协议填写应用协议
7. 外部端口为指定的外网被访问端口，根据需要指定,外部会访问公网ip:外部端口
8. 内部端口为要映射的主机的开放端口,为应用的监听端口
9. 点击增加,然后在下面运行处点击勾选，再点击运行即可

然后外部计算机访问 公网ip端口时等同于访问内网对应的ip端口



