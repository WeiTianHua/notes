<!doctype html>
<html>

<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width initial-scale=1'>
    <title>odoo-orm</title>
    <link href='https://fonts.loli.net/css?family=PT+Serif:400,400italic,700,700italic&subset=latin,cyrillic-ext,cyrillic,latin-ext' rel='stylesheet' type='text/css' />
    <style type='text/css'>
        html {
            overflow-x: initial !important;
        }
        
        :root {
            --bg-color: #ffffff;
            --text-color: #333333;
            --select-text-bg-color: #B5D6FC;
            --select-text-font-color: auto;
            --monospace: "Lucida Console", Consolas, "Courier", monospace;
        }
        
        html {
            font-size: 14px;
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            -webkit-font-smoothing: antialiased;
        }
        
        body {
            margin: 0px;
            padding: 0px;
            height: auto;
            bottom: 0px;
            top: 0px;
            left: 0px;
            right: 0px;
            font-size: 1rem;
            line-height: 1.42857;
            overflow-x: hidden;
            background: inherit;
            tab-size: 4;
        }
        
        iframe {
            margin: auto;
        }
        
        a.url {
            word-break: break-all;
        }
        
        a:active,
        a:hover {
            outline: 0px;
        }
        
        .in-text-selection,
         ::selection {
            text-shadow: none;
            background: var(--select-text-bg-color);
            color: var(--select-text-font-color);
        }
        
        #write {
            margin: 0px auto;
            height: auto;
            width: inherit;
            word-break: normal;
            word-wrap: break-word;
            position: relative;
            white-space: normal;
            overflow-x: visible;
            padding-top: 40px;
        }
        
        #write.first-line-indent p {
            text-indent: 2em;
        }
        
        #write.first-line-indent li p,
        #write.first-line-indent p * {
            text-indent: 0px;
        }
        
        #write.first-line-indent li {
            margin-left: 2em;
        }
        
        .for-image #write {
            padding-left: 8px;
            padding-right: 8px;
        }
        
        body.typora-export {
            padding-left: 30px;
            padding-right: 30px;
        }
        
        .typora-export .footnote-line,
        .typora-export li,
        .typora-export p {
            white-space: pre-wrap;
        }
        
        @media screen and (max-width: 500px) {
            body.typora-export {
                padding-left: 0px;
                padding-right: 0px;
            }
            #write {
                padding-left: 20px;
                padding-right: 20px;
            }
            .CodeMirror-sizer {
                margin-left: 0px !important;
            }
            .CodeMirror-gutters {
                display: none !important;
            }
        }
        
        #write li>figure:first-child {
            margin-top: -20px;
        }
        
        #write ol,
        #write ul {
            position: relative;
        }
        
        img {
            max-width: 100%;
            vertical-align: middle;
        }
        
        button,
        input,
        select,
        textarea {
            color: inherit;
            font-style: inherit;
            font-variant: inherit;
            font-weight: inherit;
            font-stretch: inherit;
            font-size: inherit;
            line-height: inherit;
            font-family: inherit;
        }
        
        input[type="checkbox"],
        input[type="radio"] {
            line-height: normal;
            padding: 0px;
        }
        
        *,
         ::after,
         ::before {
            box-sizing: border-box;
        }
        
        #write h1,
        #write h2,
        #write h3,
        #write h4,
        #write h5,
        #write h6,
        #write p,
        #write pre {
            width: inherit;
        }
        
        #write h1,
        #write h2,
        #write h3,
        #write h4,
        #write h5,
        #write h6,
        #write p {
            position: relative;
        }
        
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            break-after: avoid-page;
            break-inside: avoid;
            orphans: 2;
        }
        
        p {
            orphans: 4;
        }
        
        h1 {
            font-size: 2rem;
        }
        
        h2 {
            font-size: 1.8rem;
        }
        
        h3 {
            font-size: 1.6rem;
        }
        
        h4 {
            font-size: 1.4rem;
        }
        
        h5 {
            font-size: 1.2rem;
        }
        
        h6 {
            font-size: 1rem;
        }
        
        .md-math-block,
        .md-rawblock,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        p {
            margin-top: 1rem;
            margin-bottom: 1rem;
        }
        
        .hidden {
            display: none;
        }
        
        .md-blockmeta {
            color: rgb(204, 204, 204);
            font-weight: 700;
            font-style: italic;
        }
        
        a {
            cursor: pointer;
        }
        
        sup.md-footnote {
            padding: 2px 4px;
            background-color: rgba(238, 238, 238, 0.7);
            color: rgb(85, 85, 85);
            border-radius: 4px;
            cursor: pointer;
        }
        
        sup.md-footnote a,
        sup.md-footnote a:hover {
            color: inherit;
            text-transform: inherit;
            text-decoration: inherit;
        }
        
        #write input[type="checkbox"] {
            cursor: pointer;
            width: inherit;
            height: inherit;
        }
        
        figure {
            overflow-x: auto;
            margin: 1.2em 0px;
            max-width: calc(100% + 16px);
            padding: 0px;
        }
        
        figure>table {
            margin: 0px !important;
        }
        
        tr {
            break-inside: avoid;
            break-after: auto;
        }
        
        thead {
            display: table-header-group;
        }
        
        table {
            border-collapse: collapse;
            border-spacing: 0px;
            width: 100%;
            overflow: auto;
            break-inside: auto;
            text-align: left;
        }
        
        table.md-table td {
            min-width: 32px;
        }
        
        .CodeMirror-gutters {
            border-right: 0px;
            background-color: inherit;
        }
        
        .CodeMirror-linenumber {
            user-select: none;
        }
        
        .CodeMirror {
            text-align: left;
        }
        
        .CodeMirror-placeholder {
            opacity: 0.3;
        }
        
        .CodeMirror pre {
            padding: 0px 4px;
        }
        
        .CodeMirror-lines {
            padding: 0px;
        }
        
        div.hr:focus {
            cursor: none;
        }
        
        #write pre {
            white-space: pre-wrap;
        }
        
        #write.fences-no-line-wrapping pre {
            white-space: pre;
        }
        
        #write pre.ty-contain-cm {
            white-space: normal;
        }
        
        .CodeMirror-gutters {
            margin-right: 4px;
        }
        
        .md-fences {
            font-size: 0.9rem;
            display: block;
            break-inside: avoid;
            text-align: left;
            overflow: visible;
            white-space: pre;
            background: inherit;
            position: relative !important;
        }
        
        .md-diagram-panel {
            width: 100%;
            margin-top: 10px;
            text-align: center;
            padding-top: 0px;
            padding-bottom: 8px;
            overflow-x: auto;
        }
        
        #write .md-fences.mock-cm {
            white-space: pre-wrap;
        }
        
        .md-fences.md-fences-with-lineno {
            padding-left: 0px;
        }
        
        #write.fences-no-line-wrapping .md-fences.mock-cm {
            white-space: pre;
            overflow-x: auto;
        }
        
        .md-fences.mock-cm.md-fences-with-lineno {
            padding-left: 8px;
        }
        
        .CodeMirror-line,
        twitterwidget {
            break-inside: avoid;
        }
        
        .footnotes {
            opacity: 0.8;
            font-size: 0.9rem;
            margin-top: 1em;
            margin-bottom: 1em;
        }
        
        .footnotes+.footnotes {
            margin-top: 0px;
        }
        
        .md-reset {
            margin: 0px;
            padding: 0px;
            border: 0px;
            outline: 0px;
            vertical-align: top;
            background: 0px 0px;
            text-decoration: none;
            text-shadow: none;
            float: none;
            position: static;
            width: auto;
            height: auto;
            white-space: nowrap;
            cursor: inherit;
            -webkit-tap-highlight-color: transparent;
            line-height: normal;
            font-weight: 400;
            text-align: left;
            box-sizing: content-box;
            direction: ltr;
        }
        
        li div {
            padding-top: 0px;
        }
        
        blockquote {
            margin: 1rem 0px;
        }
        
        li .mathjax-block,
        li p {
            margin: 0.5rem 0px;
        }
        
        li {
            margin: 0px;
            position: relative;
        }
        
        blockquote> :last-child {
            margin-bottom: 0px;
        }
        
        blockquote> :first-child,
        li> :first-child {
            margin-top: 0px;
        }
        
        .footnotes-area {
            color: rgb(136, 136, 136);
            margin-top: 0.714rem;
            padding-bottom: 0.143rem;
            white-space: normal;
        }
        
        #write .footnote-line {
            white-space: pre-wrap;
        }
        
        @media print {
            body,
            html {
                border: 1px solid transparent;
                height: 99%;
                break-after: avoid;
                break-before: avoid;
            }
            #write {
                margin-top: 0px;
                padding-top: 0px;
                border-color: transparent !important;
            }
            .typora-export * {
                -webkit-print-color-adjust: exact;
            }
            html.blink-to-pdf {
                font-size: 13px;
            }
            .typora-export #write {
                padding-left: 32px;
                padding-right: 32px;
                padding-bottom: 0px;
                break-after: avoid;
            }
            .typora-export #write::after {
                height: 0px;
            }
            @page {
                margin: 20mm 0px;
            }
        }
        
        .footnote-line {
            margin-top: 0.714em;
            font-size: 0.7em;
        }
        
        a img,
        img a {
            cursor: pointer;
        }
        
        pre.md-meta-block {
            font-size: 0.8rem;
            min-height: 0.8rem;
            white-space: pre-wrap;
            background: rgb(204, 204, 204);
            display: block;
            overflow-x: hidden;
        }
        
        p>.md-image:only-child:not(.md-img-error) img,
        p>img:only-child {
            display: block;
            margin: auto;
        }
        
        p>.md-image:only-child {
            display: inline-block;
            width: 100%;
        }
        
        #write .MathJax_Display {
            margin: 0.8em 0px 0px;
        }
        
        .md-math-block {
            width: 100%;
        }
        
        .md-math-block:not(:empty)::after {
            display: none;
        }
        
        [contenteditable="true"]:active,
        [contenteditable="true"]:focus {
            outline: 0px;
            box-shadow: none;
        }
        
        .md-task-list-item {
            position: relative;
            list-style-type: none;
        }
        
        .task-list-item.md-task-list-item {
            padding-left: 0px;
        }
        
        .md-task-list-item>input {
            position: absolute;
            top: 0px;
            left: 0px;
            margin-left: -1.2em;
            margin-top: calc(1em - 10px);
            border: none;
        }
        
        .math {
            font-size: 1rem;
        }
        
        .md-toc {
            min-height: 3.58rem;
            position: relative;
            font-size: 0.9rem;
            border-radius: 10px;
        }
        
        .md-toc-content {
            position: relative;
            margin-left: 0px;
        }
        
        .md-toc-content::after,
        .md-toc::after {
            display: none;
        }
        
        .md-toc-item {
            display: block;
            color: rgb(65, 131, 196);
        }
        
        .md-toc-item a {
            text-decoration: none;
        }
        
        .md-toc-inner:hover {
            text-decoration: underline;
        }
        
        .md-toc-inner {
            display: inline-block;
            cursor: pointer;
        }
        
        .md-toc-h1 .md-toc-inner {
            margin-left: 0px;
            font-weight: 700;
        }
        
        .md-toc-h2 .md-toc-inner {
            margin-left: 2em;
        }
        
        .md-toc-h3 .md-toc-inner {
            margin-left: 4em;
        }
        
        .md-toc-h4 .md-toc-inner {
            margin-left: 6em;
        }
        
        .md-toc-h5 .md-toc-inner {
            margin-left: 8em;
        }
        
        .md-toc-h6 .md-toc-inner {
            margin-left: 10em;
        }
        
        @media screen and (max-width: 48em) {
            .md-toc-h3 .md-toc-inner {
                margin-left: 3.5em;
            }
            .md-toc-h4 .md-toc-inner {
                margin-left: 5em;
            }
            .md-toc-h5 .md-toc-inner {
                margin-left: 6.5em;
            }
            .md-toc-h6 .md-toc-inner {
                margin-left: 8em;
            }
        }
        
        a.md-toc-inner {
            font-size: inherit;
            font-style: inherit;
            font-weight: inherit;
            line-height: inherit;
        }
        
        .footnote-line a:not(.reversefootnote) {
            color: inherit;
        }
        
        .md-attr {
            display: none;
        }
        
        .md-fn-count::after {
            content: ".";
        }
        
        code,
        pre,
        samp,
        tt {
            font-family: var(--monospace);
        }
        
        kbd {
            margin: 0px 0.1em;
            padding: 0.1em 0.6em;
            font-size: 0.8em;
            color: rgb(36, 39, 41);
            background: rgb(255, 255, 255);
            border: 1px solid rgb(173, 179, 185);
            border-radius: 3px;
            box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset;
            white-space: nowrap;
            vertical-align: middle;
        }
        
        .md-comment {
            color: rgb(162, 127, 3);
            opacity: 0.8;
            font-family: var(--monospace);
        }
        
        code {
            text-align: left;
            vertical-align: initial;
        }
        
        a.md-print-anchor {
            white-space: pre !important;
            border-width: initial !important;
            border-style: none !important;
            border-color: initial !important;
            display: inline-block !important;
            position: absolute !important;
            width: 1px !important;
            right: 0px !important;
            outline: 0px !important;
            background: 0px 0px !important;
            text-decoration: initial !important;
            text-shadow: initial !important;
        }
        
        .md-inline-math .MathJax_SVG .noError {
            display: none !important;
        }
        
        .html-for-mac .inline-math-svg .MathJax_SVG {
            vertical-align: 0.2px;
        }
        
        .md-math-block .MathJax_SVG_Display {
            text-align: center;
            margin: 0px;
            position: relative;
            text-indent: 0px;
            max-width: none;
            max-height: none;
            min-height: 0px;
            min-width: 100%;
            width: auto;
            overflow-y: hidden;
            display: block !important;
        }
        
        .MathJax_SVG_Display,
        .md-inline-math .MathJax_SVG_Display {
            width: auto;
            margin: inherit;
            display: inline-block !important;
        }
        
        .MathJax_SVG .MJX-monospace {
            font-family: var(--monospace);
        }
        
        .MathJax_SVG .MJX-sans-serif {
            font-family: sans-serif;
        }
        
        .MathJax_SVG {
            display: inline;
            font-style: normal;
            font-weight: 400;
            line-height: normal;
            zoom: 90%;
            text-indent: 0px;
            text-align: left;
            text-transform: none;
            letter-spacing: normal;
            word-spacing: normal;
            word-wrap: normal;
            white-space: nowrap;
            float: none;
            direction: ltr;
            max-width: none;
            max-height: none;
            min-width: 0px;
            min-height: 0px;
            border: 0px;
            padding: 0px;
            margin: 0px;
        }
        
        .MathJax_SVG * {
            transition: none;
        }
        
        .MathJax_SVG_Display svg {
            vertical-align: middle !important;
            margin-bottom: 0px !important;
        }
        
        .os-windows.monocolor-emoji .md-emoji {
            font-family: "Segoe UI Symbol", sans-serif;
        }
        
        .md-diagram-panel>svg {
            max-width: 100%;
        }
        
        [lang="mermaid"] svg,
        [lang="flow"] svg {
            max-width: 100%;
        }
        
        [lang="mermaid"] .node text {
            font-size: 1rem;
        }
        
        table tr th {
            border-bottom: 0px;
        }
        
        video {
            max-width: 100%;
            display: block;
            margin: 0px auto;
        }
        
        iframe {
            max-width: 100%;
            width: 100%;
            border: none;
        }
        
        .highlight td,
        .highlight tr {
            border: 0px;
        }
        
        .CodeMirror {
            height: auto;
        }
        
        .CodeMirror.cm-s-inner {
            background: inherit;
        }
        
        .CodeMirror-scroll {
            overflow-y: hidden;
            overflow-x: auto;
            z-index: 3;
        }
        
        .CodeMirror-gutter-filler,
        .CodeMirror-scrollbar-filler {
            background-color: rgb(255, 255, 255);
        }
        
        .CodeMirror-gutters {
            border-right: 1px solid rgb(221, 221, 221);
            background: inherit;
            white-space: nowrap;
        }
        
        .CodeMirror-linenumber {
            padding: 0px 3px 0px 5px;
            text-align: right;
            color: rgb(153, 153, 153);
        }
        
        .cm-s-inner .cm-keyword {
            color: rgb(119, 0, 136);
        }
        
        .cm-s-inner .cm-atom,
        .cm-s-inner.cm-atom {
            color: rgb(34, 17, 153);
        }
        
        .cm-s-inner .cm-number {
            color: rgb(17, 102, 68);
        }
        
        .cm-s-inner .cm-def {
            color: rgb(0, 0, 255);
        }
        
        .cm-s-inner .cm-variable {
            color: rgb(0, 0, 0);
        }
        
        .cm-s-inner .cm-variable-2 {
            color: rgb(0, 85, 170);
        }
        
        .cm-s-inner .cm-variable-3 {
            color: rgb(0, 136, 85);
        }
        
        .cm-s-inner .cm-string {
            color: rgb(170, 17, 17);
        }
        
        .cm-s-inner .cm-property {
            color: rgb(0, 0, 0);
        }
        
        .cm-s-inner .cm-operator {
            color: rgb(152, 26, 26);
        }
        
        .cm-s-inner .cm-comment,
        .cm-s-inner.cm-comment {
            color: rgb(170, 85, 0);
        }
        
        .cm-s-inner .cm-string-2 {
            color: rgb(255, 85, 0);
        }
        
        .cm-s-inner .cm-meta {
            color: rgb(85, 85, 85);
        }
        
        .cm-s-inner .cm-qualifier {
            color: rgb(85, 85, 85);
        }
        
        .cm-s-inner .cm-builtin {
            color: rgb(51, 0, 170);
        }
        
        .cm-s-inner .cm-bracket {
            color: rgb(153, 153, 119);
        }
        
        .cm-s-inner .cm-tag {
            color: rgb(17, 119, 0);
        }
        
        .cm-s-inner .cm-attribute {
            color: rgb(0, 0, 204);
        }
        
        .cm-s-inner .cm-header,
        .cm-s-inner.cm-header {
            color: rgb(0, 0, 255);
        }
        
        .cm-s-inner .cm-quote,
        .cm-s-inner.cm-quote {
            color: rgb(0, 153, 0);
        }
        
        .cm-s-inner .cm-hr,
        .cm-s-inner.cm-hr {
            color: rgb(153, 153, 153);
        }
        
        .cm-s-inner .cm-link,
        .cm-s-inner.cm-link {
            color: rgb(0, 0, 204);
        }
        
        .cm-negative {
            color: rgb(221, 68, 68);
        }
        
        .cm-positive {
            color: rgb(34, 153, 34);
        }
        
        .cm-header,
        .cm-strong {
            font-weight: 700;
        }
        
        .cm-del {
            text-decoration: line-through;
        }
        
        .cm-em {
            font-style: italic;
        }
        
        .cm-link {
            text-decoration: underline;
        }
        
        .cm-error {
            color: red;
        }
        
        .cm-invalidchar {
            color: red;
        }
        
        .cm-constant {
            color: rgb(38, 139, 210);
        }
        
        .cm-defined {
            color: rgb(181, 137, 0);
        }
        
        div.CodeMirror span.CodeMirror-matchingbracket {
            color: rgb(0, 255, 0);
        }
        
        div.CodeMirror span.CodeMirror-nonmatchingbracket {
            color: rgb(255, 34, 34);
        }
        
        .cm-s-inner .CodeMirror-activeline-background {
            background: inherit;
        }
        
        .CodeMirror {
            position: relative;
            overflow: hidden;
        }
        
        .CodeMirror-scroll {
            height: 100%;
            outline: 0px;
            position: relative;
            box-sizing: content-box;
            background: inherit;
        }
        
        .CodeMirror-sizer {
            position: relative;
        }
        
        .CodeMirror-gutter-filler,
        .CodeMirror-hscrollbar,
        .CodeMirror-scrollbar-filler,
        .CodeMirror-vscrollbar {
            position: absolute;
            z-index: 6;
            display: none;
        }
        
        .CodeMirror-vscrollbar {
            right: 0px;
            top: 0px;
            overflow: hidden;
        }
        
        .CodeMirror-hscrollbar {
            bottom: 0px;
            left: 0px;
            overflow: hidden;
        }
        
        .CodeMirror-scrollbar-filler {
            right: 0px;
            bottom: 0px;
        }
        
        .CodeMirror-gutter-filler {
            left: 0px;
            bottom: 0px;
        }
        
        .CodeMirror-gutters {
            position: absolute;
            left: 0px;
            top: 0px;
            padding-bottom: 30px;
            z-index: 3;
        }
        
        .CodeMirror-gutter {
            white-space: normal;
            height: 100%;
            box-sizing: content-box;
            padding-bottom: 30px;
            margin-bottom: -32px;
            display: inline-block;
        }
        
        .CodeMirror-gutter-wrapper {
            position: absolute;
            z-index: 4;
            background: 0px 0px !important;
            border: none !important;
        }
        
        .CodeMirror-gutter-background {
            position: absolute;
            top: 0px;
            bottom: 0px;
            z-index: 4;
        }
        
        .CodeMirror-gutter-elt {
            position: absolute;
            cursor: default;
            z-index: 4;
        }
        
        .CodeMirror-lines {
            cursor: text;
        }
        
        .CodeMirror pre {
            border-radius: 0px;
            border-width: 0px;
            background: 0px 0px;
            font-family: inherit;
            font-size: inherit;
            margin: 0px;
            white-space: pre;
            word-wrap: normal;
            color: inherit;
            z-index: 2;
            position: relative;
            overflow: visible;
        }
        
        .CodeMirror-wrap pre {
            word-wrap: break-word;
            white-space: pre-wrap;
            word-break: normal;
        }
        
        .CodeMirror-code pre {
            border-right: 30px solid transparent;
            width: fit-content;
        }
        
        .CodeMirror-wrap .CodeMirror-code pre {
            border-right: none;
            width: auto;
        }
        
        .CodeMirror-linebackground {
            position: absolute;
            left: 0px;
            right: 0px;
            top: 0px;
            bottom: 0px;
            z-index: 0;
        }
        
        .CodeMirror-linewidget {
            position: relative;
            z-index: 2;
            overflow: auto;
        }
        
        .CodeMirror-wrap .CodeMirror-scroll {
            overflow-x: hidden;
        }
        
        .CodeMirror-measure {
            position: absolute;
            width: 100%;
            height: 0px;
            overflow: hidden;
            visibility: hidden;
        }
        
        .CodeMirror-measure pre {
            position: static;
        }
        
        .CodeMirror div.CodeMirror-cursor {
            position: absolute;
            visibility: hidden;
            border-right: none;
            width: 0px;
        }
        
        .CodeMirror div.CodeMirror-cursor {
            visibility: hidden;
        }
        
        .CodeMirror-focused div.CodeMirror-cursor {
            visibility: inherit;
        }
        
        .cm-searching {
            background: rgba(255, 255, 0, 0.4);
        }
        
        @media print {
            .CodeMirror div.CodeMirror-cursor {
                visibility: hidden;
            }
        }
        
        :root {
            --active-file-bg-color: rgba(32, 43, 51, 0.63);
            --active-file-text-color: white;
            --bg-color: #f3f2ee;
            --text-color: #1f0909;
            --control-text-color: #444;
            --rawblock-edit-panel-bd: #e5e5e5;
            --select-text-bg-color: rgba(32, 43, 51, 0.63);
            --select-text-font-color: white;
        }
        
        pre {
            --select-text-bg-color: #36284e;
            --select-text-font-color: #fff;
        }
        
        html {
            font-size: 16px;
        }
        
        html,
        body {
            background-color: rgb(243, 242, 238);
            font-family: "PT Serif", "Times New Roman", Times, serif;
            color: rgb(31, 9, 9);
            line-height: 1.5em;
        }
        
        #write {
            max-width: 40em;
        }
        
        ol li {
            list-style-type: decimal;
            list-style-position: outside;
        }
        
        ul li {
            list-style-type: disc;
            list-style-position: outside;
        }
        
        ol,
        ul {
            list-style: none;
        }
        
        blockquote,
        q {
            quotes: none;
        }
        
        blockquote::before,
        blockquote::after,
        q::before,
        q::after {
            content: none;
        }
        
        table {
            border-collapse: collapse;
            border-spacing: 0px;
        }
        
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-weight: bold;
        }
        
        h1 {
            font-size: 1.875em;
            line-height: 1.6em;
            margin-top: 2em;
        }
        
        h2,
        h3 {
            font-size: 1.3125em;
            line-height: 1.15;
            margin-top: 2.28571em;
            margin-bottom: 1.15em;
        }
        
        h3 {
            font-weight: normal;
        }
        
        h4 {
            font-size: 1.125em;
            margin-top: 2.67em;
        }
        
        h5,
        h6 {
            font-size: 1em;
        }
        
        h1 {
            border-bottom: 1px solid;
            margin-bottom: 1.875em;
            padding-bottom: 0.8125em;
        }
        
        a {
            text-decoration: none;
            color: rgb(6, 85, 136);
        }
        
        a:hover,
        a:active {
            text-decoration: underline;
        }
        
        p,
        blockquote,
        .md-fences {
            margin-bottom: 1.5em;
        }
        
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            margin-bottom: 1.5em;
        }
        
        blockquote {
            font-style: italic;
            border-left: 5px solid;
            margin-left: 2em;
            padding-left: 1em;
        }
        
        ul,
        ol {
            margin: 0px 0px 1.5em 1.5em;
        }
        
        .md-meta,
        .md-before,
        .md-after {
            color: rgb(153, 153, 153);
        }
        
        table {
            margin-bottom: 1.5em;
            font-size: 1em;
        }
        
        thead th,
        tfoot th {
            padding: 0.25em 0.25em 0.25em 0.4em;
            text-transform: uppercase;
        }
        
        th {
            text-align: left;
        }
        
        td {
            vertical-align: top;
            padding: 0.25em 0.25em 0.25em 0.4em;
        }
        
        code,
        .md-fences {
            background-color: rgb(218, 218, 218);
        }
        
        code {
            padding-left: 2px;
            padding-right: 2px;
        }
        
        .md-fences {
            margin-left: 2em;
            margin-bottom: 3em;
            padding-left: 1ch;
            padding-right: 1ch;
        }
        
        pre,
        code,
        tt {
            font-size: 0.875em;
            line-height: 1.71429em;
        }
        
        h1 {
            line-height: 1.3em;
            font-weight: normal;
            margin-bottom: 0.5em;
        }
        
        p+ul,
        p+ol {
            margin-top: 0.5em;
        }
        
        h3+ul,
        h4+ul,
        h5+ul,
        h6+ul,
        h3+ol,
        h4+ol,
        h5+ol,
        h6+ol {
            margin-top: 0.5em;
        }
        
        li>ul,
        li>ol {
            margin-top: inherit;
            margin-bottom: 0px;
        }
        
        li ol>li {
            list-style-type: lower-alpha;
        }
        
        li li ol>li {
            list-style-type: lower-roman;
        }
        
        h2,
        h3 {
            margin-bottom: 0.75em;
        }
        
        hr {
            border-top: none;
            border-right: none;
            border-bottom: 1px solid;
            border-left: none;
        }
        
        h1 {
            border-color: rgb(197, 197, 197);
        }
        
        blockquote {
            border-color: rgb(186, 186, 186);
            color: rgb(101, 101, 101);
        }
        
        blockquote ul,
        blockquote ol {
            margin-left: 0px;
        }
        
        .ty-table-edit {
            background-color: transparent;
        }
        
        thead {
            background-color: rgb(218, 218, 218);
        }
        
        tr:nth-child(2n) {
            background: rgb(232, 231, 231);
        }
        
        hr {
            border-color: rgb(197, 197, 197);
        }
        
        .task-list {
            padding-left: 1rem;
        }
        
        .md-task-list-item {
            padding-left: 1.5rem;
            list-style-type: none;
        }
        
        .md-task-list-item>input::before {
            content: "√";
            display: inline-block;
            width: 1.25rem;
            height: 1.6rem;
            vertical-align: middle;
            text-align: center;
            color: rgb(221, 221, 221);
            background-color: rgb(243, 242, 238);
        }
        
        .md-task-list-item>input:checked::before,
        .md-task-list-item>input[checked]::before {
            color: inherit;
        }
        
        #write pre.md-meta-block {
            min-height: 1.875rem;
            color: rgb(85, 85, 85);
            border: 0px;
            background: transparent;
            margin-left: 1em;
            margin-top: 1em;
        }
        
        .md-image>.md-meta {
            color: rgb(155, 81, 70);
        }
        
        .md-image>.md-meta {
            font-family: Menlo, "Ubuntu Mono", Consolas, "Courier New", "Microsoft Yahei", "Hiragino Sans GB", "WenQuanYi Micro Hei", serif;
        }
        
        #write>h3.md-focus::before {
            left: -1.5rem;
            color: rgb(153, 153, 153);
            border-color: rgb(153, 153, 153);
        }
        
        #write>h4.md-focus::before {
            left: -1.5rem;
            top: 0.25rem;
            color: rgb(153, 153, 153);
            border-color: rgb(153, 153, 153);
        }
        
        #write>h5.md-focus::before {
            left: -1.5rem;
            color: rgb(153, 153, 153);
            border-color: rgb(153, 153, 153);
        }
        
        #write>h6.md-focus::before {
            left: -1.5rem;
            top: 0.3125rem;
            color: rgb(153, 153, 153);
            border-color: rgb(153, 153, 153);
        }
        
        .md-toc:focus .md-toc-content {
            margin-top: 19px;
        }
        
        .md-toc-content:empty::before {
            color: rgb(6, 85, 136);
        }
        
        .md-toc-item {
            color: rgb(6, 85, 136);
        }
        
        #write div.md-toc-tooltip {
            background-color: rgb(243, 242, 238);
        }
        
        #typora-sidebar {
            background-color: rgb(243, 242, 238);
            box-shadow: rgba(0, 0, 0, 0.376) 0px 6px 12px;
        }
        
        .pin-outline #typora-sidebar {
            background: inherit;
            box-shadow: none;
            border-right: 1px dashed;
        }
        
        .pin-outline #typora-sidebar:hover .outline-title-wrapper {
            border-left: 1px dashed;
        }
        
        .outline-item:hover {
            background-color: rgb(218, 218, 218);
            border-left: 28px solid rgb(218, 218, 218);
            border-right: 18px solid rgb(218, 218, 218);
        }
        
        .typora-node .outline-item:hover {
            border-right: 28px solid rgb(218, 218, 218);
        }
        
        .outline-expander::before {
            content: "";
            font-family: FontAwesome;
            font-size: 14px;
            top: 1px;
        }
        
        .outline-expander:hover::before,
        .outline-item-open>.outline-item>.outline-expander::before {
            content: "";
        }
        
        .modal-content {
            background-color: rgb(243, 242, 238);
        }
        
        .auto-suggest-container ul li {
            list-style-type: none;
        }
        
        .megamenu-menu,
        #top-titlebar,
        #top-titlebar *,
        .megamenu-content {
            background: rgb(243, 242, 238);
            color: rgb(31, 9, 9);
        }
        
        .megamenu-menu-header {
            border-bottom: 1px dashed rgb(32, 43, 51);
        }
        
        .megamenu-menu {
            box-shadow: none;
            border-right: 1px dashed;
        }
        
        header,
        .context-menu,
        .megamenu-content,
        footer {
            font-family: "PT Serif", "Times New Roman", Times, serif;
            color: rgb(31, 9, 9);
        }
        
        #megamenu-back-btn {
            color: rgb(31, 9, 9);
            border-color: rgb(31, 9, 9);
        }
        
        .megamenu-menu-header #megamenu-menu-header-title::before {
            color: rgb(31, 9, 9);
        }
        
        .megamenu-menu-list li a:hover,
        .megamenu-menu-list li a.active {
            color: inherit;
            background-color: rgb(232, 231, 223);
        }
        
        .long-btn:hover {
            background-color: rgb(232, 231, 223);
        }
        
        #recent-file-panel tbody tr:nth-child(2n-1) {
            background-color: transparent !important;
        }
        
        .megamenu-menu-panel tbody tr:hover td:nth-child(2) {
            color: inherit;
        }
        
        .megamenu-menu-panel .btn {
            background-color: rgb(210, 209, 209);
        }
        
        .btn-default {
            background-color: transparent;
        }
        
        .typora-sourceview-on #toggle-sourceview-btn,
        .ty-show-word-count #footer-word-count {
            background: rgb(199, 197, 197);
        }
        
        #typora-quick-open {
            background-color: inherit;
        }
        
        .md-diagram-panel {
            margin-top: 8px;
        }
        
        .file-list-item-file-name {
            font-weight: initial;
        }
        
        .file-list-item-summary {
            opacity: 1;
        }
        
        .file-list-item {
            color: rgb(119, 119, 119);
        }
        
        .file-list-item.active {
            background-color: inherit;
            color: black;
        }
        
        .ty-side-sort-btn.active {
            background-color: inherit;
        }
        
        .file-list-item.active .file-list-item-file-name {
            font-weight: bold;
        }
        
        .file-list-item {
            opacity: 1 !important;
        }
        
        .file-library-node.active>.file-node-background {
            background-color: var(--active-file-bg-color);
        }
        
        .file-tree-node.active>.file-node-content {
            color: var(--active-file-text-color);
        }
        
        .md-task-list-item>input {
            margin-left: -1.6em;
            margin-top: calc(1rem - 12px);
        }
        
        input {
            border: 1px solid rgb(170, 170, 170);
        }
        
        .megamenu-menu-header #megamenu-menu-header-title,
        .megamenu-menu-header:hover,
        .megamenu-menu-header:focus {
            color: inherit;
        }
        
        .dropdown-menu .divider {
            border-color: rgb(229, 229, 229);
        }
        
        .os-windows-7 strong,
        .os-windows-7 strong {
            font-weight: 760;
        }
        
        .typora-export li,
        .typora-export p,
        .typora-export,
        .footnote-line {
            white-space: normal;
        }
    </style>
</head>

<body class='typora-export os-windows'>
    <div id='write' class='is-node'>
        <p>&nbsp;</p>
        <div class='md-toc' mdtype='toc'>
            <p class="md-toc-content"><span class="md-toc-item md-toc-h1" data-ref="n3"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3">ORM</a></span><span class="md-toc-item md-toc-h2" data-ref="n4"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n4">Recordsets</a></span>
                <span
                    class="md-toc-item md-toc-h2" data-ref="n21"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n21">集合操作</a></span><span class="md-toc-item md-toc-h3" data-ref="n36"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n36">其他记录集操作</a></span><span class="md-toc-item md-toc-h2"
                        data-ref="n51"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n51">环境Environment </a></span><span class="md-toc-item md-toc-h3" data-ref="n58"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n58">改变环境</a></span>
                    <span
                        class="md-toc-item md-toc-h2" data-ref="n73"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n73">常见的ORM方法</a></span><span class="md-toc-item md-toc-h2" data-ref="n100"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n100">创建模型</a></span><span class="md-toc-item md-toc-h3"
                            data-ref="n110"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n110">计算字段</a></span><span class="md-toc-item md-toc-h3" data-ref="n133"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n133">关联字段</a></span>
                        <span
                            class="md-toc-item md-toc-h3" data-ref="n136"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n136">onchange：动态更新UI</a></span><span class="md-toc-item md-toc-h3" data-ref="n155"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n155">低级SQL</a></span>
                            <span
                                class="md-toc-item md-toc-h3" data-ref="n161"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n161">CRUD</a></span><span class="md-toc-item md-toc-h6" data-ref="n162"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n162"><code>create(vals_list) → records</code></a></span>
                                <span
                                    class="md-toc-item md-toc-h6" data-ref="n187"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n187"><code>browse([*ids*]) → records</code></a></span><span class="md-toc-item md-toc-h6" data-ref="n190"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n190"><code>unlink()</code></a></span>
                                    <span
                                        class="md-toc-item md-toc-h6" data-ref="n204"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n204"><code>write(*vals*)</code></a></span><span class="md-toc-item md-toc-h6" data-ref="n266"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n266"><code>read([*fields*])</code></a></span>
                                        <span
                                            class="md-toc-item md-toc-h6" data-ref="n274"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n274"><code>read_group(*domain*, *fields*, *groupby*, *offset=0*, *limit=None*, *orderby=False*, *lazy=True*)</code></a></span><span class="md-toc-item md-toc-h3"
                                                data-ref="n311"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n311">搜索</a></span><span class="md-toc-item md-toc-h6" data-ref="n312"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n312"><code>search(*args[, offset=0][, limit=None][, order=None][, count=False]*)</code></a></span>
                                            <span
                                                class="md-toc-item md-toc-h6" data-ref="n334"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n334"><code>search_count(*args*) → int</code></a></span><span class="md-toc-item md-toc-h6" data-ref="n336"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n336"><code>name_search(*name=''*, *args=None*, *operator='ilike'*, *limit=100*) → records</code></a></span>
                                                <span
                                                    class="md-toc-item md-toc-h3" data-ref="n354"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n354">记录集操作</a></span><span class="md-toc-item md-toc-h6" data-ref="n355"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n355"><code>ids</code></a></span>
                                                    <span
                                                        class="md-toc-item md-toc-h6" data-ref="n357"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n357"><code>ensure_one()</code></a></span><span class="md-toc-item md-toc-h6" data-ref="n359"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n359"><code>exists() → records</code></a></span>
                                                        <span
                                                            class="md-toc-item md-toc-h6" data-ref="n363"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n363"><code>filtered(*func*)</code></a></span><span class="md-toc-item md-toc-h6" data-ref="n367"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n367"><code>sorted(*key=None*, *reverse=False*)</code></a></span>
                                                            <span
                                                                class="md-toc-item md-toc-h6" data-ref="n375"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n375"><code>mapped(*func*)</code></a></span><span class="md-toc-item md-toc-h3" data-ref="n379"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n379">环境交换</a></span>
                                                                <span
                                                                    class="md-toc-item md-toc-h6" data-ref="n380"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n380"><code>sudo([*user=SUPERUSER*])</code></a></span><span class="md-toc-item md-toc-h6" data-ref="n386"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n386"><code>with_context(*[context][, \**overrides]*) → records</code></a></span>
                                                                    <span
                                                                        class="md-toc-item md-toc-h6" data-ref="n390"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n390"><code>with_env(*env*)</code></a></span><span class="md-toc-item md-toc-h3" data-ref="n392"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n392">警告</a></span>
                                                                        <span
                                                                            class="md-toc-item md-toc-h3" data-ref="n394"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n394">字段和视图查询</a></span><span class="md-toc-item md-toc-h6" data-ref="n395"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n395"><code>fields_get(*[fields][, attributes]*)</code></a></span>
                                                                            <span
                                                                                class="md-toc-item md-toc-h6" data-ref="n404"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n404"><code>fields_view_get([*view_id | view_type='form'*])</code></a></span><span class="md-toc-item md-toc-h3"
                                                                                    data-ref="n430"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n430">杂项方法</a></span><span class="md-toc-item md-toc-h6" data-ref="n431"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n431"><code>default_get(*fields*) → default_values</code></a></span>
                                                                                <span
                                                                                    class="md-toc-item md-toc-h6" data-ref="n437"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n437"><code>copy(*default=None*)</code></a></span><span class="md-toc-item md-toc-h6" data-ref="n443"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n443"><code>name_get() → [(id, name), ...]</code></a></span>
                                                                                    <span
                                                                                        class="md-toc-item md-toc-h6" data-ref="n449"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n449"><code>name_create(*name*) → record</code></a></span><span class="md-toc-item md-toc-h3" data-ref="n459"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n459">自动字段</a></span>
                                                                                        <span
                                                                                            class="md-toc-item md-toc-h6" data-ref="n460"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n460"><code>id</code>  <span>	</span></a></span><span class="md-toc-item md-toc-h6" data-ref="n462"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n462"><code>_log_access</code></a></span>
                                                                                            <span
                                                                                                class="md-toc-item md-toc-h6" data-ref="n464"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n464"><code>create_date</code></a></span><span class="md-toc-item md-toc-h6" data-ref="n468"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n468"><code>create_uid</code></a></span>
                                                                                                <span
                                                                                                    class="md-toc-item md-toc-h6" data-ref="n472"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n472"><code>write_date</code></a></span><span class="md-toc-item md-toc-h6" data-ref="n476"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n476"><code>write_uid</code></a></span>
                                                                                                    <span
                                                                                                        class="md-toc-item md-toc-h2" data-ref="n481"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n481">字段</a></span><span class="md-toc-item md-toc-h3" data-ref="n482"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n482">基本领域</a></span>
                                                                                                        <span
                                                                                                            class="md-toc-item md-toc-h6" data-ref="n483"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n483"><code>class odoo.fields.Field(string=&lt;object object&gt;, **kwargs)</code></a></span>
                                                                                                            <span
                                                                                                                class="md-toc-item md-toc-h4" data-ref="n507"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n507">计算字段</a></span>
            </p>
        </div>
        <h1>
            <a name='header-n3' class='md-header-anchor '></a>ORM</h1>
        <h2>
            <a name='header-n4' class='md-header-anchor '></a>Recordsets</h2>
        <p><strong>与模型和记录的交互是通过记录集执行的，记录集是同一模型的有序记录集。 </strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
    <div
        class="CodeMirror-measure"></div>
        <div style="position: relative; z-index: 1;"></div>
        <div class="CodeMirror-code" role="presentation" style="">
            <div class="CodeMirror-activeline" style="position: relative;">
                <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">class</span> <span class="cm-def">AModel</span>(<span class="cm-variable">models</span>.<span class="cm-property">Model</span>):</span></pre></div>
            <pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">_name</span> = <span class="cm-string">'a.model'</span></span>
                </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">def</span> <span class="cm-def">a_method</span>(<span class="cm-variable-2">self</span>):</span></pre>
                <pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment"># self can be anywhere between 0 records and all records in the</span></span>
                    </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment"># database</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">self</span>.<span class="cm-property">do_operation</span>()</span></pre>
                    <pre
                        class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">#模型上定义的方法在记录集上执行，它们self是记录集</span></span>
                        </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-builtin">print</span>(<span class="cm-variable-2">self</span>)<span class="cm-comment"># =&gt; a.model(1, 2, 3, 4, 5)</span></span></pre>
                        <pre
                            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">#迭代记录集将产生新的单个记录集 （“单例”）</span></span>
                            </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span> <span class="cm-variable">record</span> <span class="cm-keyword">in</span> <span class="cm-variable-2">self</span>:</span></pre>
                            <pre
                                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-builtin">print</span> <span class="cm-variable">record</span> <span class="cm-comment"># =&gt; a.model(1), then a.model(2), then a.model(3), ...</span></span>
                                </pre>
        </div>
        </div>
        </div>
        </div>
        </div>
        <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 312px;"></div>
        <div class="CodeMirror-gutters" style="display: none; height: 312px;"></div>
        </div>
        </div>
        </pre>
        <p>&nbsp;</p>
        <p><strong>记录集提供“活动记录”界面：</strong></p>
        <p>模型字段可以作为属性直接从记录中读取和写入，但仅限于单个记录（单记录记录集）。字段值也可以像dict项一样访问，这比<code>getattr()</code>动态字段名称更优雅，更安全。设置字段的值会触发对数据库的更新： </p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
        <div
            class="CodeMirror-measure"></div>
            <div style="position: relative; z-index: 1;"></div>
            <div class="CodeMirror-code" role="presentation" style="">
                <div class="CodeMirror-activeline" style="position: relative;">
                    <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                    <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;&gt;&gt;</span> <span class="cm-variable">record</span>.<span class="cm-property">name</span></span></pre></div>
                <pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Example</span> <span class="cm-variable">Name</span></span>
                    </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;&gt;&gt;</span> <span class="cm-variable">record</span>.<span class="cm-property">company_id</span>.<span class="cm-property">name</span></span></pre>
                    <pre
                        class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Company</span> <span class="cm-variable">Name</span></span>
                        </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;&gt;&gt;</span> <span class="cm-variable">record</span>.<span class="cm-property">name</span> = <span class="cm-string">"Bob"</span></span></pre>
                        <pre
                            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;&gt;&gt;</span> <span class="cm-variable">field</span> = <span class="cm-string">"name"</span></span>
                            </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;&gt;&gt;</span> <span class="cm-variable">record</span>[<span class="cm-variable">field</span>]</span></pre>
                            <pre
                                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Bob</span></span>
                                </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#尝试在多个记录上读取或写入字段会引发错误。</span></span></pre></div>
            </div>
            </div>
            </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 216px;"></div>
            <div class="CodeMirror-gutters" style="display: none; height: 216px;"></div>
            </div>
            </div>
            </pre>
            <p>&nbsp;</p>
            <p><strong>设置字段</strong></p>
            <p>对字段的每个设置都会触发数据库更新，当同时设置多个字段或在多个记录上设置字段（到相同的值）时，使用<a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.models.Model.write'><code>write()</code></a>： </p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded"
                lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
            <div
                class="CodeMirror-measure"></div>
                <div style="position: relative; z-index: 1;"></div>
                <div class="CodeMirror-code" role="presentation" style="">
                    <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 3 * len(records) database updates</span></span></pre></div><pre class=" CodeMirror-line "
                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> <span class="cm-variable">record</span> <span class="cm-keyword">in</span> <span class="cm-variable">records</span>:</span></pre>
                    <pre
                        class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">record</span>.<span class="cm-property">a</span> = <span class="cm-number">1</span></span>
                        </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">record</span>.<span class="cm-property">b</span> = <span class="cm-number">2</span></span></pre>
                        <pre
                            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">record</span>.<span class="cm-property">c</span> = <span class="cm-number">3</span></span>
                            </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># len(records) database updates</span></span></pre>
                            <pre
                                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> <span class="cm-variable">record</span> <span class="cm-keyword">in</span> <span class="cm-variable">records</span>:</span>
                                </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">record</span>.<span class="cm-property">write</span>({<span class="cm-string">'a'</span>: <span class="cm-number">1</span>, <span class="cm-string">'b'</span>: <span class="cm-number">2</span>, <span class="cm-string">'c'</span>: <span class="cm-number">3</span>})</span></pre>
                                <pre
                                    class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span>
                                    </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 1 database update</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">records</span>.<span class="cm-property">write</span>({<span class="cm-string">'a'</span>: <span class="cm-number">1</span>, <span class="cm-string">'b'</span>: <span class="cm-number">2</span>, <span class="cm-string">'c'</span>: <span class="cm-number">3</span>})</span></pre></div>
                </div>
                </div>
                </div>
                </div>
                <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 288px;"></div>
                <div class="CodeMirror-gutters" style="display: none; height: 288px;"></div>
                </div>
                </div>
                </pre>
                <p>&nbsp;</p>
                <p><strong>记录缓存和预取</strong></p>
                <p>Odoo维护记录字段的缓存，因此并非每个字段访问都会发出数据库请求，这对性能来说太糟糕了。以下示例仅针对第一个语句查询数据库</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                <div
                    class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                        <div class="CodeMirror-activeline" style="position: relative;">
                            <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                            <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">record</span>.<span class="cm-property">name</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-comment"># first access reads value from database</span></span></pre></div>
                        <pre
                            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">record</span>.<span class="cm-property">name</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-comment"># second access gets value from cache</span></span>
                            </pre>
                    </div>
                    </div>
                    </div>
                    </div>
                    </div>
                    <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 96px;"></div>
                    <div class="CodeMirror-gutters" style="display: none; height: 96px;"></div>
                    </div>
                    </div>
                    </pre>
                    <p>为了避免一次在一条记录上读取一个字段，Odoo会根据一些启发式方法<em>预取</em>记录和字段以获得良好的性能。一旦必须在给定记录上读取字段，ORM实际上会在较大的记录集上读取该字段，并将返回的值存储在缓存中供以后使用。预取记录集通常是记录集，记录来自迭代。此外，所有简单的存储字段（boolean, integer, float, char, text, date, datetime, selection, many2one ）都被完全取出; 它们对应于模型表的列，并在同一查询中有效获取
                        </p>
                    <p>&nbsp;</p>
                    <h2>
                        <a name='header-n21' class='md-header-anchor '></a>集合操作</h2>
                    <p>记录集是不可变的，但可以使用各种set操作组合相同模型的集合，返回新的记录集。设置操作不会保留顺序。</p>
                    <ul>
                        <li><code>record in set</code>返回是否存在<code>record</code>（必须是1元素记录集）<code>set</code>。<code>record not in set</code>是逆操作</li>
                        <li><code>set1 &lt;= set2</code>并<code>set1 &lt; set2</code>返回是否<code>set1</code>是<code>set2</code>（resp. stric 严格模式）的子集</li>
                        <li><code>set1 &gt;= set2</code>并<code>set1 &gt; set2</code>返回是否<code>set1</code>是<code>set2</code>（resp. stric）的超集</li>
                        <li><code>set1 | set2</code> 返回两个记录集的并集，一个包含任一源中存在的所有记录的新记录集</li>
                        <li><code>set1 &amp; set2</code> 返回两个记录集的交集，一个新记录集仅包含两个源中存在的记录</li>
                        <li>set1 - set2返回一个新记录集，其中只包含set1中不在set2中的记录</li>
                    </ul>
                    <h3>
                        <a name='header-n36' class='md-header-anchor '></a>其他记录集操作</h3>
                    <p>记录集是可迭代的，因此普通的Python工具可用于转化他们（<a href='https://docs.python.org/3/library/functions.html#map'><code>map()</code></a>，<a href='https://docs.python.org/3/library/functions.html#sorted'><code>sorted()</code></a>，<code>itertools.ifilter</code>，...），但是这些操作返回的是一个
                        <a href='https://docs.python.org/3/library/stdtypes.html#list'><code>list</code></a>或一个迭代器，删除了调用他们的结果的方法和记录集操作的能力。 </p>
                    <p>因此，记录集提供这些操作返回记录集本身（如果可能）： </p>
                    <p><a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.models.Model.filtered'><code>filtered()</code></a></p>
                    <p>返回仅包含满足提供的谓词函数的记录的记录集。谓词也可以是一个字符串，按字段为true或false进行过滤： </p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="Python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                    <div
                        class="CodeMirror-measure"></div>
                        <div style="position: relative; z-index: 1;"></div>
                        <div class="CodeMirror-code" role="presentation" style="">
                            <div class="CodeMirror-activeline" style="position: relative;">
                                <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#仅保留其公司是当前用户</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">records</span>.<span class="cm-property">filtered</span>(<span class="cm-keyword">lambda</span> <span class="cm-variable">r</span>: <span class="cm-variable">r</span>.<span class="cm-property">company_id</span> == <span class="cm-variable">user</span>.<span class="cm-property">company_id</span>)</span></pre>
                            <pre
                                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span>
                                </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#仅保留其合作伙伴是公司</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">records</span>.<span class="cm-property">filtered</span>(<span class="cm-string">"partner_id.is_company"</span>)</span></pre></div>
                        </div>
                        </div>
                        </div>
                        </div>
                        <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 120px;"></div>
                        <div class="CodeMirror-gutters" style="display: none; height: 120px;"></div>
                        </div>
                        </div>
                        </pre>
                        <p><a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.models.Model.sorted'><code>sorted()</code></a></p>
                        <p>返回按提供的键函数排序的记录集。如果未提供密钥，请使用模型的默认排序顺序： </p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="Python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                        <div
                            class="CodeMirror-measure"></div>
                            <div style="position: relative; z-index: 1;"></div>
                            <div class="CodeMirror-code" role="presentation">
                                <div class="CodeMirror-activeline" style="position: relative;">
                                    <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                    <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 按名称记录排序记录集</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">records</span>.<span class="cm-property">sorted</span>(<span class="cm-variable">key</span>=<span class="cm-keyword">lambda</span> <span class="cm-variable">r</span>: <span class="cm-variable">r</span>.<span class="cm-property">name</span>)</span></pre></div>
                            </div>
                            </div>
                            </div>
                            </div>
                            <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 48px;"></div>
                            <div class="CodeMirror-gutters" style="display: none; height: 48px;"></div>
                            </div>
                            </div>
                            </pre>
                            <p><a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.models.Model.mapped'><code>mapped()</code></a></p>
                            <p>将提供的函数应用于记录集中的每个记录，如果结果是记录集，则返回记录集： </p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="Python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                            <div
                                class="CodeMirror-measure"></div>
                                <div style="position: relative; z-index: 1;"></div>
                                <div class="CodeMirror-code" role="presentation">
                                    <div class="CodeMirror-activeline" style="position: relative;">
                                        <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                        <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 返回记录集中每条记录的两个字段的汇总列表</span></span></pre></div><pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">records</span>.<span class="cm-property">mapped</span>(<span class="cm-keyword">lambda</span> <span class="cm-variable">r</span>: <span class="cm-variable">r</span>.<span class="cm-property">field1</span> <span class="cm-operator">+</span> <span class="cm-variable">r</span>.<span class="cm-property">field2</span>)</span></pre></div>
                                </div>
                                </div>
                                </div>
                                </div>
                                <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 48px;"></div>
                                <div class="CodeMirror-gutters" style="display: none; height: 48px;"></div>
                                </div>
                                </div>
                                </pre>
                                <p>提供的函数可以是一个字符串来获取字段值： </p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="Python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                <div
                                    class="CodeMirror-measure"></div>
                                    <div style="position: relative; z-index: 1;"></div>
                                    <div class="CodeMirror-code" role="presentation" style="">
                                        <div class="CodeMirror-activeline" style="position: relative;">
                                            <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                            <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 返回名称记录列表</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">records</span>.<span class="cm-property">mapped</span>(<span class="cm-string">'name'</span>)</span></pre>
                                        <pre
                                            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span>
                                            </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#返回合作伙伴记录的记录集</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">record</span>.<span class="cm-property">mapped</span>(<span class="cm-string">'partner_id'</span>)</span></pre>
                                            <pre
                                                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span>
                                                </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#返回所有合作伙伴银行删除重复记录的并集</span></span></pre><pre class=" CodeMirror-line "
                                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">record</span>.<span class="cm-property">mapped</span>(<span class="cm-string">'partner_id.bank_ids'</span>)</span></pre></div>
                                    </div>
                                    </div>
                                    </div>
                                    </div>
                                    <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 192px;"></div>
                                    <div class="CodeMirror-gutters" style="display: none; height: 192px;"></div>
                                    </div>
                                    </div>
                                    </pre>
                                    <p>&nbsp;</p>
                                    <h2>
                                        <a name='header-n51' class='md-header-anchor '></a>环境Environment </h2>
                                    <p>Environment 由ORM用于存储各种上下文数据：数据库游标cursor （数据库查询），当前用户current user （访问权限检查）和当前的上下文（存储任意元数据）,环境还存储缓存.</p>
                                    <p>所有记录集都有一个不可变的环境，可以使用<code>env</code>它来访问，并提供对当前user（<code>user</code>），cursor（<code>cr</code>）或context（<code>context</code>）的访问： </p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                    <div
                                        class="CodeMirror-measure"></div>
                                        <div style="position: relative; z-index: 1;"></div>
                                        <div class="CodeMirror-code" role="presentation" style="">
                                            <div class="CodeMirror-activeline" style="position: relative;">
                                                <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;&gt;&gt;</span> <span class="cm-variable">records</span>.<span class="cm-property">env</span></span></pre></div>
                                            <pre
                                                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&lt;</span><span class="cm-variable">Environment</span> <span class="cm-builtin">object</span> ...<span class="cm-operator">&gt;</span></span>
                                                </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;&gt;&gt;</span> <span class="cm-variable">records</span>.<span class="cm-property">env</span>.<span class="cm-property">user</span></span></pre>
                                                <pre
                                                    class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">res</span>.<span class="cm-property">user</span>(<span class="cm-number">3</span>)</span>
                                                    </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;&gt;&gt;</span> <span class="cm-variable">records</span>.<span class="cm-property">env</span>.<span class="cm-property">cr</span></span></pre>
                                                    <pre
                                                        class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&lt;</span><span class="cm-variable">Cursor</span> <span class="cm-builtin">object</span> ...<span class="cm-error">)</span></span>
                                                        </pre>
                                        </div>
                                        </div>
                                        </div>
                                        </div>
                                        </div>
                                        <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 144px;"></div>
                                        <div class="CodeMirror-gutters" style="display: none; height: 144px;"></div>
                                        </div>
                                        </div>
                                        </pre>
                                        <p>从其他记录集创建记录集时，将继承环境。环境可用于在其他模型中获取空记录集，并查询该模型： </p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                        <div
                                            class="CodeMirror-measure"></div>
                                            <div style="position: relative; z-index: 1;"></div>
                                            <div class="CodeMirror-code" role="presentation">
                                                <div class="CodeMirror-activeline" style="position: relative;">
                                                    <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                    <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;&gt;&gt;</span> <span class="cm-variable-2">self</span>.<span class="cm-property">env</span>[<span class="cm-string">'res.partner'</span>]</span></pre></div>
                                                <pre
                                                    class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">res</span>.<span class="cm-property">partner</span></span>
                                                    </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;&gt;&gt;</span> <span class="cm-variable-2">self</span>.<span class="cm-property">env</span>[<span class="cm-string">'res.partner'</span>].<span class="cm-property">search</span>([[<span class="cm-string">'is_company'</span>, <span class="cm-string">'='</span>, <span class="cm-keyword">True</span>], [<span class="cm-string">'customer'</span>, <span class="cm-string">'='</span>, <span class="cm-keyword">True</span>]])</span></pre>
                                                    <pre
                                                        class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">res</span>.<span class="cm-property">partner</span>(<span class="cm-number">7</span>, <span class="cm-number">18</span>,
                                                        <span class="cm-number">12</span>, <span class="cm-number">14</span>, <span class="cm-number">17</span>, <span class="cm-number">19</span>, <span class="cm-number">8</span>, <span class="cm-number">31</span>,
                                                        <span class="cm-number">26</span>, <span class="cm-number">16</span>, <span class="cm-number">13</span>, <span class="cm-number">20</span>, <span class="cm-number">30</span>, <span class="cm-number">22</span>,
                                                        <span class="cm-number">29</span>, <span class="cm-number">15</span>, <span class="cm-number">23</span>, <span class="cm-number">28</span>, <span class="cm-number">74</span>)</span>
                                                        </pre>
                                            </div>
                                            </div>
                                            </div>
                                            </div>
                                            </div>
                                            <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 144px;"></div>
                                            <div class="CodeMirror-gutters" style="display: none; height: 144px;"></div>
                                            </div>
                                            </div>
                                            </pre>
                                            <p>&nbsp;</p>
                                            <h3>
                                                <a name='header-n58' class='md-header-anchor '></a>改变环境</h3>
                                            <p>可以从记录集中自定义环境。这将使用更改的环境返回记录集的新版本。</p>
                                            <p>sudo()</p>
                                            <p>使用提供的用户集创建新环境，如果未提供任何用户，则使用管理员（绕过安全上下文中的访问权限/规则），使用新环境返回调用它的记录集的副本：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                            <div
                                                class="CodeMirror-measure"></div>
                                                <div style="position: relative; z-index: 1;"></div>
                                                <div class="CodeMirror-code" role="presentation" style="">
                                                    <div class="CodeMirror-activeline" style="position: relative;">
                                                        <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                        <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># create partner object as administrator以管理员身份创建合作伙伴</span></span></pre></div>
                                                    <pre
                                                        class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">env</span>[<span class="cm-string">'res.partner'</span>].<span class="cm-property">sudo</span>().<span class="cm-property">create</span>({
                                                        <span
                                                            class="cm-string">'name'</span>: <span class="cm-string">"A Partner"</span>})</span>
                                                            </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># list partners visible by the "public" user 列出“公共”用户可见的合作伙伴</span></span></pre>
                                                            <pre
                                                                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">public</span> = <span class="cm-variable">env</span>.<span class="cm-property">ref</span>(<span class="cm-string">'base.public_user'</span>)</span>
                                                                </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">env</span>[<span class="cm-string">'res.partner'</span>].<span class="cm-property">sudo</span>(<span class="cm-variable">public</span>).<span class="cm-property">search</span>([])</span></pre></div>
                                                </div>
                                                </div>
                                                </div>
                                                </div>
                                                <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 168px;"></div>
                                                <div class="CodeMirror-gutters" style="display: none; height: 168px;"></div>
                                                </div>
                                                </div>
                                                </pre>
                                                <p>with_context()</p>
                                                <ol start=''>
                                                    <li>可以采用单个位置参数，它替换当前环境的上下文</li>
                                                    <li>可以通过关键字获取任意数量的参数，这些参数被添加到当前环境的上下文或步骤1中设置的上下文中</li>
                                                </ol><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                <div
                                                    class="CodeMirror-measure"></div>
                                                    <div style="position: relative; z-index: 1;"></div>
                                                    <div class="CodeMirror-code" role="presentation">
                                                        <div class="CodeMirror-activeline" style="position: relative;">
                                                            <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                            <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># look for partner, or create one with specified timezone if none is found 查找指定时区的合作伙伴,如果找不到合作伙伴就创建指定时区的合作伙伴</span></span></pre></div>
                                                        <pre
                                                            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">env</span>[<span class="cm-string">'res.partner'</span>].<span class="cm-property">with_context</span>(<span class="cm-variable">tz</span>=
                                                            <span
                                                                class="cm-variable">a_tz</span>).<span class="cm-property">find_or_create</span>(<span class="cm-variable">email_address</span>)</span>
                                                                </pre>
                                                    </div>
                                                    </div>
                                                    </div>
                                                    </div>
                                                    </div>
                                                    <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 120px;"></div>
                                                    <div class="CodeMirror-gutters" style="display: none; height: 120px;"></div>
                                                    </div>
                                                    </div>
                                                    </pre>
                                                    <p>with_env()</p>
                                                    <p>完全取代现有环境</p>
                                                    <p>&nbsp;</p>
                                                    <h2>
                                                        <a name='header-n73' class='md-header-anchor '></a>常见的ORM方法</h2>
                                                    <p>search()</p>
                                                    <p>采用搜索域，返回匹配记录的记录集。可以返回匹配记录（<code>offset</code> 和<code>limit</code>参数）的子集并进行排序（<code>order</code>参数）：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                    <div
                                                        class="CodeMirror-measure"></div>
                                                        <div style="position: relative; z-index: 1;"></div>
                                                        <div class="CodeMirror-code" role="presentation" style="">
                                                            <div class="CodeMirror-activeline" style="position: relative;">
                                                                <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;&gt;&gt;</span> <span class="cm-comment"># searches the current model</span></span></pre></div>
                                                            <pre
                                                                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;&gt;&gt;</span> <span class="cm-variable-2">self</span>.<span class="cm-property">search</span>([(<span class="cm-string">'is_company'</span>,
                                                                <span class="cm-string">'='</span>, <span class="cm-keyword">True</span>), (<span class="cm-string">'customer'</span>, <span class="cm-string">'='</span>, <span class="cm-keyword">True</span>)])</span>
                                                                </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">res</span>.<span class="cm-property">partner</span>(<span class="cm-number">7</span>, <span class="cm-number">18</span>, <span class="cm-number">12</span>, <span class="cm-number">14</span>, <span class="cm-number">17</span>, <span class="cm-number">19</span>, <span class="cm-number">8</span>, <span class="cm-number">31</span>, <span class="cm-number">26</span>, <span class="cm-number">16</span>, <span class="cm-number">13</span>, <span class="cm-number">20</span>, <span class="cm-number">30</span>, <span class="cm-number">22</span>, <span class="cm-number">29</span>, <span class="cm-number">15</span>, <span class="cm-number">23</span>, <span class="cm-number">28</span>, <span class="cm-number">74</span>)</span></pre>
                                                                <pre
                                                                    class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;&gt;&gt;</span> <span class="cm-variable-2">self</span>.<span class="cm-property">search</span>([(
                                                                    <span
                                                                        class="cm-string">'is_company'</span>, <span class="cm-string">'='</span>, <span class="cm-keyword">True</span>)], <span class="cm-variable">limit</span>=<span class="cm-number">1</span>).<span class="cm-property">name</span></span>
                                                                        </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-string">'Agrolait'</span></span></pre></div>
                                                        </div>
                                                        </div>
                                                        </div>
                                                        </div>
                                                        <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 168px;"></div>
                                                        <div class="CodeMirror-gutters" style="display: none; height: 168px;"></div>
                                                        </div>
                                                        </div>
                                                        </pre>
                                                        <p>只是检查是否有任何记录与域匹配，或者计算使用的记录数 search_count()</p>
                                                        <p>create()</p>
                                                        <p>获取字段值的字典或此类字典的列表，并返回包含所创建记录的记录集： </p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                        <div
                                                            class="CodeMirror-measure"></div>
                                                            <div style="position: relative; z-index: 1;"></div>
                                                            <div class="CodeMirror-code" role="presentation">
                                                                <div class="CodeMirror-activeline" style="position: relative;">
                                                                    <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                    <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;&gt;&gt;</span> <span class="cm-variable-2">self</span>.<span class="cm-property">create</span>({<span class="cm-string">'name'</span>: <span class="cm-string">"Joe"</span>})</span></pre></div>
                                                                <pre
                                                                    class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">res</span>.<span class="cm-property">partner</span>(<span class="cm-number">78</span>)</span>
                                                                    </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;&gt;&gt;</span> <span class="cm-variable-2">self</span>.<span class="cm-property">create</span>([{<span class="cm-string">'name'</span>: <span class="cm-string">"Jack"</span>}, {<span class="cm-string">'name'</span>: <span class="cm-string">"William"</span>}, {<span class="cm-string">'name'</span>: <span class="cm-string">"Averell"</span>}])</span></pre>
                                                                    <pre
                                                                        class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">res</span>.<span class="cm-property">partner</span>(<span class="cm-number">79</span>, <span class="cm-number">80</span>,
                                                                        <span class="cm-number">81</span>)</span>
                                                                        </pre>
                                                            </div>
                                                            </div>
                                                            </div>
                                                            </div>
                                                            </div>
                                                            <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 120px;"></div>
                                                            <div class="CodeMirror-gutters" style="display: none; height: 120px;"></div>
                                                            </div>
                                                            </div>
                                                            </pre>
                                                            <p>了解<a href='https://www.odoo.com/documentation/12.0/reference/orm.html#reference-orm-oldapi'>如何使用一个API或另一个API定义方法<code>create</code></a>。 </p>
                                                            <p>write()</p>
                                                            <p>获取许多字段值，将它们写入其记录集中的所有记录。不返回值：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                            <div
                                                                class="CodeMirror-measure"></div>
                                                                <div style="position: relative; z-index: 1;"></div>
                                                                <div class="CodeMirror-code" role="presentation">
                                                                    <div class="CodeMirror-activeline" style="position: relative;">
                                                                        <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                        <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-2">self</span>.<span class="cm-property">write</span>({<span class="cm-string">'name'</span>: <span class="cm-string">"Newer Name"</span>})</span></pre></div>
                                                                </div>
                                                                </div>
                                                                </div>
                                                                </div>
                                                                </div>
                                                                <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 24px;"></div>
                                                                <div class="CodeMirror-gutters" style="display: none; height: 24px;"></div>
                                                                </div>
                                                                </div>
                                                                </pre>
                                                                <p>browse()</p>
                                                                <p>获取数据库ID或id列表并返回记录集，当从外部Odoo获取记录ID（例如，通过外部系统往返）或<a href='https://www.odoo.com/documentation/12.0/reference/orm.html#reference-orm-oldapi'>在旧API中调用方法时</a>非常有用：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded"
                                                                    lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                <div
                                                                    class="CodeMirror-measure"></div>
                                                                    <div style="position: relative; z-index: 1;"></div>
                                                                    <div class="CodeMirror-code" role="presentation">
                                                                        <div class="CodeMirror-activeline" style="position: relative;">
                                                                            <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                            <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;&gt;&gt;</span> <span class="cm-variable-2">self</span>.<span class="cm-property">browse</span>([<span class="cm-number">7</span>, <span class="cm-number">18</span>, <span class="cm-number">12</span>])</span></pre></div>
                                                                        <pre
                                                                            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">res</span>.<span class="cm-property">partner</span>(<span class="cm-number">7</span>, <span class="cm-number">18</span>,
                                                                            <span class="cm-number">12</span>)</span>
                                                                            </pre>
                                                                    </div>
                                                                    </div>
                                                                    </div>
                                                                    </div>
                                                                    </div>
                                                                    <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 48px;"></div>
                                                                    <div class="CodeMirror-gutters" style="display: none; height: 48px;"></div>
                                                                    </div>
                                                                    </div>
                                                                    </pre>
                                                                    <p>exists()</p>
                                                                    <p>返回仅包含数据库中存在的记录的新记录集。可用于检查记录（例如，从外部获得）是否仍然存在：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                    <div
                                                                        class="CodeMirror-measure"></div>
                                                                        <div style="position: relative; z-index: 1;"></div>
                                                                        <div class="CodeMirror-code" role="presentation">
                                                                            <div class="CodeMirror-activeline" style="position: relative;">
                                                                                <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                                <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> <span class="cm-keyword">not</span> <span class="cm-variable">record</span>.<span class="cm-property">exists</span>():</span></pre></div>
                                                                            <pre
                                                                                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">raise</span> <span class="cm-variable">Exception</span>(<span class="cm-string">"The record has been deleted"</span>)</span>
                                                                                </pre>
                                                                        </div>
                                                                        </div>
                                                                        </div>
                                                                        </div>
                                                                        </div>
                                                                        <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 48px;"></div>
                                                                        <div class="CodeMirror-gutters" style="display: none; height: 48px;"></div>
                                                                        </div>
                                                                        </div>
                                                                        </pre>
                                                                        <p>或者在调用可能删除了一些记录的方法之后： </p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                        <div
                                                                            class="CodeMirror-measure"></div>
                                                                            <div style="position: relative; z-index: 1;"></div>
                                                                            <div class="CodeMirror-code" role="presentation">
                                                                                <div class="CodeMirror-activeline" style="position: relative;">
                                                                                    <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                                    <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">records</span>.<span class="cm-property">may_remove_some</span>()</span></pre></div>
                                                                                <pre
                                                                                    class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># only keep records which were not deleted仅保留未删除</span></span>
                                                                                    </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">records</span> = <span class="cm-variable">records</span>.<span class="cm-property">exists</span>()</span></pre></div>
                                                                            </div>
                                                                            </div>
                                                                            </div>
                                                                            </div>
                                                                            <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 72px;"></div>
                                                                            <div class="CodeMirror-gutters" style="display: none; height: 72px;"></div>
                                                                            </div>
                                                                            </div>
                                                                            </pre>
                                                                            <p>ref()</p>
                                                                            <p>环境方法,返回与提供的<a href='https://www.odoo.com/documentation/12.0/glossary.html#term-external-id'>外部id</a>匹配的记录 ： </p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded"
                                                                                lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                            <div
                                                                                class="CodeMirror-measure"></div>
                                                                                <div style="position: relative; z-index: 1;"></div>
                                                                                <div class="CodeMirror-code" role="presentation">
                                                                                    <div class="CodeMirror-activeline" style="position: relative;">
                                                                                        <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                                        <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;&gt;&gt;</span> <span class="cm-variable">env</span>.<span class="cm-property">ref</span>(<span class="cm-string">'base.group_public'</span>)</span></pre></div>
                                                                                    <pre
                                                                                        class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">res</span>.<span class="cm-property">groups</span>(<span class="cm-number">2</span>)</span>
                                                                                        </pre>
                                                                                </div>
                                                                                </div>
                                                                                </div>
                                                                                </div>
                                                                                </div>
                                                                                <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 48px;"></div>
                                                                                <div class="CodeMirror-gutters" style="display: none; height: 48px;"></div>
                                                                                </div>
                                                                                </div>
                                                                                </pre>
                                                                                <p>ensure_one()</p>
                                                                                <p>检查记录集是否为单例（仅包含单个记录），否则会引发错误： </p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                                <div
                                                                                    class="CodeMirror-measure"></div>
                                                                                    <div style="position: relative; z-index: 1;"></div>
                                                                                    <div class="CodeMirror-code" role="presentation">
                                                                                        <div class="CodeMirror-activeline" style="position: relative;">
                                                                                            <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                                            <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">records</span>.<span class="cm-property">ensure_one</span>()</span></pre></div>
                                                                                        <pre
                                                                                            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># is equivalent to but clearer than:相当于但更清晰：</span></span>
                                                                                            </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assert</span> <span class="cm-builtin">len</span>(<span class="cm-variable">records</span>) == <span class="cm-number">1</span>, <span class="cm-string">"Expected singleton"</span></span></pre></div>
                                                                                    </div>
                                                                                    </div>
                                                                                    </div>
                                                                                    </div>
                                                                                    <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 72px;"></div>
                                                                                    <div class="CodeMirror-gutters" style="display: none; height: 72px;"></div>
                                                                                    </div>
                                                                                    </div>
                                                                                    </pre>
                                                                                    <p>&nbsp;</p>
                                                                                    <h2>
                                                                                        <a name='header-n100' class='md-header-anchor '></a>创建模型</h2>
                                                                                    <p>模型字段定义为模型本身的属性：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                                    <div
                                                                                        class="CodeMirror-measure"></div>
                                                                                        <div style="position: relative; z-index: 1;"></div>
                                                                                        <div class="CodeMirror-code" role="presentation" style="">
                                                                                            <div class="CodeMirror-activeline" style="position: relative;">
                                                                                                <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                                                <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">odoo</span> <span class="cm-keyword">import</span> <span class="cm-variable">models</span>,<span class="cm-variable">fields</span></span></pre></div>
                                                                                            <pre
                                                                                                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">class</span> <span class="cm-def">AModel</span>(<span class="cm-variable">models</span>.
                                                                                                <span
                                                                                                    class="cm-property">Model</span>):</span>
                                                                                                    </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">_name</span> = <span class="cm-string">'a.model.name'</span></span></pre>
                                                                                                    <pre
                                                                                                        class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">field1</span> = <span class="cm-variable">fields</span>.
                                                                                                        <span
                                                                                                            class="cm-property">Char</span>()</span>
                                                                                                            </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#警告 这意味着您无法定义具有相同名称的字段和方法，它们会发生冲突</span></span></pre></div>
                                                                                        </div>
                                                                                        </div>
                                                                                        </div>
                                                                                        </div>
                                                                                        <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 120px;"></div>
                                                                                        <div class="CodeMirror-gutters" style="display: none; height: 120px;"></div>
                                                                                        </div>
                                                                                        </div>
                                                                                        </pre>
                                                                                        <p>默认情况下，字段的标签（用户可见名称）是字段名称的大写版本，可以使用以下<code>string</code>参数覆盖：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                                        <div
                                                                                            class="CodeMirror-measure"></div>
                                                                                            <div style="position: relative; z-index: 1;"></div>
                                                                                            <div class="CodeMirror-code" role="presentation">
                                                                                                <div class="CodeMirror-activeline" style="position: relative;">
                                                                                                    <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                                                    <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">field2</span> = <span class="cm-variable">fields</span>.<span class="cm-property">Integer</span>(<span class="cm-variable">string</span>=<span class="cm-string">"an other field"</span>)</span></pre></div>
                                                                                            </div>
                                                                                            </div>
                                                                                            </div>
                                                                                            </div>
                                                                                            </div>
                                                                                            <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 24px;"></div>
                                                                                            <div class="CodeMirror-gutters" style="display: none; height: 24px;"></div>
                                                                                            </div>
                                                                                            </div>
                                                                                            </pre>
                                                                                            <p>默认值定义为字段上的参数，值为： </p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                                            <div
                                                                                                class="CodeMirror-measure"></div>
                                                                                                <div style="position: relative; z-index: 1;"></div>
                                                                                                <div class="CodeMirror-code" role="presentation">
                                                                                                    <div class="CodeMirror-activeline" style="position: relative;">
                                                                                                        <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                                                        <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">a_field</span> = <span class="cm-variable">fields</span>.<span class="cm-property">Char</span>(<span class="cm-variable">default</span>=<span class="cm-string">"a value"</span>)</span></pre></div>
                                                                                                </div>
                                                                                                </div>
                                                                                                </div>
                                                                                                </div>
                                                                                                </div>
                                                                                                <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 24px;"></div>
                                                                                                <div class="CodeMirror-gutters" style="display: none; height: 24px;"></div>
                                                                                                </div>
                                                                                                </div>
                                                                                                </pre>
                                                                                                <p>或者一个被调用来计算默认值的函数，它应返回该值： </p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                                                <div
                                                                                                    class="CodeMirror-measure"></div>
                                                                                                    <div style="position: relative; z-index: 1;"></div>
                                                                                                    <div class="CodeMirror-code" role="presentation">
                                                                                                        <div class="CodeMirror-activeline" style="position: relative;">
                                                                                                            <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                                                            <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">def</span> <span class="cm-def">compute_default_value</span>(<span class="cm-variable-2">self</span>):</span></pre></div>
                                                                                                        <pre
                                                                                                            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable-2">self</span>.
                                                                                                            <span
                                                                                                                class="cm-property">get_value</span>()</span>
                                                                                                                </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">a_field</span> = <span class="cm-variable">fields</span>.<span class="cm-property">Char</span>(<span class="cm-variable">default</span>=<span class="cm-variable">compute_default_value</span>)</span></pre></div>
                                                                                                    </div>
                                                                                                    </div>
                                                                                                    </div>
                                                                                                    </div>
                                                                                                    <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 72px;"></div>
                                                                                                    <div class="CodeMirror-gutters" style="display: none; height: 72px;"></div>
                                                                                                    </div>
                                                                                                    </div>
                                                                                                    </pre>
                                                                                                    <p>&nbsp;</p>
                                                                                                    <h3>
                                                                                                        <a name='header-n110' class='md-header-anchor '></a>计算字段</h3>
                                                                                                    <p>可以使用<code>compute</code>参数计算字段（而不是直接从数据库中读取） 。<strong>它必须将计算值分配给字段</strong>。如果它使用其他<em>字段</em>的值，则应使用depends()</p>
                                                                                                    <p>以下命令指定这些字段 ：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                                                    <div
                                                                                                        class="CodeMirror-measure"></div>
                                                                                                        <div style="position: relative; z-index: 1;"></div>
                                                                                                        <div class="CodeMirror-code" role="presentation" style="">
                                                                                                            <div class="CodeMirror-activeline" style="position: relative;">
                                                                                                                <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                                                                <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">odoo</span> <span class="cm-keyword">import</span> <span class="cm-variable">api</span></span></pre></div>
                                                                                                            <pre
                                                                                                                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span>
                                                                                                                </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">total</span> = <span class="cm-variable">fields</span>.<span class="cm-property">Float</span>(<span class="cm-variable">compute</span>=<span class="cm-string">'_compute_total'</span>)</span></pre>
                                                                                                                <pre
                                                                                                                    class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span>
                                                                                                                    </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@api</span>.<span class="cm-property">depends</span>(<span class="cm-string">'value'</span>, <span class="cm-string">'tax'</span>)</span></pre>
                                                                                                                    <pre
                                                                                                                        class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">def</span> <span class="cm-def">_compute_total</span>(
                                                                                                                        <span
                                                                                                                            class="cm-variable-2">self</span>):</span>
                                                                                                                            </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span> <span class="cm-variable">record</span> <span class="cm-keyword">in</span> <span class="cm-variable-2">self</span>:</span></pre>
                                                                                                                            <pre
                                                                                                                                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">record</span>.
                                                                                                                                <span
                                                                                                                                    class="cm-property">total</span> = <span class="cm-variable">record</span>.<span class="cm-property">value</span> <span class="cm-operator">+</span>                                                                                                                                    <span class="cm-variable">record</span>.<span class="cm-property">value</span> <span class="cm-operator">*</span>
                                                                                                                                    <span
                                                                                                                                        class="cm-variable">record</span>.<span class="cm-property">tax</span></span>
                                                                                                                                        </pre>
                                                                                                        </div>
                                                                                                        </div>
                                                                                                        </div>
                                                                                                        </div>
                                                                                                        </div>
                                                                                                        <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 216px;"></div>
                                                                                                        <div class="CodeMirror-gutters" style="display: none; height: 216px;"></div>
                                                                                                        </div>
                                                                                                        </div>
                                                                                                        </pre>
                                                                                                        <ul>
                                                                                                            <li>使用子字段时，依赖关系可以是虚线路径： </li>
                                                                                                        </ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                                                        <div
                                                                                                            class="CodeMirror-measure"></div>
                                                                                                            <div style="position: relative; z-index: 1;"></div>
                                                                                                            <div class="CodeMirror-code" role="presentation">
                                                                                                                <div class="CodeMirror-activeline" style="position: relative;">
                                                                                                                    <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                                                                    <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@api</span>.<span class="cm-property">depends</span>(<span class="cm-string">'line_ids.value'</span>)</span></pre></div>
                                                                                                                <pre
                                                                                                                    class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">def</span> <span class="cm-def">_compute_total</span>(
                                                                                                                    <span
                                                                                                                        class="cm-variable-2">self</span>):</span>
                                                                                                                        </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span> <span class="cm-variable">record</span> <span class="cm-keyword">in</span> <span class="cm-variable-2">self</span>:</span></pre>
                                                                                                                        <pre
                                                                                                                            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">record</span>.<span class="cm-property">total</span>                                                                                                                            = <span class="cm-builtin">sum</span>(<span class="cm-variable">line</span>.<span class="cm-property">value</span> <span class="cm-keyword">for</span>                                                                                                                            <span class="cm-variable">line</span> <span class="cm-keyword">in</span> <span class="cm-variable">record</span>.<span class="cm-property">line_ids</span>)</span>
                                                                                                                            </pre>
                                                                                                            </div>
                                                                                                            </div>
                                                                                                            </div>
                                                                                                            </div>
                                                                                                            </div>
                                                                                                            <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 120px;"></div>
                                                                                                            <div class="CodeMirror-gutters" style="display: none; height: 120px;"></div>
                                                                                                            </div>
                                                                                                            </div>
                                                                                                            </pre>
                                                                                                            <ul>
                                                                                                                <li>默认情况下不会存储计算字段，它们会在请求时计算并返回。设置<code>store=True</code>会将它们存储在数据库中并自动启用搜索</li>
                                                                                                                <li>也可以通过设置<code>search</code> 参数来启用在计算字段上搜索。该值是返回域的方法名称 ：</li>
                                                                                                            </ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                                                            <div
                                                                                                                class="CodeMirror-measure"></div>
                                                                                                                <div style="position: relative; z-index: 1;"></div>
                                                                                                                <div class="CodeMirror-code" role="presentation" style="">
                                                                                                                    <div class="CodeMirror-activeline" style="position: relative;">
                                                                                                                        <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                                                                        <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">upper_name</span> = <span class="cm-variable">field</span>.<span class="cm-property">Char</span>(<span class="cm-variable">compute</span>=<span class="cm-string">'_compute_upper'</span>, <span class="cm-variable">search</span>=<span class="cm-string">'_search_upper'</span>)</span></pre></div>
                                                                                                                    <pre
                                                                                                                        class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span>
                                                                                                                        </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">def</span> <span class="cm-def">_search_upper</span>(<span class="cm-variable-2">self</span>, <span class="cm-variable">operator</span>, <span class="cm-variable">value</span>):</span></pre>
                                                                                                                        <pre
                                                                                                                            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span> <span class="cm-variable">operator</span>                                                                                                                            == <span class="cm-string">'like'</span>:</span>
                                                                                                                            </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">operator</span> = <span class="cm-string">'ilike'</span></span></pre>
                                                                                                                            <pre
                                                                                                                                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> [(<span class="cm-string">'name'</span>,
                                                                                                                                <span class="cm-variable">operator</span>, <span class="cm-variable">value</span>)]</span>
                                                                                                                                </pre>
                                                                                                                </div>
                                                                                                                </div>
                                                                                                                </div>
                                                                                                                </div>
                                                                                                                </div>
                                                                                                                <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 168px;"></div>
                                                                                                                <div class="CodeMirror-gutters" style="display: none; height: 168px;"></div>
                                                                                                                </div>
                                                                                                                </div>
                                                                                                                </pre>
                                                                                                                <ul>
                                                                                                                    <li>要允许在计算字段上<em>设置</em>值，请使用该<code>inverse</code> 参数。它是反转计算和设置相关字段的函数的名称： </li>
                                                                                                                </ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                                                                <div
                                                                                                                    class="CodeMirror-measure"></div>
                                                                                                                    <div style="position: relative; z-index: 1;"></div>
                                                                                                                    <div class="CodeMirror-code" role="presentation" style="">
                                                                                                                        <div class="CodeMirror-activeline" style="position: relative;">
                                                                                                                            <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                                                                            <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">document</span> = <span class="cm-variable">fields</span>.<span class="cm-property">Char</span>(<span class="cm-variable">compute</span>=<span class="cm-string">'_get_document'</span>, <span class="cm-variable">inverse</span>=<span class="cm-string">'_set_document'</span>)</span></pre></div>
                                                                                                                        <pre
                                                                                                                            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span>
                                                                                                                            </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">def</span> <span class="cm-def">_get_document</span>(<span class="cm-variable-2">self</span>):</span></pre>
                                                                                                                            <pre
                                                                                                                                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span> <span class="cm-variable">record</span>                                                                                                                                <span class="cm-keyword">in</span> <span class="cm-variable-2">self</span>:</span>
                                                                                                                                </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">with</span> <span class="cm-builtin">open</span>(<span class="cm-variable">record</span>.<span class="cm-property">get_document_path</span>) <span class="cm-keyword">as</span> <span class="cm-variable">f</span>:</span></pre>
                                                                                                                                <pre
                                                                                                                                    class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">record</span>.
                                                                                                                                    <span
                                                                                                                                        class="cm-property">document</span> = <span class="cm-variable">f</span>.<span class="cm-property">read</span>()</span>
                                                                                                                                        </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">def</span> <span class="cm-def">_set_document</span>(<span class="cm-variable-2">self</span>):</span></pre>
                                                                                                                                        <pre
                                                                                                                                            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span> <span class="cm-variable">record</span>                                                                                                                                            <span class="cm-keyword">in</span> <span class="cm-variable-2">self</span>:</span>
                                                                                                                                            </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> <span class="cm-keyword">not</span> <span class="cm-variable">record</span>.<span class="cm-property">document</span>: <span class="cm-keyword">continue</span></span></pre>
                                                                                                                                            <pre
                                                                                                                                                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">with</span>                                                                                                                                                <span class="cm-builtin">open</span>(<span class="cm-variable">record</span>.<span class="cm-property">get_document_path</span>())
                                                                                                                                                <span class="cm-keyword">as</span> <span class="cm-variable">f</span>:</span>
                                                                                                                                                </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">f</span>.<span class="cm-property">write</span>(<span class="cm-variable">record</span>.<span class="cm-property">document</span>)</span></pre></div>
                                                                                                                    </div>
                                                                                                                    </div>
                                                                                                                    </div>
                                                                                                                    </div>
                                                                                                                    <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 288px;"></div>
                                                                                                                    <div class="CodeMirror-gutters" style="display: none; height: 288px;"></div>
                                                                                                                    </div>
                                                                                                                    </div>
                                                                                                                    </pre>
                                                                                                                    <ul>
                                                                                                                        <li>可以通过相同的方法同时计算多个字段，只需在所有字段上使用相同的方法并设置所有字段： </li>
                                                                                                                    </ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                                                                    <div
                                                                                                                        class="CodeMirror-measure"></div>
                                                                                                                        <div style="position: relative; z-index: 1;"></div>
                                                                                                                        <div class="CodeMirror-code" role="presentation" style="">
                                                                                                                            <div class="CodeMirror-activeline" style="position: relative;">
                                                                                                                                <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                                                                                <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">discount_value</span> = <span class="cm-variable">fields</span>.<span class="cm-property">Float</span>(<span class="cm-variable">compute</span>=<span class="cm-string">'_apply_discount'</span>)</span></pre></div>
                                                                                                                            <pre
                                                                                                                                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">total</span> = <span class="cm-variable">fields</span>.
                                                                                                                                <span
                                                                                                                                    class="cm-property">Float</span>(<span class="cm-variable">compute</span>=<span class="cm-string">'_apply_discount'</span>)</span>
                                                                                                                                    </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                                                                                                                                    <pre
                                                                                                                                        class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@depends</span>(<span class="cm-string">'value'</span>,
                                                                                                                                        <span class="cm-string">'discount'</span>)</span>
                                                                                                                                        </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">def</span> <span class="cm-def">_apply_discount</span>(<span class="cm-variable-2">self</span>):</span></pre>
                                                                                                                                        <pre
                                                                                                                                            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span> <span class="cm-variable">record</span>                                                                                                                                            <span class="cm-keyword">in</span> <span class="cm-variable-2">self</span>:</span>
                                                                                                                                            </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment"># compute actual discount from discount percentage</span></span></pre>
                                                                                                                                            <pre
                                                                                                                                                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">discount</span>                                                                                                                                                = <span class="cm-variable">record</span>.<span class="cm-property">value</span> <span class="cm-operator">*</span>                                                                                                                                                <span class="cm-variable">record</span>.<span class="cm-property">discount</span></span>
                                                                                                                                                </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">record</span>.<span class="cm-property">discount_value</span> = <span class="cm-variable">discount</span></span></pre>
                                                                                                                                                <pre
                                                                                                                                                    class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">record</span>.
                                                                                                                                                    <span
                                                                                                                                                        class="cm-property">total</span> = <span class="cm-variable">record</span>.<span class="cm-property">value</span> <span class="cm-operator">-</span>                                                                                                                                                        <span class="cm-variable">discount</span></span>
                                                                                                                                                        </pre>
                                                                                                                        </div>
                                                                                                                        </div>
                                                                                                                        </div>
                                                                                                                        </div>
                                                                                                                        </div>
                                                                                                                        <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 240px;"></div>
                                                                                                                        <div class="CodeMirror-gutters" style="display: none; height: 240px;"></div>
                                                                                                                        </div>
                                                                                                                        </div>
                                                                                                                        </pre>
                                                                                                                        <p>&nbsp;</p>
                                                                                                                        <h3>
                                                                                                                            <a name='header-n133' class='md-header-anchor '></a>关联字段</h3>
                                                                                                                        <p>计算字段的特殊情况是<em>相关</em>（代理）字段，其提供当前记录上的子字段的值。它们是通过设置<code>related</code>参数来定义的，就像它们可以存储的常规计算字段一样：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded"
                                                                                                                            lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                                                                        <div
                                                                                                                            class="CodeMirror-measure"></div>
                                                                                                                            <div style="position: relative; z-index: 1;"></div>
                                                                                                                            <div class="CodeMirror-code" role="presentation">
                                                                                                                                <div class="CodeMirror-activeline" style="position: relative;">
                                                                                                                                    <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                                                                                    <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">nickname</span> = <span class="cm-variable">fields</span>.<span class="cm-property">Char</span>(<span class="cm-variable">related</span>=<span class="cm-string">'user_id.partner_id.name'</span>, <span class="cm-variable">store</span>=<span class="cm-keyword">True</span>)</span></pre></div>
                                                                                                                            </div>
                                                                                                                            </div>
                                                                                                                            </div>
                                                                                                                            </div>
                                                                                                                            </div>
                                                                                                                            <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 48px;"></div>
                                                                                                                            <div class="CodeMirror-gutters" style="display: none; height: 48px;"></div>
                                                                                                                            </div>
                                                                                                                            </div>
                                                                                                                            </pre>
                                                                                                                            <h3>
                                                                                                                                <a name='header-n136' class='md-header-anchor '></a>onchange：动态更新UI</h3>
                                                                                                                            <p>当用户更改表单中的字段值（但尚未保存表单）时，根据该值自动更新其他字段可能很有用，例如，当税收更改或新发票行更新时更新最终总计添加。</p>
                                                                                                                            <ul>
                                                                                                                                <li>计算字段会自动检查并重新计算，它们不需要 <code>onchange</code></li>
                                                                                                                                <li>对于非计算字段，<a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.api.onchange'><code>onchange()</code></a>装饰器用于提供新的字段值：</li>
                                                                                                                            </ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                                                                            <div
                                                                                                                                class="CodeMirror-measure"></div>
                                                                                                                                <div style="position: relative; z-index: 1;"></div>
                                                                                                                                <div class="CodeMirror-code" role="presentation">
                                                                                                                                    <div class="CodeMirror-activeline" style="position: relative;">
                                                                                                                                        <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                                                                                        <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@api</span>.<span class="cm-property">onchange</span>(<span class="cm-string">'field1'</span>, <span class="cm-string">'field2'</span>) <span class="cm-comment"># if these fields are changed, call method</span></span></pre></div>
                                                                                                                                    <pre
                                                                                                                                        class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">def</span> <span class="cm-def">check_change</span>(
                                                                                                                                        <span
                                                                                                                                            class="cm-variable-2">self</span>):</span>
                                                                                                                                            </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span> <span class="cm-variable-2">self</span>.<span class="cm-property">field1</span> <span class="cm-operator">&lt;</span> <span class="cm-variable-2">self</span>.<span class="cm-property">field2</span>:</span></pre>
                                                                                                                                            <pre
                                                                                                                                                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">self</span>.
                                                                                                                                                <span
                                                                                                                                                    class="cm-property">field3</span> = <span class="cm-keyword">True</span></span>
                                                                                                                                                    </pre>
                                                                                                                                </div>
                                                                                                                                </div>
                                                                                                                                </div>
                                                                                                                                </div>
                                                                                                                                </div>
                                                                                                                                <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 120px;"></div>
                                                                                                                                <div class="CodeMirror-gutters" style="display: none; height: 120px;"></div>
                                                                                                                                </div>
                                                                                                                                </div>
                                                                                                                                </pre>
                                                                                                                                <ul>
                                                                                                                                    <li>然后，在方法期间执行的更改将发送到客户端程序并对用户可见</li>
                                                                                                                                    <li>客户端自动调用计算字段和new-API onchanges，而无需在视图中添加它们</li>
                                                                                                                                    <li>可以通过<code>on_change=&quot;0&quot;</code>在视图中添加来禁止来自特定字段的触发器 ：</li>
                                                                                                                                </ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="xml"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                                                                                <div
                                                                                                                                    class="CodeMirror-measure"></div>
                                                                                                                                    <div style="position: relative; z-index: 1;"></div>
                                                                                                                                    <div class="CodeMirror-code" role="presentation">
                                                                                                                                        <div class="CodeMirror-activeline" style="position: relative;">
                                                                                                                                            <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                                                                                            <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">field</span> <span class="cm-attribute">name</span>=<span class="cm-string">"name"</span> <span class="cm-attribute">on_change</span>=<span class="cm-string">"0"</span><span class="cm-tag cm-bracket">/&gt;</span></span></pre></div>
                                                                                                                                    </div>
                                                                                                                                    </div>
                                                                                                                                    </div>
                                                                                                                                    </div>
                                                                                                                                    </div>
                                                                                                                                    <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 24px;"></div>
                                                                                                                                    <div class="CodeMirror-gutters" style="display: none; height: 24px;"></div>
                                                                                                                                    </div>
                                                                                                                                    </div>
                                                                                                                                    </pre>
                                                                                                                                    <p>当用户编辑字段时，即使有功能字段或显式onchange取决于该字段，也不会触发任何接口更新。 </p>
                                                                                                                                    <p><code>onchange</code> 方法对虚拟记录的工作分配这些记录不会写入数据库，只是用于知道要将哪个值发送回客户端</p>
                                                                                                                                    <p>警告 <code>one2many</code>或<code>many2many</code>field 不可能通过onchange修改自身。这是webclient限制 - 请参阅<a href='https://github.com/odoo/odoo/issues/2693'>＃2693</a></p>
                                                                                                                                    <h3>
                                                                                                                                        <a name='header-n155' class='md-header-anchor '></a>低级SQL</h3>
                                                                                                                                    <p>在<code>cr</code>上的环境属性是光标用于当前数据库事务，并允许直接执行的SQL，无论是对查询其难以用ORM来表达（例如复杂的连接），或者出于性能的原因：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded"
                                                                                                                                        lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                                                                                    <div
                                                                                                                                        class="CodeMirror-measure"></div>
                                                                                                                                        <div style="position: relative; z-index: 1;"></div>
                                                                                                                                        <div class="CodeMirror-code" role="presentation">
                                                                                                                                            <div class="CodeMirror-activeline" style="position: relative;">
                                                                                                                                                <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                                                                                                <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-2">self</span>.<span class="cm-property">env</span>.<span class="cm-property">cr</span>.<span class="cm-property">execute</span>(<span class="cm-string">"some_sql"</span>, <span class="cm-variable">param1</span>, <span class="cm-variable">param2</span>, <span class="cm-variable">param3</span>)</span></pre></div>
                                                                                                                                        </div>
                                                                                                                                        </div>
                                                                                                                                        </div>
                                                                                                                                        </div>
                                                                                                                                        </div>
                                                                                                                                        <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 24px;"></div>
                                                                                                                                        <div class="CodeMirror-gutters" style="display: none; height: 24px;"></div>
                                                                                                                                        </div>
                                                                                                                                        </div>
                                                                                                                                        </pre>
                                                                                                                                        <p>由于模型使用相同的游标并<code>Environment</code> 保存各种缓存，因此在原始SQL中<em>更改</em>数据库时，这些缓存必须无效，否则模型的进一步使用可能会变得不连贯。在使用时<code>CREATE</code>，<code>UPDATE</code>或<code>DELETE</code>在SQL中，有必要清除缓存，而不是<code>SELECT</code>（只是读取数据库）。</p>
                                                                                                                                        <p>可以使用对象的<code>invalidate_cache()</code>方法 来执行清除高速缓存 <code>BaseModel</code>。</p>
                                                                                                                                        <p>&nbsp;</p>
                                                                                                                                        <h3>
                                                                                                                                            <a name='header-n161' class='md-header-anchor '></a>CRUD</h3>
                                                                                                                                        <h6>
                                                                                                                                            <a name='header-n162' class='md-header-anchor '></a><code>create(vals_list) → records</code></h6>
                                                                                                                                        <p>为模型创建新记录。</p>
                                                                                                                                        <p>新记录使用dicts列表中的值进行初始化 <code>vals_list</code>，如果需要，可以使用<a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.models.Model.default_get'><code>default_get()</code></a>。</p>
                                                                                                                                        <p>参数</p>
                                                                                                                                        <p><span>	</span>vals_list（<code>list</code>） -</p>
                                                                                                                                        <p>模型字段的值，作为字典列表：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                                                                                        <div
                                                                                                                                            class="CodeMirror-measure"></div>
                                                                                                                                            <div style="position: relative; z-index: 1;"></div>
                                                                                                                                            <div class="CodeMirror-code" role="presentation">
                                                                                                                                                <div class="CodeMirror-activeline" style="position: relative;">
                                                                                                                                                    <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                                                                                                    <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[{ 'field_name' ： field_value ， ... }， ... ]</span></pre></div>
                                                                                                                                            </div>
                                                                                                                                            </div>
                                                                                                                                            </div>
                                                                                                                                            </div>
                                                                                                                                            </div>
                                                                                                                                            <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 24px;"></div>
                                                                                                                                            <div class="CodeMirror-gutters" style="display: none; height: 24px;"></div>
                                                                                                                                            </div>
                                                                                                                                            </div>
                                                                                                                                            </pre>
                                                                                                                                            <p>为了向后兼容，<code>vals_list</code>可能是字典。它被视为单例列表<code>[vals]</code>，并返回单个记录。</p>
                                                                                                                                            <p>看<a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.models.Model.write'><code>write()</code></a>详情</p>
                                                                                                                                            <p>返回</p>
                                                                                                                                            <p>创建的记录</p>
                                                                                                                                            <p>加薪</p>
                                                                                                                                            <ul>
                                                                                                                                                <li>
                                                                                                                                                    <p><strong>AccessError</strong></p>
                                                                                                                                                    <p>-</p>
                                                                                                                                                    <ul>
                                                                                                                                                        <li>如果用户对请求的对象没有创建权限</li>
                                                                                                                                                        <li>如果用户尝试绕过请求对象上的create的访问规则</li>
                                                                                                                                                    </ul>
                                                                                                                                                </li>
                                                                                                                                                <li>
                                                                                                                                                    <p><strong>ValidateError</strong> - 如果用户尝试为不在选择中的字段输入无效值</p>
                                                                                                                                                </li>
                                                                                                                                                <li>
                                                                                                                                                    <p><a href='https://www.odoo.com/documentation/12.0/webservices/iap.html#odoo.exceptions.UserError'><strong>UserError</strong></a>                                                                                                                                                        - 如果在对象层次结构中创建循环操作的结果（例如将对象设置为其自己的父对象）</p>
                                                                                                                                                </li>
                                                                                                                                            </ul>
                                                                                                                                            <h6>
                                                                                                                                                <a name='header-n187' class='md-header-anchor '></a><code>browse([*ids*]) → records</code></h6>
                                                                                                                                            <p>返回当前环境中作为参数提供的ID的记录集。</p>
                                                                                                                                            <p>不能使用任何ID，单个ID或一系列ID。</p>
                                                                                                                                            <h6>
                                                                                                                                                <a name='header-n190' class='md-header-anchor '></a><code>unlink()</code></h6>
                                                                                                                                            <p>删除当前集的记录</p>
                                                                                                                                            <p>加薪</p>
                                                                                                                                            <ul>
                                                                                                                                                <li>
                                                                                                                                                    <p><strong>AccessError</strong></p>
                                                                                                                                                    <p>-</p>
                                                                                                                                                    <ul>
                                                                                                                                                        <li>如果用户对请求的对象没有取消链接权限</li>
                                                                                                                                                        <li>如果用户试图绕过请求对象上取消链接的访问规则</li>
                                                                                                                                                    </ul>
                                                                                                                                                </li>
                                                                                                                                                <li>
                                                                                                                                                    <p><a href='https://www.odoo.com/documentation/12.0/webservices/iap.html#odoo.exceptions.UserError'><strong>UserError</strong></a>                                                                                                                                                        - 如果记录是其他记录的默认属性</p>
                                                                                                                                                </li>
                                                                                                                                            </ul>
                                                                                                                                            <h6>
                                                                                                                                                <a name='header-n204' class='md-header-anchor '></a><code>write(*vals*)</code></h6>
                                                                                                                                            <p>使用提供的值更新当前集中的所有记录。</p>
                                                                                                                                            <p>参数</p>
                                                                                                                                            <p>vals</p>
                                                                                                                                            <p>（</p>
                                                                                                                                            <p><code>dict</code></p>
                                                                                                                                            <p>） -</p>
                                                                                                                                            <p>要更新的字段和要在其上设置的值，例如：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                                                                                            <div
                                                                                                                                                class="CodeMirror-measure"></div>
                                                                                                                                                <div style="position: relative; z-index: 1;"></div>
                                                                                                                                                <div class="CodeMirror-code" role="presentation">
                                                                                                                                                    <div class="CodeMirror-activeline" style="position: relative;">
                                                                                                                                                        <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                                                                                                        <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{ 'foo' ： 1 ， 'bar' ： “Qux” }</span></pre></div>
                                                                                                                                                </div>
                                                                                                                                                </div>
                                                                                                                                                </div>
                                                                                                                                                </div>
                                                                                                                                                </div>
                                                                                                                                                <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 24px;"></div>
                                                                                                                                                <div class="CodeMirror-gutters" style="display: none; height: 24px;"></div>
                                                                                                                                                </div>
                                                                                                                                                </div>
                                                                                                                                                </pre>
                                                                                                                                                <p>将字段设置<code>foo</code>为<code>1</code>和字段<code>bar</code>为 <code>&quot;Qux&quot;</code>if如果它们是有效的（否则它将触发错误）。</p>
                                                                                                                                                <p>加薪</p>
                                                                                                                                                <ul>
                                                                                                                                                    <li>
                                                                                                                                                        <p><strong>AccessError</strong></p>
                                                                                                                                                        <p>-</p>
                                                                                                                                                        <ul>
                                                                                                                                                            <li>如果用户对请求的对象没有写权限</li>
                                                                                                                                                            <li>如果用户试图绕过访问规则以写入所请求的对象</li>
                                                                                                                                                        </ul>
                                                                                                                                                    </li>
                                                                                                                                                    <li>
                                                                                                                                                        <p><strong>ValidateError</strong> - 如果用户尝试为不在选择中的字段输入无效值</p>
                                                                                                                                                    </li>
                                                                                                                                                    <li>
                                                                                                                                                        <p><a href='https://www.odoo.com/documentation/12.0/webservices/iap.html#odoo.exceptions.UserError'><strong>UserError</strong></a>                                                                                                                                                            - 如果在对象层次结构中创建循环操作的结果（例如将对象设置为其自己的父对象）</p>
                                                                                                                                                    </li>
                                                                                                                                                    <li>
                                                                                                                                                        <p>对于数字字段（<a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.fields.Integer'><code>Integer</code></a>，
                                                                                                                                                            <a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.fields.Float'><code>Float</code></a>），值应为相应的类型</p>
                                                                                                                                                    </li>
                                                                                                                                                    <li>
                                                                                                                                                        <p>因为<a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.fields.Boolean'><code>Boolean</code></a>，值应为a
                                                                                                                                                            <a href='https://docs.python.org/3/library/functions.html#bool'><code>bool</code></a></p>
                                                                                                                                                    </li>
                                                                                                                                                    <li>
                                                                                                                                                        <p>对于<a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.fields.Selection'><code>Selection</code></a>，值应与选择值匹配（通常
                                                                                                                                                            <a
                                                                                                                                                                href='https://docs.python.org/3/library/stdtypes.html#str'><code>str</code></a>，有时 <a href='https://docs.python.org/3/library/functions.html#int'><code>int</code></a>）</p>
                                                                                                                                                    </li>
                                                                                                                                                    <li>
                                                                                                                                                        <p>对于<a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.fields.Many2one'><code>Many2one</code></a>，该值应该是要设置的记录的数据库标识符</p>
                                                                                                                                                    </li>
                                                                                                                                                    <li>
                                                                                                                                                        <p>其他非关系字段使用字符串作为值</p>
                                                                                                                                                    </li>
                                                                                                                                                    <li>
                                                                                                                                                        <p>历史和兼容性的原因， <a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.fields.Date'><code>Date</code></a>和
                                                                                                                                                            <a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.fields.Datetime'><code>Datetime</code></a>字段使用字符串作为值（写入和读出），而不是
                                                                                                                                                            <a
                                                                                                                                                                href='https://docs.python.org/3/library/datetime.html#datetime.date'><code>date</code></a>或 <a href='https://docs.python.org/3/library/datetime.html#datetime.datetime'><code>datetime</code></a>。这些日期字符串是UTC，仅其格式<code>odoo.tools.misc.DEFAULT_SERVER_DATE_FORMAT</code>和<code>odoo.tools.misc.DEFAULT_SERVER_DATETIME_FORMAT</code></p>
                                                                                                                                                    </li>
                                                                                                                                                    <li>
                                                                                                                                                        <p><a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.fields.One2many'><code>One2many</code></a>并
                                                                                                                                                            <a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.fields.Many2many'><code>Many2many</code></a>使用特殊的“命令”格式来操作存储在字段中/与字段相关联的记录集。</p>
                                                                                                                                                        <p>此格式是按顺序执行的三元组列表，其中每个三元组是在记录集上执行的命令。并非所有命令都适用于所有情况。可能的命令是：</p>
                                                                                                                                                        <ul>
                                                                                                                                                            <li>
                                                                                                                                                                <p><code>(0, _, values)</code></p>
                                                                                                                                                                <p>添加从提供的<code>value</code>词典创建的新记录。</p>
                                                                                                                                                            </li>
                                                                                                                                                            <li>
                                                                                                                                                                <p><code>(1, id, values)</code></p>
                                                                                                                                                                <p><code>id</code>使用中的值 更新现有id的记录<code>values</code>。不能用于<a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.models.Model.create'><code>create()</code></a>。</p>
                                                                                                                                                            </li>
                                                                                                                                                            <li>
                                                                                                                                                                <p><code>(2, id, _)</code></p>
                                                                                                                                                                <p><code>id</code>从集合中删除id的记录，然后删除它（从数据库中）。不能用于<a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.models.Model.create'><code>create()</code></a>。</p>
                                                                                                                                                            </li>
                                                                                                                                                            <li>
                                                                                                                                                                <p><code>(3, id, _)</code></p>
                                                                                                                                                                <p><code>id</code>从集合中删除id的记录，但不删除它。不能用 <a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.fields.One2many'><code>One2many</code></a>。不能用于
                                                                                                                                                                    <a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.models.Model.create'><code>create()</code></a>。</p>
                                                                                                                                                            </li>
                                                                                                                                                            <li>
                                                                                                                                                                <p><code>(4, id, _)</code></p>
                                                                                                                                                                <p>将id的现有记录添加<code>id</code>到集合中。不能用<a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.fields.One2many'><code>One2many</code></a>。</p>
                                                                                                                                                            </li>
                                                                                                                                                            <li>
                                                                                                                                                                <p><code>(5, _, _)</code></p>
                                                                                                                                                                <p>从集合中删除所有记录，相当于<code>3</code>明确地在每条记录上使用该命令。不能用<a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.fields.One2many'><code>One2many</code></a>。不能用于
                                                                                                                                                                    <a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.models.Model.create'><code>create()</code></a>。</p>
                                                                                                                                                            </li>
                                                                                                                                                            <li>
                                                                                                                                                                <p><code>(6, _, ids)</code></p>
                                                                                                                                                                <p>替换由集合中的所有现有的记录<code>ids</code>列表，等同于使用该命令<code>5</code>，然后命令 <code>4</code>每个<code>id</code>中<code>ids</code>。</p>
                                                                                                                                                            </li>
                                                                                                                                                        </ul>
                                                                                                                                                        <p>标记为<code>_</code>上面列表中的值将被忽略，并且可以是任何内容，通常<code>0</code>或<code>False</code>。</p>
                                                                                                                                                    </li>
                                                                                                                                                </ul>
                                                                                                                                                <h6>
                                                                                                                                                    <a name='header-n266' class='md-header-anchor '></a><code>read([*fields*])</code></h6>
                                                                                                                                                <p>在<code>self</code>低级/ RPC方法中读取记录的请求字段。在Python代码中，首选<a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.models.Model.browse'><code>browse()</code></a>。</p>
                                                                                                                                                <p>参数</p>
                                                                                                                                                <p><strong>fields</strong> - 要返回的字段名称列表（默认为所有字段）</p>
                                                                                                                                                <p>返回</p>
                                                                                                                                                <p>将字段名称映射到其值的字典列表，每个记录使用一个字典</p>
                                                                                                                                                <p>加薪</p>
                                                                                                                                                <p><a href='https://www.odoo.com/documentation/12.0/webservices/iap.html#odoo.exceptions.AccessError'><strong>AccessError</strong></a>                                                                                                                                                    - 如果用户对某些给定记录没有读取权限</p>
                                                                                                                                                <h6>
                                                                                                                                                    <a name='header-n274' class='md-header-anchor '></a><code>read_group(*domain*, *fields*, *groupby*, *offset=0*, *limit=None*, *orderby=False*, *lazy=True*)</code></h6>
                                                                                                                                                <p>获取按给定<code>groupby</code>字段分组的列表视图中的记录列表</p>
                                                                                                                                                <p>参数</p>
                                                                                                                                                <ul>
                                                                                                                                                    <li><strong>domain</strong> - 列出指定搜索条件的列表[[&#39;field_name&#39;，&#39;operator&#39;，&#39;value&#39;]，...]</li>
                                                                                                                                                    <li><strong>fields</strong>（<a href='https://docs.python.org/3/library/stdtypes.html#list'><code>list</code></a>）
                                                                                                                                                        - 在对象上指定的列表视图中存在的字段列表。每个元素都是&#39;field&#39;（字段名称，使用默认聚合）或&#39;field：agg&#39;（聚合字段聚合函数&#39;agg&#39;）或&#39;name：agg（field）&#39;（聚合字段带&#39;agg&#39;）并将其作为“名称”返回）。可能的聚合函数是PostgreSQL（
                                                                                                                                                        <a
                                                                                                                                                            href='https://www.postgresql.org/docs/current/static/functions-aggregate.html' target='_blank' class='url'>https://www.postgresql.org/docs/current/static/functions-aggregate.html</a>）和&#39;count_distinct&#39;提供的函数，具有预期的含义。</li>
                                                                                                                                                    <li><strong>groupby</strong>（<a href='https://docs.python.org/3/library/stdtypes.html#list'><code>list</code></a>）
                                                                                                                                                        - 将记录分组的groupby描述列表。groupby描述是字段（然后它将按该字段分组）或字符串&#39;field：groupby_function&#39;。目前，支持的唯一功能是“日”，“周”，“月”，“季度”或“年”，它们只适用于日期/日期时间字段。</li>
                                                                                                                                                    <li><strong>offset</strong>（<a href='https://docs.python.org/3/library/functions.html#int'><code>int</code></a>）
                                                                                                                                                        - 要跳过的可选记录数</li>
                                                                                                                                                    <li><strong>limit</strong>（<a href='https://docs.python.org/3/library/functions.html#int'><code>int</code></a>）
                                                                                                                                                        - 可选的最大返回记录数</li>
                                                                                                                                                    <li><strong>orderby</strong>（<a href='https://docs.python.org/3/library/stdtypes.html#list'><code>list</code></a>）
                                                                                                                                                        - 可选<code>order by</code>规范，用于覆盖组的自然排序顺序，另请参阅<code>search()</code> （仅支持当前的多个字段）</li>
                                                                                                                                                    <li><strong>lazy</strong>（<a href='https://docs.python.org/3/library/functions.html#bool'><code>bool</code></a>）
                                                                                                                                                        - 如果为true，则结果仅按第一个groupby分组，其余的groupbys放在__context键中。如果为false，则所有groupbys都在一次调用中完成。</li>
                                                                                                                                                </ul>
                                                                                                                                                <p>返回</p>
                                                                                                                                                <p>字典列表（每个记录一个字典）包含：</p>
                                                                                                                                                <ul>
                                                                                                                                                    <li>按<code>groupby</code>参数中的字段分组的字段值</li>
                                                                                                                                                    <li>__domain：指定搜索条件的元组列表</li>
                                                                                                                                                    <li>__context：带参数的字典 <code>groupby</code></li>
                                                                                                                                                </ul>
                                                                                                                                                <p>返回类型</p>
                                                                                                                                                <p>[{&#39;field_name_1&#39;：值，..]</p>
                                                                                                                                                <p>加薪</p>
                                                                                                                                                <p><strong>AccessError</strong></p>
                                                                                                                                                <p> -</p>
                                                                                                                                                <ul>
                                                                                                                                                    <li>如果用户对请求的对象没有读取权限</li>
                                                                                                                                                    <li>如果用户试图绕过访问规则以读取请求的对象</li>
                                                                                                                                                </ul>
                                                                                                                                                <h3>
                                                                                                                                                    <a name='header-n311' class='md-header-anchor '></a>搜索</h3>
                                                                                                                                                <h6>
                                                                                                                                                    <a name='header-n312' class='md-header-anchor '></a><code>search(*args[, offset=0][, limit=None][, order=None][, count=False]*)</code></h6>
                                                                                                                                                <p>根据<code>args</code> <a href='https://www.odoo.com/documentation/12.0/reference/orm.html#reference-orm-domains'>搜索域</a>搜索记录。</p>
                                                                                                                                                <p>参数</p>
                                                                                                                                                <ul>
                                                                                                                                                    <li><strong>args</strong> - <a href='https://www.odoo.com/documentation/12.0/reference/orm.html#reference-orm-domains'>搜索域</a>。使用空列表匹配所有记录。</li>
                                                                                                                                                    <li><strong>offset</strong>（<a href='https://docs.python.org/3/library/functions.html#int'><code>int</code></a>）
                                                                                                                                                        - 要忽略的结果数（默认值：无）</li>
                                                                                                                                                    <li><strong>limit</strong>（<a href='https://docs.python.org/3/library/functions.html#int'><code>int</code></a>）
                                                                                                                                                        - 要返回的最大记录数（默认值：全部）</li>
                                                                                                                                                    <li><strong>order</strong>（<a href='https://docs.python.org/3/library/stdtypes.html#str'><code>str</code></a>）
                                                                                                                                                        - 排序字符串</li>
                                                                                                                                                    <li><strong>count</strong>（<a href='https://docs.python.org/3/library/functions.html#bool'><code>bool</code></a>）
                                                                                                                                                        - 如果为True，则只计算并返回匹配记录的数量（默认值：False）</li>
                                                                                                                                                </ul>
                                                                                                                                                <p>返回</p>
                                                                                                                                                <p>最多<code>limit</code>匹配搜索条件的记录</p>
                                                                                                                                                <p>加薪</p>
                                                                                                                                                <p><strong>AccessError</strong></p>
                                                                                                                                                <p> -</p>
                                                                                                                                                <ul>
                                                                                                                                                    <li>如果用户试图绕过访问规则以读取请求的对象。</li>
                                                                                                                                                </ul>
                                                                                                                                                <h6>
                                                                                                                                                    <a name='header-n334' class='md-header-anchor '></a><code>search_count(*args*) → int</code></h6>
                                                                                                                                                <p>返回与<a href='https://www.odoo.com/documentation/12.0/reference/orm.html#reference-orm-domains'>提供的域</a>匹配
                                                                                                                                                    <a
                                                                                                                                                        href='https://www.odoo.com/documentation/12.0/reference/orm.html#reference-orm-domains'>的</a>当前模型中的记录数。</p>
                                                                                                                                                <h6>
                                                                                                                                                    <a name='header-n336' class='md-header-anchor '></a><code>name_search(*name=&#39;&#39;*, *args=None*, *operator=&#39;ilike&#39;*, *limit=100*) → records</code></h6>
                                                                                                                                                <p>搜索与给定<code>name</code>模式相比具有与给定模式匹配的显示名称的记录 <code>operator</code>，同时还匹配可选搜索域（<code>args</code>）。</p>
                                                                                                                                                <p>这用于例如基于关系字段的部分值来提供建议。有时被视为反函数<a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.models.Model.name_get'><code>name_get()</code></a>，但不能保证。</p>
                                                                                                                                                <p>此方法相当于<a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.models.Model.search'><code>search()</code></a>使用基于搜索结果的搜索域进行调用，<code>display_name</code>然后
                                                                                                                                                    <a
                                                                                                                                                        href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.models.Model.name_get'><code>name_get()</code></a>搜索结果。</p>
                                                                                                                                                <p>参数</p>
                                                                                                                                                <ul>
                                                                                                                                                    <li><strong>name</strong>（<a href='https://docs.python.org/3/library/stdtypes.html#str'><code>str</code></a>）
                                                                                                                                                        - 要匹配的名称模式</li>
                                                                                                                                                    <li><strong>args</strong>（<a href='https://docs.python.org/3/library/stdtypes.html#list'><code>list</code></a>）
                                                                                                                                                        - 可选的搜索域（参见<a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.models.Model.search'><code>search()</code></a>语法），指定进一步的限制</li>
                                                                                                                                                    <li><strong>operator</strong>（<a href='https://docs.python.org/3/library/stdtypes.html#str'><code>str</code></a>）
                                                                                                                                                        - 用于匹配的域运算符<code>name</code>，例如 <code>&#39;like&#39;</code>或<code>&#39;=&#39;</code>。</li>
                                                                                                                                                    <li><strong>limit</strong>（<a href='https://docs.python.org/3/library/functions.html#int'><code>int</code></a>）
                                                                                                                                                        - 可选的最大返回记录数</li>
                                                                                                                                                </ul>
                                                                                                                                                <p>返回类型</p>
                                                                                                                                                <p><a href='https://docs.python.org/3/library/stdtypes.html#list'>名单</a></p>
                                                                                                                                                <p>返回</p>
                                                                                                                                                <p><code>(id, text_repr)</code>所有匹配记录的对列表。</p>
                                                                                                                                                <h3>
                                                                                                                                                    <a name='header-n354' class='md-header-anchor '></a>记录集操作</h3>
                                                                                                                                                <h6>
                                                                                                                                                    <a name='header-n355' class='md-header-anchor '></a><code>ids</code></h6>
                                                                                                                                                <p>此记录集中的实际记录ID列表（忽略要创建的记录的占位符ID）</p>
                                                                                                                                                <h6>
                                                                                                                                                    <a name='header-n357' class='md-header-anchor '></a><code>ensure_one()</code></h6>
                                                                                                                                                <p>验证当前的recorset是否包含单个记录。否则会引发异常。</p>
                                                                                                                                                <h6>
                                                                                                                                                    <a name='header-n359' class='md-header-anchor '></a><code>exists() → records</code></h6>
                                                                                                                                                <p>返回<code>self</code>存在的记录子集，并在缓存中标记已删除的记录。它可以用作记录的测试：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded"
                                                                                                                                                    lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                                                                                                <div
                                                                                                                                                    class="CodeMirror-measure"></div>
                                                                                                                                                    <div style="position: relative; z-index: 1;"></div>
                                                                                                                                                    <div class="CodeMirror-code" role="presentation">
                                                                                                                                                        <div class="CodeMirror-activeline" style="position: relative;">
                                                                                                                                                            <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                                                                                                            <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">如果 记录。exists （）：</span></pre></div>
                                                                                                                                                        <pre
                                                                                                                                                            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  ...</span></pre>
                                                                                                                                                    </div>
                                                                                                                                                    </div>
                                                                                                                                                    </div>
                                                                                                                                                    </div>
                                                                                                                                                    </div>
                                                                                                                                                    <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 48px;"></div>
                                                                                                                                                    <div class="CodeMirror-gutters" style="display: none; height: 48px;"></div>
                                                                                                                                                    </div>
                                                                                                                                                    </div>
                                                                                                                                                    </pre>
                                                                                                                                                    <p>按照惯例，新记录将作为现有记录返回。</p>
                                                                                                                                                    <h6>
                                                                                                                                                        <a name='header-n363' class='md-header-anchor '></a><code>filtered(*func*)</code></h6>
                                                                                                                                                    <p>在选择的记录<code>self</code>，从而<code>func(rec)</code>为真，并返回它们作为一个记录。</p>
                                                                                                                                                    <p>参数</p>
                                                                                                                                                    <p><strong>func</strong> - 字段名称的函数或点分隔序列</p>
                                                                                                                                                    <h6>
                                                                                                                                                        <a name='header-n367' class='md-header-anchor '></a><code>sorted(*key=None*, *reverse=False*)</code></h6>
                                                                                                                                                    <p>返回<code>self</code>订购的记录集<code>key</code>。</p>
                                                                                                                                                    <p>参数</p>
                                                                                                                                                    <ul>
                                                                                                                                                        <li><strong>key</strong> - 返回每个记录的比较键的一个参数的函数，或字段名称，或者<code>None</code>，在这种情况下，记录按照默认模型的顺序排序</li>
                                                                                                                                                        <li><strong>反向</strong> - 如果<code>True</code>，以相反的顺序返回结果</li>
                                                                                                                                                    </ul>
                                                                                                                                                    <h6>
                                                                                                                                                        <a name='header-n375' class='md-header-anchor '></a><code>mapped(*func*)</code></h6>
                                                                                                                                                    <p>应用于<code>func</code>所有记录<code>self</code>，并将结果作为列表或记录集（如果<code>func</code>返回记录集）返回。在后一种情况下，返回的记录集的顺序是任意的。</p>
                                                                                                                                                    <p>参数</p>
                                                                                                                                                    <p><strong>func</strong> - 一个函数或以点分隔的字段名称序列（字符串）; 任何falsy值只返回记录集<code>self</code></p>
                                                                                                                                                    <h3>
                                                                                                                                                        <a name='header-n379' class='md-header-anchor '></a>环境交换</h3>
                                                                                                                                                    <h6>
                                                                                                                                                        <a name='header-n380' class='md-header-anchor '></a><code>sudo([*user=SUPERUSER*])</code></h6>
                                                                                                                                                    <p>返回附加到提供的用户的此记录集的新版本。</p>
                                                                                                                                                    <p>默认情况下，它返回一个<code>SUPERUSER</code>记录集，其中绕过访问控制和记录规则。</p>
                                                                                                                                                    <p>使用<code>sudo</code>可能导致数据访问跨越记录规则的边界，可能混合要隔离的记录（例如，来自多公司环境中的不同公司的记录）。</p>
                                                                                                                                                    <p>这可能会导致在多种方法中选择一条记录的方法产生不直观的结果 - 例如获取默认公司或选择物料清单。</p>
                                                                                                                                                    <p>由于必须重新评估记录规则和访问控制，因此新记录集不会从当前环境的数据高速缓存中受益，因此以后的数据访问可能会在从数据库重新获取时产生额外的延迟。返回的记录集具有与之相同的预取对象<code>self</code>。</p>
                                                                                                                                                    <h6>
                                                                                                                                                        <a name='header-n386' class='md-header-anchor '></a><code>with_context(*[context][, \**overrides]*) → records</code></h6>
                                                                                                                                                    <p>返回附加到扩展上下文的此记录集的新版本。</p>
                                                                                                                                                    <p>扩展上下文要么是合并提供的<code>context</code>， 要么<code>overrides</code>合并<em>当前</em>上下文， <code>overrides</code>例如：</p>
                                                                                                                                                    <pre
                                                                                                                                                        spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="">
                                                                                                                                                        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
                                                                                                                                                            <div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
                                                                                                                                                            <div
                                                                                                                                                                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
                                                                                                                                                        <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
                                                                                                                                                        <div class="CodeMirror-scroll" tabindex="-1">
                                                                                                                                                            <div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;">
                                                                                                                                                                <div style="position: relative; top: 0px;">
                                                                                                                                                                    <div class="CodeMirror-lines" role="presentation">
                                                                                                                                                                        <div role="presentation" style="position: relative; outline: none;">
                                                                                                                                                                            <div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                                                                                                                            <div class="CodeMirror-measure"></div>
                                                                                                                                                                            <div style="position: relative; z-index: 1;"></div>
                                                                                                                                                                            <div class="CodeMirror-code" role="presentation" style="">
                                                                                                                                                                                <div class="CodeMirror-activeline" style="position: relative;">
                                                                                                                                                                                    <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                                                                                                                                    <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter"
                                                                                                                                                                                        style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">#current context is {'key1'：True} </span></pre></div>
                                                                                                                                                                                <pre
                                                                                                                                                                                    class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">r2  =  records 。with_context （{}， key2 = True ）</span></pre>
                                                                                                                                                                                    <pre
                                                                                                                                                                                        class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">＃ - &gt; r2._context是{'key2'：True} </span></pre>
                                                                                                                                                                                        <pre
                                                                                                                                                                                            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">r2  =  记录。with_context （key2 = True ）</span></pre>
                                                                                                                                                                                            <pre
                                                                                                                                                                                                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">＃ - &gt; r2._context是{'key1'：True，'key2'：True}</span></pre>
                                                                                                                                                                            </div>
                                                                                                                                                                        </div>
                                                                                                                                                                    </div>
                                                                                                                                                                </div>
                                                                                                                                                            </div>
                                                                                                                                                            <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 120px;"></div>
                                                                                                                                                            <div class="CodeMirror-gutters" style="display: none; height: 120px;"></div>
                                                                                                                                                        </div>
                                                                                                                                                        </div>
                                                                                                                                                        </pre>
                                                                                                                                                        <h6>
                                                                                                                                                            <a name='header-n390' class='md-header-anchor '></a><code>with_env(*env*)</code></h6>
                                                                                                                                                        <p>返回附加到提供的环境的此记录集的新版本</p>
                                                                                                                                                        <h3>
                                                                                                                                                            <a name='header-n392' class='md-header-anchor '></a>警告</h3>
                                                                                                                                                        <p>新环境不会受益于当前环境的数据缓存，因此以后的数据访问可能会在从数据库重新获取时产生额外的延迟。返回的记录集具有与之相同的预取对象<code>self</code>。</p>
                                                                                                                                                        <h3>
                                                                                                                                                            <a name='header-n394' class='md-header-anchor '></a>字段和视图查询</h3>
                                                                                                                                                        <h6>
                                                                                                                                                            <a name='header-n395' class='md-header-anchor '></a><code>fields_get(*[fields][, attributes]*)</code></h6>
                                                                                                                                                        <p>返回每个字段的定义。</p>
                                                                                                                                                        <p>返回的值是字典的字典（由字段名称指示）。_inherits&#39;d字段包括在内。字符串，帮助和选择（如果存在）属性已翻译。</p>
                                                                                                                                                        <p>参数</p>
                                                                                                                                                        <ul>
                                                                                                                                                            <li><strong>allfields</strong> - 要记录的字段列表，全部为空或未提供</li>
                                                                                                                                                            <li><strong>attributes</strong> - 要为每个字段返回的描述属性列表，如果为空或未提供则全部</li>
                                                                                                                                                        </ul>
                                                                                                                                                        <h6>
                                                                                                                                                            <a name='header-n404' class='md-header-anchor '></a><code>fields_view_get([*view_id | view_type=&#39;form&#39;*])</code></h6>
                                                                                                                                                        <p>获取所请求视图的详细组成，如字段，模型，视图体系结构</p>
                                                                                                                                                        <p>参数</p>
                                                                                                                                                        <ul>
                                                                                                                                                            <li><strong>view_id</strong> - 视图的id或None</li>
                                                                                                                                                            <li><strong>view_type</strong> - 如果view_id为None（&#39;form&#39;，&#39;tree&#39;，...）则返回的视图的类型</li>
                                                                                                                                                            <li><strong>toolbar</strong> - 如果包含上下文操作，则为true</li>
                                                                                                                                                            <li><strong>子菜单</strong> - 已弃用</li>
                                                                                                                                                        </ul>
                                                                                                                                                        <p>返回</p>
                                                                                                                                                        <p>描述所请求视图组成的字典（包括继承的视图和扩展）</p>
                                                                                                                                                        <p>加薪</p>
                                                                                                                                                        <ul>
                                                                                                                                                            <li>
                                                                                                                                                                <p><strong>AttributeError</strong></p>
                                                                                                                                                                <p>-</p>
                                                                                                                                                                <ul>
                                                                                                                                                                    <li>如果继承的视图具有未知的位置，可以使用“之前”，“之后”，“内部”，“替换”以外的其他视图</li>
                                                                                                                                                                    <li>如果在父视图中找到“position”以外的某些标记</li>
                                                                                                                                                                </ul>
                                                                                                                                                            </li>
                                                                                                                                                            <li>
                                                                                                                                                                <p><strong>无效的ArchitectureError</strong> - 如果在结构上定义了除窗体，树，日历，搜索等之外的视图类型</p>
                                                                                                                                                            </li>
                                                                                                                                                        </ul>
                                                                                                                                                        <h3>
                                                                                                                                                            <a name='header-n430' class='md-header-anchor '></a>杂项方法</h3>
                                                                                                                                                        <h6>
                                                                                                                                                            <a name='header-n431' class='md-header-anchor '></a><code>default_get(*fields*) → default_values</code></h6>
                                                                                                                                                        <p>返回字段中的默认值<code>fields_list</code>。默认值由上下文，用户默认值和模型本身确定。</p>
                                                                                                                                                        <p>参数</p>
                                                                                                                                                        <p><strong>fields_list</strong> - 字段名称列表</p>
                                                                                                                                                        <p>返回</p>
                                                                                                                                                        <p>将每个字段名称映射到其对应的默认值的字典（如果有的话）。</p>
                                                                                                                                                        <h6>
                                                                                                                                                            <a name='header-n437' class='md-header-anchor '></a><code>copy(*default=None*)</code></h6>
                                                                                                                                                        <p>重复记录<code>self</code>使用默认值更新它</p>
                                                                                                                                                        <p>参数</p>
                                                                                                                                                        <p><strong>default</strong>（<a href='https://docs.python.org/3/library/stdtypes.html#dict'><code>dict</code></a>）
                                                                                                                                                            - 要在复制记录的原始值中覆盖的字段值字典，例如：<code>{&#39;field_name&#39;: overridden_value, ...}</code></p>
                                                                                                                                                        <p>返回</p>
                                                                                                                                                        <p>新纪录</p>
                                                                                                                                                        <h6>
                                                                                                                                                            <a name='header-n443' class='md-header-anchor '></a><code>name_get() → [(id, name), ...]</code></h6>
                                                                                                                                                        <p>返回记录中的文本表示<code>self</code>。默认情况下，这是<code>display_name</code>字段的值。</p>
                                                                                                                                                        <p>返回</p>
                                                                                                                                                        <p><code>(id, text_repr)</code>每条记录的对列表</p>
                                                                                                                                                        <p>返回类型</p>
                                                                                                                                                        <p><a href='https://docs.python.org/3/library/stdtypes.html#list'>列表</a>（<a href='https://docs.python.org/3/library/stdtypes.html#tuple'>元组</a>）</p>
                                                                                                                                                        <h6>
                                                                                                                                                            <a name='header-n449' class='md-header-anchor '></a><code>name_create(*name*) → record</code></h6>
                                                                                                                                                        <p>通过<a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.models.Model.create'><code>create()</code></a>仅提供一个值来调用创建新记录：新记录的显示名称。</p>
                                                                                                                                                        <p>新记录将使用适用于此模型的任何默认值进行初始化，或通过上下文提供。通常的行为<a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.models.Model.create'><code>create()</code></a>适用。</p>
                                                                                                                                                        <p>参数</p>
                                                                                                                                                        <p><strong>name</strong> - 要创建的记录的显示名称</p>
                                                                                                                                                        <p>返回类型</p>
                                                                                                                                                        <p><a href='https://docs.python.org/3/library/stdtypes.html#tuple'>元组</a></p>
                                                                                                                                                        <p>返回</p>
                                                                                                                                                        <p><a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.models.Model.name_get'><code>name_get()</code></a>创建记录的对值</p>
                                                                                                                                                        <p>&nbsp;</p>
                                                                                                                                                        <h3>
                                                                                                                                                            <a name='header-n459' class='md-header-anchor '></a>自动字段</h3>
                                                                                                                                                        <h6>
                                                                                                                                                            <a name='header-n460' class='md-header-anchor '></a><code>id</code> <span>	</span></h6>
                                                                                                                                                        <p><span>	</span>识别field</p>
                                                                                                                                                        <h6>
                                                                                                                                                            <a name='header-n462' class='md-header-anchor '></a><code>_log_access</code></h6>
                                                                                                                                                        <p><span>	</span>无论日志的访问域（<code>create_date</code>，<code>write_uid</code>，...）应生成（默认值：<code>True</code>）</p>
                                                                                                                                                        <h6>
                                                                                                                                                            <a name='header-n464' class='md-header-anchor '></a><code>create_date</code></h6>
                                                                                                                                                        <p><span>	</span>创建记录的日期</p>
                                                                                                                                                        <p><span>	</span>类型</p>
                                                                                                                                                        <p><span>		</span><code>Datetime</code></p>
                                                                                                                                                        <h6>
                                                                                                                                                            <a name='header-n468' class='md-header-anchor '></a><code>create_uid</code></h6>
                                                                                                                                                        <p><span>	</span>创建记录的用户的关系字段</p>
                                                                                                                                                        <p><span>	</span>类型</p>
                                                                                                                                                        <p><span>		</span><code>res.users</code></p>
                                                                                                                                                        <h6>
                                                                                                                                                            <a name='header-n472' class='md-header-anchor '></a><code>write_date</code></h6>
                                                                                                                                                        <p><span>	</span>上次修改记录的日期</p>
                                                                                                                                                        <p><span>	</span>类型</p>
                                                                                                                                                        <p><span>		</span><code>Datetime</code></p>
                                                                                                                                                        <h6>
                                                                                                                                                            <a name='header-n476' class='md-header-anchor '></a><code>write_uid</code></h6>
                                                                                                                                                        <p><span>	</span>修改记录的最后一个用户的关系字段</p>
                                                                                                                                                        <p><span>	</span>类型</p>
                                                                                                                                                        <p><span>		</span><code>res.users</code></p>
                                                                                                                                                        <p>&nbsp;</p>
                                                                                                                                                        <h2>
                                                                                                                                                            <a name='header-n481' class='md-header-anchor '></a>字段</h2>
                                                                                                                                                        <h3>
                                                                                                                                                            <a name='header-n482' class='md-header-anchor '></a>基本领域</h3>
                                                                                                                                                        <h6>
                                                                                                                                                            <a name='header-n483' class='md-header-anchor '></a><code>class odoo.fields.Field(string=&lt;object object&gt;, **kwargs)</code></h6>
                                                                                                                                                        <p>字段描述符包含字段定义，并管理记录上相应字段的访问和分配。在实例化字段时可能会提供以下属性：</p>
                                                                                                                                                        <p>参数</p>
                                                                                                                                                        <ul>
                                                                                                                                                            <li><strong>string</strong> - 用户看到的字段的标签（字符串）; 如果未设置，ORM将获取类中的字段名称（大写）。</li>
                                                                                                                                                            <li><strong>help</strong> - 用户看到的字段的工具提示（字符串）</li>
                                                                                                                                                            <li><strong>readonly</strong> - 字段是否为readonly（默认为boolean <code>False</code>）</li>
                                                                                                                                                            <li><strong>required</strong> - 是否<strong>需要</strong>字段的值（默认为boolean <code>False</code>）</li>
                                                                                                                                                            <li><strong>index</strong> - 字段是否在数据库中建立索引（默认为布尔值<code>False</code>）</li>
                                                                                                                                                            <li><strong>default</strong> - 字段的默认值; 这可以是静态值，也可以是记录集并返回值的函数; 用于 <code>default=None</code>丢弃该字段的默认值</li>
                                                                                                                                                            <li><strong>states</strong> - 将状态值映射到UI属性 - 值对列表的字典; 可能的属性是：&#39;readonly&#39;，&#39;required&#39;，&#39;invisible&#39;。注意：任何基于状态的条件都要求<code>state</code>在客户端UI上提供字段值。这通常通过将其包括在相关视图中来完成，如果与最终用户不相关，则可能使其不可见。</li>
                                                                                                                                                            <li><strong>groups</strong> - 以逗号分隔的组xml id列表（字符串）; 这限制了仅对给定组的用户的字段访问</li>
                                                                                                                                                            <li><strong>copy</strong>（<a href='https://docs.python.org/3/library/functions.html#bool'><code>bool</code></a>）
                                                                                                                                                                - 是否应在复制记录时复制字段值（默认值：<code>True</code>对于普通字段，<code>False</code>对于 <code>one2many</code>和计算字段，包括属性字段和相关字段）</li>
                                                                                                                                                            <li><strong>oldname</strong>（<code>string</code>） - 此字段的先前名称，以便ORM可以在迁移时自动重命名</li>
                                                                                                                                                        </ul>
                                                                                                                                                        <h4>
                                                                                                                                                            <a name='header-n507' class='md-header-anchor '></a>计算字段</h4>
                                                                                                                                                        <p>可以定义一个字段，其值是计算的，而不是简单地从数据库中读取。下面给出了特定于计算字段的属性。要定义此类字段，只需为该属性提供值即可<code>compute</code>。</p>
                                                                                                                                                        <p>参数</p>
                                                                                                                                                        <ul>
                                                                                                                                                            <li><strong>compute</strong> - 计算字段的方法的名称</li>
                                                                                                                                                            <li><strong>inverse</strong> - 反转字段的方法的名称（可选）</li>
                                                                                                                                                            <li><strong>search</strong> - 在字段上实现搜索的方法的名称（可选）</li>
                                                                                                                                                            <li><strong>store</strong> - 字段是否存储在数据库中（默认情况下，<code>False</code>在计算字段上为boolean ）</li>
                                                                                                                                                            <li><strong>compute_sudo</strong> - 是否应将该字段重新计算为超级用户以绕过访问权限（默认为布尔值<code>False</code>）请注意，这对非存储的计算字段没有影响</li>
                                                                                                                                                        </ul>
                                                                                                                                                        <p>对于给定的方法<code>compute</code>，<code>inverse</code>并<code>search</code>在模型的方法。它们的签名如下例所示：</p><pre spellcheck="false"
                                                                                                                                                            class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div>
                                                                                                                                                        <div
                                                                                                                                                            class="CodeMirror-measure"></div>
                                                                                                                                                            <div style="position: relative; z-index: 1;"></div>
                                                                                                                                                            <div class="CodeMirror-code" role="presentation" style="">
                                                                                                                                                                <div class="CodeMirror-activeline" style="position: relative;">
                                                                                                                                                                    <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                                                                                                                                    <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">upper</span> = <span class="cm-variable">fields</span>.<span class="cm-property">Char</span>(<span class="cm-variable">compute</span>=<span class="cm-string">'_compute_upper'</span>,</span></pre></div>
                                                                                                                                                                <pre
                                                                                                                                                                    class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">inverse</span>=
                                                                                                                                                                    <span
                                                                                                                                                                        class="cm-string">'_inverse_upper'</span>,</span>
                                                                                                                                                                        </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">search</span>=<span class="cm-string">'_search_upper'</span>)</span></pre>
                                                                                                                                                                        <pre
                                                                                                                                                                            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span>
                                                                                                                                                                            </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@api</span>.<span class="cm-property">depends</span>(<span class="cm-string">'name'</span>)</span></pre>
                                                                                                                                                                            <pre
                                                                                                                                                                                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">def</span>                                                                                                                                                                                <span class="cm-def">_compute_upper</span>(<span class="cm-variable-2">self</span>):</span>
                                                                                                                                                                                </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span> <span class="cm-variable">rec</span> <span class="cm-keyword">in</span> <span class="cm-variable-2">self</span>:</span></pre>
                                                                                                                                                                                <pre
                                                                                                                                                                                    class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">rec</span>.
                                                                                                                                                                                    <span
                                                                                                                                                                                        class="cm-property">upper</span> = <span class="cm-variable">rec</span>.<span class="cm-property">name</span>.
                                                                                                                                                                                        <span
                                                                                                                                                                                            class="cm-property">upper</span>() <span class="cm-keyword">if</span> <span class="cm-variable">rec</span>.
                                                                                                                                                                                            <span
                                                                                                                                                                                                class="cm-property">name</span> <span class="cm-keyword">else</span> <span class="cm-keyword">False</span></span>
                                                                                                                                                                                                </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                                                                                                                                                                                                <pre
                                                                                                                                                                                                    class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">def</span>                                                                                                                                                                                                    <span class="cm-def">_inverse_upper</span>(<span class="cm-variable-2">self</span>):</span>
                                                                                                                                                                                                    </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span> <span class="cm-variable">rec</span> <span class="cm-keyword">in</span> <span class="cm-variable-2">self</span>:</span></pre>
                                                                                                                                                                                                    <pre
                                                                                                                                                                                                        class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">rec</span>.
                                                                                                                                                                                                        <span
                                                                                                                                                                                                            class="cm-property">name</span> = <span class="cm-variable">rec</span>.
                                                                                                                                                                                                            <span
                                                                                                                                                                                                                class="cm-property">upper</span>.<span class="cm-property">lower</span>()
                                                                                                                                                                                                                <span class="cm-keyword">if</span> <span class="cm-variable">rec</span>.
                                                                                                                                                                                                                <span
                                                                                                                                                                                                                    class="cm-property">upper</span> <span class="cm-keyword">else</span>                                                                                                                                                                                                                    <span class="cm-keyword">False</span></span>
                                                                                                                                                                                                                    </pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                                                                                                                                                                                                                    <pre
                                                                                                                                                                                                                        class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">def</span>                                                                                                                                                                                                                        <span class="cm-def">_search_upper</span>(
                                                                                                                                                                                                                        <span
                                                                                                                                                                                                                            class="cm-variable-2">self</span>, <span class="cm-variable">operator</span>,
                                                                                                                                                                                                                            <span class="cm-variable">value</span>):</span>
                                                                                                                                                                                                                            </pre><pre class=" CodeMirror-line "
                                                                                                                                                                                                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span> <span class="cm-variable">operator</span> == <span class="cm-string">'like'</span>:</span></pre>
                                                                                                                                                                                                                            <pre
                                                                                                                                                                                                                                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">operator</span>                                                                                                                                                                                                                                = <span class="cm-string">'ilike'</span></span>
                                                                                                                                                                                                                                </pre><pre class=" CodeMirror-line "
                                                                                                                                                                                                                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> [(<span class="cm-string">'name'</span>, <span class="cm-variable">operator</span>, <span class="cm-variable">value</span>)]</span></pre></div>
                                                                                                                                                            </div>
                                                                                                                                                            </div>
                                                                                                                                                            </div>
                                                                                                                                                            </div>
                                                                                                                                                            <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 408px;"></div>
                                                                                                                                                            <div class="CodeMirror-gutters" style="display: none; height: 408px;"></div>
                                                                                                                                                            </div>
                                                                                                                                                            </div>
                                                                                                                                                            </pre>
                                                                                                                                                            <p>compute方法必须在调用的记录集的所有记录上分配字段。<a href='https://www.odoo.com/documentation/12.0/reference/orm.html#odoo.api.depends'><code>odoo.api.depends()</code></a>必须在compute方法上应用装饰器来指定字段依赖性;
                                                                                                                                                                这些依赖关系用于确定何时重新计算字段; 重新计算是自动的，并保证缓存/数据库的一致性。请注意，相同的方法可用于多个字段，您只需分配方法中的所有给定字段; 对于所有这些字段，将调用该方法一次。</p>
                                                                                                                                                            <p>默认情况下，计算字段不会存储到数据库中，而是即时计算。添加属性<code>store=True</code>会将字段的值存储在数据库中。存储字段的优点是在该字段上搜索由数据库本身完成。缺点是在必须重新计算字段时需要数据库更新。</p>
                                                                                                                                                            <p>inverse正如其名称所示，反向方法执行计算方法的反转：调用的记录具有字段的值，您必须对字段依赖项应用必要的更改，以便计算给出预期值。请注意，默认情况下，只读取没有逆方法的计算字段。</p>
                                                                                                                                                            <p>在对模型进行实际搜索之前处理域时会调用搜索方法。它必须返回一个等同于条件的域：<code>field operator value</code>。</p>
                                                                                                                                                            <p>&nbsp;</p>
                                                                                                                                                            <p>&nbsp;</p>
                                                                                                                                                            <p>&nbsp;</p>
                                                                                                                                                            <p>&nbsp;</p>
                                                                                                                                                            <p>&nbsp;</p>
                                                                                                                                                            <p>&nbsp;</p>
                                                                                                                                                            </div>
</body>

</html>